function yS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Kd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r_={exports:{}},Qd={},s_={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cc=Symbol.for("react.element"),xS=Symbol.for("react.portal"),wS=Symbol.for("react.fragment"),_S=Symbol.for("react.strict_mode"),bS=Symbol.for("react.profiler"),ES=Symbol.for("react.provider"),kS=Symbol.for("react.context"),TS=Symbol.for("react.forward_ref"),SS=Symbol.for("react.suspense"),NS=Symbol.for("react.memo"),IS=Symbol.for("react.lazy"),xy=Symbol.iterator;function CS(t){return t===null||typeof t!="object"?null:(t=xy&&t[xy]||t["@@iterator"],typeof t=="function"?t:null)}var i_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a_=Object.assign,o_={};function po(t,e,n){this.props=t,this.context=e,this.refs=o_,this.updater=n||i_}po.prototype.isReactComponent={};po.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};po.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l_(){}l_.prototype=po.prototype;function Sp(t,e,n){this.props=t,this.context=e,this.refs=o_,this.updater=n||i_}var Np=Sp.prototype=new l_;Np.constructor=Sp;a_(Np,po.prototype);Np.isPureReactComponent=!0;var wy=Array.isArray,c_=Object.prototype.hasOwnProperty,Ip={current:null},u_={key:!0,ref:!0,__self:!0,__source:!0};function d_(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)c_.call(e,r)&&!u_.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:cc,type:t,key:i,ref:a,props:s,_owner:Ip.current}}function AS(t,e){return{$$typeof:cc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cp(t){return typeof t=="object"&&t!==null&&t.$$typeof===cc}function RS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _y=/\/+/g;function Yh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RS(""+t.key):e.toString(36)}function wu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case cc:case xS:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Yh(a,0):r,wy(s)?(n="",t!=null&&(n=t.replace(_y,"$&/")+"/"),wu(s,e,n,"",function(d){return d})):s!=null&&(Cp(s)&&(s=AS(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(_y,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",wy(t))for(var o=0;o<t.length;o++){i=t[o];var c=r+Yh(i,o);a+=wu(i,e,n,c,s)}else if(c=CS(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=r+Yh(i,o++),a+=wu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Bc(t,e,n){if(t==null)return t;var r=[],s=0;return wu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function PS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},_u={transition:null},jS={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:_u,ReactCurrentOwner:Ip};function h_(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Bc,forEach:function(t,e,n){Bc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bc(t,function(){e++}),e},toArray:function(t){return Bc(t,function(e){return e})||[]},only:function(t){if(!Cp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=po;Ne.Fragment=wS;Ne.Profiler=bS;Ne.PureComponent=Sp;Ne.StrictMode=_S;Ne.Suspense=SS;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jS;Ne.act=h_;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=a_({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Ip.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)c_.call(e,c)&&!u_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:cc,type:t.type,key:s,ref:i,props:r,_owner:a}};Ne.createContext=function(t){return t={$$typeof:kS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ES,_context:t},t.Consumer=t};Ne.createElement=d_;Ne.createFactory=function(t){var e=d_.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:TS,render:t}};Ne.isValidElement=Cp;Ne.lazy=function(t){return{$$typeof:IS,_payload:{_status:-1,_result:t},_init:PS}};Ne.memo=function(t,e){return{$$typeof:NS,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=_u.transition;_u.transition={};try{t()}finally{_u.transition=e}};Ne.unstable_act=h_;Ne.useCallback=function(t,e){return cn.current.useCallback(t,e)};Ne.useContext=function(t){return cn.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return cn.current.useEffect(t,e)};Ne.useId=function(){return cn.current.useId()};Ne.useImperativeHandle=function(t,e,n){return cn.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return cn.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return cn.current.useReducer(t,e,n)};Ne.useRef=function(t){return cn.current.useRef(t)};Ne.useState=function(t){return cn.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return cn.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return cn.current.useTransition()};Ne.version="18.3.1";s_.exports=Ne;var U=s_.exports;const $=Kd(U),DS=yS({__proto__:null,default:$},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OS=U,MS=Symbol.for("react.element"),VS=Symbol.for("react.fragment"),LS=Object.prototype.hasOwnProperty,US=OS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FS={key:!0,ref:!0,__self:!0,__source:!0};function f_(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)LS.call(e,r)&&!FS.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:MS,type:t,key:i,ref:a,props:s,_owner:US.current}}Qd.Fragment=VS;Qd.jsx=f_;Qd.jsxs=f_;r_.exports=Qd;var l=r_.exports,zf={},m_={exports:{}},jn={},p_={exports:{}},g_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,L){var Y=W.length;W.push(L);e:for(;0<Y;){var le=Y-1>>>1,se=W[le];if(0<s(se,L))W[le]=L,W[Y]=se,Y=le;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var L=W[0],Y=W.pop();if(Y!==L){W[0]=Y;e:for(var le=0,se=W.length,he=se>>>1;le<he;){var Te=2*(le+1)-1,De=W[Te],Ct=Te+1,Ie=W[Ct];if(0>s(De,Y))Ct<se&&0>s(Ie,De)?(W[le]=Ie,W[Ct]=Y,le=Ct):(W[le]=De,W[Te]=Y,le=Te);else if(Ct<se&&0>s(Ie,Y))W[le]=Ie,W[Ct]=Y,le=Ct;else break e}}return L}function s(W,L){var Y=W.sortIndex-L.sortIndex;return Y!==0?Y:W.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],d=[],h=1,m=null,p=3,g=!1,I=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(W){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=W)r(d),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(d)}}function j(W){if(C=!1,w(W),!I)if(n(c)!==null)I=!0,fe(P);else{var L=n(d);L!==null&&q(j,L.startTime-W)}}function P(W,L){I=!1,C&&(C=!1,k(y),y=-1),g=!0;var Y=p;try{for(w(L),m=n(c);m!==null&&(!(m.expirationTime>L)||W&&!A());){var le=m.callback;if(typeof le=="function"){m.callback=null,p=m.priorityLevel;var se=le(m.expirationTime<=L);L=t.unstable_now(),typeof se=="function"?m.callback=se:m===n(c)&&r(c),w(L)}else r(c);m=n(c)}if(m!==null)var he=!0;else{var Te=n(d);Te!==null&&q(j,Te.startTime-L),he=!1}return he}finally{m=null,p=Y,g=!1}}var O=!1,b=null,y=-1,E=5,T=-1;function A(){return!(t.unstable_now()-T<E)}function R(){if(b!==null){var W=t.unstable_now();T=W;var L=!0;try{L=b(!0,W)}finally{L?N():(O=!1,b=null)}}else O=!1}var N;if(typeof x=="function")N=function(){x(R)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,te=ie.port2;ie.port1.onmessage=R,N=function(){te.postMessage(null)}}else N=function(){S(R,0)};function fe(W){b=W,O||(O=!0,N())}function q(W,L){y=S(function(){W(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){I||g||(I=!0,fe(P))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var Y=p;p=L;try{return W()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,L){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=p;p=W;try{return L()}finally{p=Y}},t.unstable_scheduleCallback=function(W,L,Y){var le=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?le+Y:le):Y=le,W){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Y+se,W={id:h++,callback:L,priorityLevel:W,startTime:Y,expirationTime:se,sortIndex:-1},Y>le?(W.sortIndex=Y,e(d,W),n(c)===null&&W===n(d)&&(C?(k(y),y=-1):C=!0,q(j,Y-le))):(W.sortIndex=se,e(c,W),I||g||(I=!0,fe(P))),W},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(W){var L=p;return function(){var Y=p;p=L;try{return W.apply(this,arguments)}finally{p=Y}}}})(g_);p_.exports=g_;var zS=p_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S=U,Rn=zS;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v_=new Set,Cl={};function Xi(t,e){Ha(t,e),Ha(t+"Capture",e)}function Ha(t,e){for(Cl[t]=e,t=0;t<e.length;t++)v_.add(e[t])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$f=Object.prototype.hasOwnProperty,BS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,by={},Ey={};function WS(t){return $f.call(Ey,t)?!0:$f.call(by,t)?!1:BS.test(t)?Ey[t]=!0:(by[t]=!0,!1)}function qS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HS(t,e,n,r){if(e===null||typeof e>"u"||qS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ap=/[\-:]([a-z])/g;function Rp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ap,Rp);Wt[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ap,Rp);Wt[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ap,Rp);Wt[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pp(t,e,n,r){var s=Wt.hasOwnProperty(e)?Wt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HS(e,n,s,r)&&(n=null),r||s===null?WS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var as=$S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wc=Symbol.for("react.element"),wa=Symbol.for("react.portal"),_a=Symbol.for("react.fragment"),jp=Symbol.for("react.strict_mode"),Bf=Symbol.for("react.profiler"),y_=Symbol.for("react.provider"),x_=Symbol.for("react.context"),Dp=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),qf=Symbol.for("react.suspense_list"),Op=Symbol.for("react.memo"),_s=Symbol.for("react.lazy"),w_=Symbol.for("react.offscreen"),ky=Symbol.iterator;function Lo(t){return t===null||typeof t!="object"?null:(t=ky&&t[ky]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,Xh;function Jo(t){if(Xh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xh=e&&e[1]||""}return`
`+Xh+t}var Zh=!1;function Jh(t,e){if(!t||Zh)return"";Zh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{Zh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jo(t):""}function GS(t){switch(t.tag){case 5:return Jo(t.type);case 16:return Jo("Lazy");case 13:return Jo("Suspense");case 19:return Jo("SuspenseList");case 0:case 2:case 15:return t=Jh(t.type,!1),t;case 11:return t=Jh(t.type.render,!1),t;case 1:return t=Jh(t.type,!0),t;default:return""}}function Hf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _a:return"Fragment";case wa:return"Portal";case Bf:return"Profiler";case jp:return"StrictMode";case Wf:return"Suspense";case qf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x_:return(t.displayName||"Context")+".Consumer";case y_:return(t._context.displayName||"Context")+".Provider";case Dp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Op:return e=t.displayName||null,e!==null?e:Hf(t.type)||"Memo";case _s:e=t._payload,t=t._init;try{return Hf(t(e))}catch{}}return null}function KS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hf(e);case 8:return e===jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function __(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QS(t){var e=__(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qc(t){t._valueTracker||(t._valueTracker=QS(t))}function b_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=__(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gf(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ty(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function E_(t,e){e=e.checked,e!=null&&Pp(t,"checked",e,!1)}function Kf(t,e){E_(t,e);var n=Zs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qf(t,e.type,Zs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qf(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var el=Array.isArray;function ja(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ny(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(el(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zs(n)}}function k_(t,e){var n=Zs(e.value),r=Zs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Iy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function T_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?T_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hc,S_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hc=Hc||document.createElement("div"),Hc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YS=["Webkit","ms","Moz","O"];Object.keys(ul).forEach(function(t){YS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ul[e]=ul[t]})});function N_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ul.hasOwnProperty(t)&&ul[t]?(""+e).trim():e+"px"}function I_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=N_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var XS=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zf(t,e){if(e){if(XS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Jf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var em=null;function Mp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tm=null,Da=null,Oa=null;function Cy(t){if(t=hc(t)){if(typeof tm!="function")throw Error(G(280));var e=t.stateNode;e&&(e=eh(e),tm(t.stateNode,t.type,e))}}function C_(t){Da?Oa?Oa.push(t):Oa=[t]:Da=t}function A_(){if(Da){var t=Da,e=Oa;if(Oa=Da=null,Cy(t),e)for(t=0;t<e.length;t++)Cy(e[t])}}function R_(t,e){return t(e)}function P_(){}var ef=!1;function j_(t,e,n){if(ef)return t(e,n);ef=!0;try{return R_(t,e,n)}finally{ef=!1,(Da!==null||Oa!==null)&&(P_(),A_())}}function Rl(t,e){var n=t.stateNode;if(n===null)return null;var r=eh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var nm=!1;if(Xr)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){nm=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{nm=!1}function ZS(t,e,n,r,s,i,a,o,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var dl=!1,Gu=null,Ku=!1,rm=null,JS={onError:function(t){dl=!0,Gu=t}};function eN(t,e,n,r,s,i,a,o,c){dl=!1,Gu=null,ZS.apply(JS,arguments)}function tN(t,e,n,r,s,i,a,o,c){if(eN.apply(this,arguments),dl){if(dl){var d=Gu;dl=!1,Gu=null}else throw Error(G(198));Ku||(Ku=!0,rm=d)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function D_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ay(t){if(Zi(t)!==t)throw Error(G(188))}function nN(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ay(s),t;if(i===r)return Ay(s),e;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function O_(t){return t=nN(t),t!==null?M_(t):null}function M_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=M_(t);if(e!==null)return e;t=t.sibling}return null}var V_=Rn.unstable_scheduleCallback,Ry=Rn.unstable_cancelCallback,rN=Rn.unstable_shouldYield,sN=Rn.unstable_requestPaint,pt=Rn.unstable_now,iN=Rn.unstable_getCurrentPriorityLevel,Vp=Rn.unstable_ImmediatePriority,L_=Rn.unstable_UserBlockingPriority,Qu=Rn.unstable_NormalPriority,aN=Rn.unstable_LowPriority,U_=Rn.unstable_IdlePriority,Yd=null,Tr=null;function oN(t){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(Yd,t,void 0,(t.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:uN,lN=Math.log,cN=Math.LN2;function uN(t){return t>>>=0,t===0?32:31-(lN(t)/cN|0)|0}var Gc=64,Kc=4194304;function tl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=tl(o):(i&=a,i!==0&&(r=tl(i)))}else a=n&~s,a!==0?r=tl(a):i!==0&&(r=tl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ar(e),s=1<<n,r|=t[n],e&=~s;return r}function dN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-ar(i),o=1<<a,c=s[a];c===-1?(!(o&n)||o&r)&&(s[a]=dN(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function sm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function F_(){var t=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),t}function tf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ar(e),t[e]=n}function fN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ar(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Lp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ar(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Be=0;function z_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $_,Up,B_,W_,q_,im=!1,Qc=[],Ls=null,Us=null,Fs=null,Pl=new Map,jl=new Map,ks=[],mN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Py(t,e){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":Pl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(e.pointerId)}}function Fo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=hc(e),e!==null&&Up(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function pN(t,e,n,r,s){switch(e){case"focusin":return Ls=Fo(Ls,t,e,n,r,s),!0;case"dragenter":return Us=Fo(Us,t,e,n,r,s),!0;case"mouseover":return Fs=Fo(Fs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pl.set(i,Fo(Pl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,jl.set(i,Fo(jl.get(i)||null,t,e,n,r,s)),!0}return!1}function H_(t){var e=Ci(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=D_(n),e!==null){t.blockedOn=e,q_(t.priority,function(){B_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=am(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);em=r,n.target.dispatchEvent(r),em=null}else return e=hc(n),e!==null&&Up(e),t.blockedOn=n,!1;e.shift()}return!0}function jy(t,e,n){bu(t)&&n.delete(e)}function gN(){im=!1,Ls!==null&&bu(Ls)&&(Ls=null),Us!==null&&bu(Us)&&(Us=null),Fs!==null&&bu(Fs)&&(Fs=null),Pl.forEach(jy),jl.forEach(jy)}function zo(t,e){t.blockedOn===e&&(t.blockedOn=null,im||(im=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,gN)))}function Dl(t){function e(s){return zo(s,t)}if(0<Qc.length){zo(Qc[0],t);for(var n=1;n<Qc.length;n++){var r=Qc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ls!==null&&zo(Ls,t),Us!==null&&zo(Us,t),Fs!==null&&zo(Fs,t),Pl.forEach(e),jl.forEach(e),n=0;n<ks.length;n++)r=ks[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ks.length&&(n=ks[0],n.blockedOn===null);)H_(n),n.blockedOn===null&&ks.shift()}var Ma=as.ReactCurrentBatchConfig,Xu=!0;function vN(t,e,n,r){var s=Be,i=Ma.transition;Ma.transition=null;try{Be=1,Fp(t,e,n,r)}finally{Be=s,Ma.transition=i}}function yN(t,e,n,r){var s=Be,i=Ma.transition;Ma.transition=null;try{Be=4,Fp(t,e,n,r)}finally{Be=s,Ma.transition=i}}function Fp(t,e,n,r){if(Xu){var s=am(t,e,n,r);if(s===null)hf(t,e,r,Zu,n),Py(t,r);else if(pN(s,t,e,n,r))r.stopPropagation();else if(Py(t,r),e&4&&-1<mN.indexOf(t)){for(;s!==null;){var i=hc(s);if(i!==null&&$_(i),i=am(t,e,n,r),i===null&&hf(t,e,r,Zu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else hf(t,e,r,null,n)}}var Zu=null;function am(t,e,n,r){if(Zu=null,t=Mp(r),t=Ci(t),t!==null)if(e=Zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=D_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zu=t,null}function G_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iN()){case Vp:return 1;case L_:return 4;case Qu:case aN:return 16;case U_:return 536870912;default:return 16}default:return 16}}var Ps=null,zp=null,Eu=null;function K_(){if(Eu)return Eu;var t,e=zp,n=e.length,r,s="value"in Ps?Ps.value:Ps.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Eu=s.slice(t,1<r?1-r:void 0)}function ku(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yc(){return!0}function Dy(){return!1}function Dn(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yc:Dy,this.isPropagationStopped=Dy,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),e}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$p=Dn(go),dc=st({},go,{view:0,detail:0}),xN=Dn(dc),nf,rf,$o,Xd=st({},dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$o&&($o&&t.type==="mousemove"?(nf=t.screenX-$o.screenX,rf=t.screenY-$o.screenY):rf=nf=0,$o=t),nf)},movementY:function(t){return"movementY"in t?t.movementY:rf}}),Oy=Dn(Xd),wN=st({},Xd,{dataTransfer:0}),_N=Dn(wN),bN=st({},dc,{relatedTarget:0}),sf=Dn(bN),EN=st({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),kN=Dn(EN),TN=st({},go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SN=Dn(TN),NN=st({},go,{data:0}),My=Dn(NN),IN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AN[t])?!!e[t]:!1}function Bp(){return RN}var PN=st({},dc,{key:function(t){if(t.key){var e=IN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ku(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bp,charCode:function(t){return t.type==="keypress"?ku(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ku(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jN=Dn(PN),DN=st({},Xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vy=Dn(DN),ON=st({},dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bp}),MN=Dn(ON),VN=st({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),LN=Dn(VN),UN=st({},Xd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FN=Dn(UN),zN=[9,13,27,32],Wp=Xr&&"CompositionEvent"in window,hl=null;Xr&&"documentMode"in document&&(hl=document.documentMode);var $N=Xr&&"TextEvent"in window&&!hl,Q_=Xr&&(!Wp||hl&&8<hl&&11>=hl),Ly=" ",Uy=!1;function Y_(t,e){switch(t){case"keyup":return zN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function BN(t,e){switch(t){case"compositionend":return X_(e);case"keypress":return e.which!==32?null:(Uy=!0,Ly);case"textInput":return t=e.data,t===Ly&&Uy?null:t;default:return null}}function WN(t,e){if(ba)return t==="compositionend"||!Wp&&Y_(t,e)?(t=K_(),Eu=zp=Ps=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Q_&&e.locale!=="ko"?null:e.data;default:return null}}var qN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qN[t.type]:e==="textarea"}function Z_(t,e,n,r){C_(r),e=Ju(e,"onChange"),0<e.length&&(n=new $p("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fl=null,Ol=null;function HN(t){cb(t,0)}function Zd(t){var e=Ta(t);if(b_(e))return t}function GN(t,e){if(t==="change")return e}var J_=!1;if(Xr){var af;if(Xr){var of="oninput"in document;if(!of){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),of=typeof zy.oninput=="function"}af=of}else af=!1;J_=af&&(!document.documentMode||9<document.documentMode)}function $y(){fl&&(fl.detachEvent("onpropertychange",eb),Ol=fl=null)}function eb(t){if(t.propertyName==="value"&&Zd(Ol)){var e=[];Z_(e,Ol,t,Mp(t)),j_(HN,e)}}function KN(t,e,n){t==="focusin"?($y(),fl=e,Ol=n,fl.attachEvent("onpropertychange",eb)):t==="focusout"&&$y()}function QN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zd(Ol)}function YN(t,e){if(t==="click")return Zd(e)}function XN(t,e){if(t==="input"||t==="change")return Zd(e)}function ZN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:ZN;function Ml(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$f.call(e,s)||!lr(t[s],e[s]))return!1}return!0}function By(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wy(t,e){var n=By(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=By(n)}}function tb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nb(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function qp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JN(t){var e=nb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tb(n.ownerDocument.documentElement,n)){if(r!==null&&qp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Wy(n,i);var a=Wy(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eI=Xr&&"documentMode"in document&&11>=document.documentMode,Ea=null,om=null,ml=null,lm=!1;function qy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lm||Ea==null||Ea!==Hu(r)||(r=Ea,"selectionStart"in r&&qp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ml&&Ml(ml,r)||(ml=r,r=Ju(om,"onSelect"),0<r.length&&(e=new $p("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ea)))}function Xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ka={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},lf={},rb={};Xr&&(rb=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Jd(t){if(lf[t])return lf[t];if(!ka[t])return t;var e=ka[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rb)return lf[t]=e[n];return t}var sb=Jd("animationend"),ib=Jd("animationiteration"),ab=Jd("animationstart"),ob=Jd("transitionend"),lb=new Map,Hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(t,e){lb.set(t,e),Xi(e,[t])}for(var cf=0;cf<Hy.length;cf++){var uf=Hy[cf],tI=uf.toLowerCase(),nI=uf[0].toUpperCase()+uf.slice(1);ai(tI,"on"+nI)}ai(sb,"onAnimationEnd");ai(ib,"onAnimationIteration");ai(ab,"onAnimationStart");ai("dblclick","onDoubleClick");ai("focusin","onFocus");ai("focusout","onBlur");ai(ob,"onTransitionEnd");Ha("onMouseEnter",["mouseout","mouseover"]);Ha("onMouseLeave",["mouseout","mouseover"]);Ha("onPointerEnter",["pointerout","pointerover"]);Ha("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rI=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function Gy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tN(r,e,void 0,t),t.currentTarget=null}function cb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Gy(s,o,d),i=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Gy(s,o,d),i=c}}}if(Ku)throw t=rm,Ku=!1,rm=null,t}function Ye(t,e){var n=e[fm];n===void 0&&(n=e[fm]=new Set);var r=t+"__bubble";n.has(r)||(ub(e,t,2,!1),n.add(r))}function df(t,e,n){var r=0;e&&(r|=4),ub(n,t,r,e)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Vl(t){if(!t[Zc]){t[Zc]=!0,v_.forEach(function(n){n!=="selectionchange"&&(rI.has(n)||df(n,!1,t),df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zc]||(e[Zc]=!0,df("selectionchange",!1,e))}}function ub(t,e,n,r){switch(G_(e)){case 1:var s=vN;break;case 4:s=yN;break;default:s=Fp}n=s.bind(null,e,n,t),s=void 0,!nm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function hf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Ci(o),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}o=o.parentNode}}r=r.return}j_(function(){var d=i,h=Mp(n),m=[];e:{var p=lb.get(t);if(p!==void 0){var g=$p,I=t;switch(t){case"keypress":if(ku(n)===0)break e;case"keydown":case"keyup":g=jN;break;case"focusin":I="focus",g=sf;break;case"focusout":I="blur",g=sf;break;case"beforeblur":case"afterblur":g=sf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_N;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=MN;break;case sb:case ib:case ab:g=kN;break;case ob:g=LN;break;case"scroll":g=xN;break;case"wheel":g=FN;break;case"copy":case"cut":case"paste":g=SN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Vy}var C=(e&4)!==0,S=!C&&t==="scroll",k=C?p!==null?p+"Capture":null:p;C=[];for(var x=d,w;x!==null;){w=x;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,k!==null&&(j=Rl(x,k),j!=null&&C.push(Ll(x,j,w)))),S)break;x=x.return}0<C.length&&(p=new g(p,I,null,n,h),m.push({event:p,listeners:C}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==em&&(I=n.relatedTarget||n.fromElement)&&(Ci(I)||I[Zr]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(I=n.relatedTarget||n.toElement,g=d,I=I?Ci(I):null,I!==null&&(S=Zi(I),I!==S||I.tag!==5&&I.tag!==6)&&(I=null)):(g=null,I=d),g!==I)){if(C=Oy,j="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(C=Vy,j="onPointerLeave",k="onPointerEnter",x="pointer"),S=g==null?p:Ta(g),w=I==null?p:Ta(I),p=new C(j,x+"leave",g,n,h),p.target=S,p.relatedTarget=w,j=null,Ci(h)===d&&(C=new C(k,x+"enter",I,n,h),C.target=w,C.relatedTarget=S,j=C),S=j,g&&I)t:{for(C=g,k=I,x=0,w=C;w;w=ha(w))x++;for(w=0,j=k;j;j=ha(j))w++;for(;0<x-w;)C=ha(C),x--;for(;0<w-x;)k=ha(k),w--;for(;x--;){if(C===k||k!==null&&C===k.alternate)break t;C=ha(C),k=ha(k)}C=null}else C=null;g!==null&&Ky(m,p,g,C,!1),I!==null&&S!==null&&Ky(m,S,I,C,!0)}}e:{if(p=d?Ta(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=GN;else if(Fy(p))if(J_)P=XN;else{P=QN;var O=KN}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=YN);if(P&&(P=P(t,d))){Z_(m,P,n,h);break e}O&&O(t,p,d),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Qf(p,"number",p.value)}switch(O=d?Ta(d):window,t){case"focusin":(Fy(O)||O.contentEditable==="true")&&(Ea=O,om=d,ml=null);break;case"focusout":ml=om=Ea=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,qy(m,n,h);break;case"selectionchange":if(eI)break;case"keydown":case"keyup":qy(m,n,h)}var b;if(Wp)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else ba?Y_(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Q_&&n.locale!=="ko"&&(ba||y!=="onCompositionStart"?y==="onCompositionEnd"&&ba&&(b=K_()):(Ps=h,zp="value"in Ps?Ps.value:Ps.textContent,ba=!0)),O=Ju(d,y),0<O.length&&(y=new My(y,t,null,n,h),m.push({event:y,listeners:O}),b?y.data=b:(b=X_(n),b!==null&&(y.data=b)))),(b=$N?BN(t,n):WN(t,n))&&(d=Ju(d,"onBeforeInput"),0<d.length&&(h=new My("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:d}),h.data=b))}cb(m,e)})}function Ll(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ju(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rl(t,n),i!=null&&r.unshift(Ll(t,i,s)),i=Rl(t,e),i!=null&&r.push(Ll(t,i,s))),t=t.return}return r}function ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ky(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,s?(c=Rl(n,i),c!=null&&a.unshift(Ll(n,c,o))):s||(c=Rl(n,i),c!=null&&a.push(Ll(n,c,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var sI=/\r\n?/g,iI=/\u0000|\uFFFD/g;function Qy(t){return(typeof t=="string"?t:""+t).replace(sI,`
`).replace(iI,"")}function Jc(t,e,n){if(e=Qy(e),Qy(t)!==e&&n)throw Error(G(425))}function ed(){}var cm=null,um=null;function dm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hm=typeof setTimeout=="function"?setTimeout:void 0,aI=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,oI=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(t){return Yy.resolve(null).then(t).catch(lI)}:hm;function lI(t){setTimeout(function(){throw t})}function ff(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dl(e)}function zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vo=Math.random().toString(36).slice(2),wr="__reactFiber$"+vo,Ul="__reactProps$"+vo,Zr="__reactContainer$"+vo,fm="__reactEvents$"+vo,cI="__reactListeners$"+vo,uI="__reactHandles$"+vo;function Ci(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zr]||n[wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xy(t);t!==null;){if(n=t[wr])return n;t=Xy(t)}return e}t=n,n=t.parentNode}return null}function hc(t){return t=t[wr]||t[Zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ta(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function eh(t){return t[Ul]||null}var mm=[],Sa=-1;function oi(t){return{current:t}}function Ze(t){0>Sa||(t.current=mm[Sa],mm[Sa]=null,Sa--)}function Ke(t,e){Sa++,mm[Sa]=t.current,t.current=e}var Js={},en=oi(Js),yn=oi(!1),Li=Js;function Ga(t,e){var n=t.type.contextTypes;if(!n)return Js;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function xn(t){return t=t.childContextTypes,t!=null}function td(){Ze(yn),Ze(en)}function Zy(t,e,n){if(en.current!==Js)throw Error(G(168));Ke(en,e),Ke(yn,n)}function db(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,KS(t)||"Unknown",s));return st({},n,r)}function nd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Js,Li=en.current,Ke(en,t),Ke(yn,yn.current),!0}function Jy(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=db(t,e,Li),r.__reactInternalMemoizedMergedChildContext=t,Ze(yn),Ze(en),Ke(en,t)):Ze(yn),Ke(yn,n)}var zr=null,th=!1,mf=!1;function hb(t){zr===null?zr=[t]:zr.push(t)}function dI(t){th=!0,hb(t)}function li(){if(!mf&&zr!==null){mf=!0;var t=0,e=Be;try{var n=zr;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zr=null,th=!1}catch(s){throw zr!==null&&(zr=zr.slice(t+1)),V_(Vp,li),s}finally{Be=e,mf=!1}}return null}var Na=[],Ia=0,rd=null,sd=0,Un=[],Fn=0,Ui=null,$r=1,Br="";function Ti(t,e){Na[Ia++]=sd,Na[Ia++]=rd,rd=t,sd=e}function fb(t,e,n){Un[Fn++]=$r,Un[Fn++]=Br,Un[Fn++]=Ui,Ui=t;var r=$r;t=Br;var s=32-ar(r)-1;r&=~(1<<s),n+=1;var i=32-ar(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,$r=1<<32-ar(e)+s|n<<s|r,Br=i+t}else $r=1<<i|n<<s|r,Br=t}function Hp(t){t.return!==null&&(Ti(t,1),fb(t,1,0))}function Gp(t){for(;t===rd;)rd=Na[--Ia],Na[Ia]=null,sd=Na[--Ia],Na[Ia]=null;for(;t===Ui;)Ui=Un[--Fn],Un[Fn]=null,Br=Un[--Fn],Un[Fn]=null,$r=Un[--Fn],Un[Fn]=null}var An=null,Nn=null,et=!1,tr=null;function mb(t,e){var n=zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function e0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,Nn=zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ui!==null?{id:$r,overflow:Br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,Nn=null,!0):!1;default:return!1}}function pm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gm(t){if(et){var e=Nn;if(e){var n=e;if(!e0(t,e)){if(pm(t))throw Error(G(418));e=zs(n.nextSibling);var r=An;e&&e0(t,e)?mb(r,n):(t.flags=t.flags&-4097|2,et=!1,An=t)}}else{if(pm(t))throw Error(G(418));t.flags=t.flags&-4097|2,et=!1,An=t}}}function t0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function eu(t){if(t!==An)return!1;if(!et)return t0(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dm(t.type,t.memoizedProps)),e&&(e=Nn)){if(pm(t))throw pb(),Error(G(418));for(;e;)mb(t,e),e=zs(e.nextSibling)}if(t0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=An?zs(t.stateNode.nextSibling):null;return!0}function pb(){for(var t=Nn;t;)t=zs(t.nextSibling)}function Ka(){Nn=An=null,et=!1}function Kp(t){tr===null?tr=[t]:tr.push(t)}var hI=as.ReactCurrentBatchConfig;function Bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function tu(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n0(t){var e=t._init;return e(t._payload)}function gb(t){function e(k,x){if(t){var w=k.deletions;w===null?(k.deletions=[x],k.flags|=16):w.push(x)}}function n(k,x){if(!t)return null;for(;x!==null;)e(k,x),x=x.sibling;return null}function r(k,x){for(k=new Map;x!==null;)x.key!==null?k.set(x.key,x):k.set(x.index,x),x=x.sibling;return k}function s(k,x){return k=qs(k,x),k.index=0,k.sibling=null,k}function i(k,x,w){return k.index=w,t?(w=k.alternate,w!==null?(w=w.index,w<x?(k.flags|=2,x):w):(k.flags|=2,x)):(k.flags|=1048576,x)}function a(k){return t&&k.alternate===null&&(k.flags|=2),k}function o(k,x,w,j){return x===null||x.tag!==6?(x=_f(w,k.mode,j),x.return=k,x):(x=s(x,w),x.return=k,x)}function c(k,x,w,j){var P=w.type;return P===_a?h(k,x,w.props.children,j,w.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===_s&&n0(P)===x.type)?(j=s(x,w.props),j.ref=Bo(k,x,w),j.return=k,j):(j=Ru(w.type,w.key,w.props,null,k.mode,j),j.ref=Bo(k,x,w),j.return=k,j)}function d(k,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=bf(w,k.mode,j),x.return=k,x):(x=s(x,w.children||[]),x.return=k,x)}function h(k,x,w,j,P){return x===null||x.tag!==7?(x=Oi(w,k.mode,j,P),x.return=k,x):(x=s(x,w),x.return=k,x)}function m(k,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=_f(""+x,k.mode,w),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wc:return w=Ru(x.type,x.key,x.props,null,k.mode,w),w.ref=Bo(k,null,x),w.return=k,w;case wa:return x=bf(x,k.mode,w),x.return=k,x;case _s:var j=x._init;return m(k,j(x._payload),w)}if(el(x)||Lo(x))return x=Oi(x,k.mode,w,null),x.return=k,x;tu(k,x)}return null}function p(k,x,w,j){var P=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:o(k,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wc:return w.key===P?c(k,x,w,j):null;case wa:return w.key===P?d(k,x,w,j):null;case _s:return P=w._init,p(k,x,P(w._payload),j)}if(el(w)||Lo(w))return P!==null?null:h(k,x,w,j,null);tu(k,w)}return null}function g(k,x,w,j,P){if(typeof j=="string"&&j!==""||typeof j=="number")return k=k.get(w)||null,o(x,k,""+j,P);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Wc:return k=k.get(j.key===null?w:j.key)||null,c(x,k,j,P);case wa:return k=k.get(j.key===null?w:j.key)||null,d(x,k,j,P);case _s:var O=j._init;return g(k,x,w,O(j._payload),P)}if(el(j)||Lo(j))return k=k.get(w)||null,h(x,k,j,P,null);tu(x,j)}return null}function I(k,x,w,j){for(var P=null,O=null,b=x,y=x=0,E=null;b!==null&&y<w.length;y++){b.index>y?(E=b,b=null):E=b.sibling;var T=p(k,b,w[y],j);if(T===null){b===null&&(b=E);break}t&&b&&T.alternate===null&&e(k,b),x=i(T,x,y),O===null?P=T:O.sibling=T,O=T,b=E}if(y===w.length)return n(k,b),et&&Ti(k,y),P;if(b===null){for(;y<w.length;y++)b=m(k,w[y],j),b!==null&&(x=i(b,x,y),O===null?P=b:O.sibling=b,O=b);return et&&Ti(k,y),P}for(b=r(k,b);y<w.length;y++)E=g(b,k,y,w[y],j),E!==null&&(t&&E.alternate!==null&&b.delete(E.key===null?y:E.key),x=i(E,x,y),O===null?P=E:O.sibling=E,O=E);return t&&b.forEach(function(A){return e(k,A)}),et&&Ti(k,y),P}function C(k,x,w,j){var P=Lo(w);if(typeof P!="function")throw Error(G(150));if(w=P.call(w),w==null)throw Error(G(151));for(var O=P=null,b=x,y=x=0,E=null,T=w.next();b!==null&&!T.done;y++,T=w.next()){b.index>y?(E=b,b=null):E=b.sibling;var A=p(k,b,T.value,j);if(A===null){b===null&&(b=E);break}t&&b&&A.alternate===null&&e(k,b),x=i(A,x,y),O===null?P=A:O.sibling=A,O=A,b=E}if(T.done)return n(k,b),et&&Ti(k,y),P;if(b===null){for(;!T.done;y++,T=w.next())T=m(k,T.value,j),T!==null&&(x=i(T,x,y),O===null?P=T:O.sibling=T,O=T);return et&&Ti(k,y),P}for(b=r(k,b);!T.done;y++,T=w.next())T=g(b,k,y,T.value,j),T!==null&&(t&&T.alternate!==null&&b.delete(T.key===null?y:T.key),x=i(T,x,y),O===null?P=T:O.sibling=T,O=T);return t&&b.forEach(function(R){return e(k,R)}),et&&Ti(k,y),P}function S(k,x,w,j){if(typeof w=="object"&&w!==null&&w.type===_a&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Wc:e:{for(var P=w.key,O=x;O!==null;){if(O.key===P){if(P=w.type,P===_a){if(O.tag===7){n(k,O.sibling),x=s(O,w.props.children),x.return=k,k=x;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===_s&&n0(P)===O.type){n(k,O.sibling),x=s(O,w.props),x.ref=Bo(k,O,w),x.return=k,k=x;break e}n(k,O);break}else e(k,O);O=O.sibling}w.type===_a?(x=Oi(w.props.children,k.mode,j,w.key),x.return=k,k=x):(j=Ru(w.type,w.key,w.props,null,k.mode,j),j.ref=Bo(k,x,w),j.return=k,k=j)}return a(k);case wa:e:{for(O=w.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(k,x.sibling),x=s(x,w.children||[]),x.return=k,k=x;break e}else{n(k,x);break}else e(k,x);x=x.sibling}x=bf(w,k.mode,j),x.return=k,k=x}return a(k);case _s:return O=w._init,S(k,x,O(w._payload),j)}if(el(w))return I(k,x,w,j);if(Lo(w))return C(k,x,w,j);tu(k,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(k,x.sibling),x=s(x,w),x.return=k,k=x):(n(k,x),x=_f(w,k.mode,j),x.return=k,k=x),a(k)):n(k,x)}return S}var Qa=gb(!0),vb=gb(!1),id=oi(null),ad=null,Ca=null,Qp=null;function Yp(){Qp=Ca=ad=null}function Xp(t){var e=id.current;Ze(id),t._currentValue=e}function vm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Va(t,e){ad=t,Qp=Ca=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vn=!0),t.firstContext=null)}function Wn(t){var e=t._currentValue;if(Qp!==t)if(t={context:t,memoizedValue:e,next:null},Ca===null){if(ad===null)throw Error(G(308));Ca=t,ad.dependencies={lanes:0,firstContext:t}}else Ca=Ca.next=t;return e}var Ai=null;function Zp(t){Ai===null?Ai=[t]:Ai.push(t)}function yb(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zp(e)):(n.next=s.next,s.next=n),e.interleaved=n,Jr(t,r)}function Jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bs=!1;function Jp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Jr(t,n)}return s=r.interleaved,s===null?(e.next=e,Zp(r)):(e.next=s.next,s.next=e),r.interleaved=e,Jr(t,n)}function Tu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lp(t,n)}}function r0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function od(t,e,n,r){var s=t.updateQueue;bs=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=d:o.next=d,h.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;a=0,h=d=c=null,o=i;do{var p=o.lane,g=o.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var I=t,C=o;switch(p=e,g=n,C.tag){case 1:if(I=C.payload,typeof I=="function"){m=I.call(g,m,p);break e}m=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=C.payload,p=typeof I=="function"?I.call(g,m,p):I,p==null)break e;m=st({},m,p);break e;case 2:bs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else g={eventTime:g,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(d=h=g,c=m):h=h.next=g,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);zi|=a,t.lanes=a,t.memoizedState=m}}function s0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var fc={},Sr=oi(fc),Fl=oi(fc),zl=oi(fc);function Ri(t){if(t===fc)throw Error(G(174));return t}function eg(t,e){switch(Ke(zl,e),Ke(Fl,t),Ke(Sr,fc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xf(e,t)}Ze(Sr),Ke(Sr,e)}function Ya(){Ze(Sr),Ze(Fl),Ze(zl)}function wb(t){Ri(zl.current);var e=Ri(Sr.current),n=Xf(e,t.type);e!==n&&(Ke(Fl,t),Ke(Sr,n))}function tg(t){Fl.current===t&&(Ze(Sr),Ze(Fl))}var nt=oi(0);function ld(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pf=[];function ng(){for(var t=0;t<pf.length;t++)pf[t]._workInProgressVersionPrimary=null;pf.length=0}var Su=as.ReactCurrentDispatcher,gf=as.ReactCurrentBatchConfig,Fi=0,rt=null,St=null,Pt=null,cd=!1,pl=!1,$l=0,fI=0;function Kt(){throw Error(G(321))}function rg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function sg(t,e,n,r,s,i){if(Fi=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Su.current=t===null||t.memoizedState===null?vI:yI,t=n(r,s),pl){i=0;do{if(pl=!1,$l=0,25<=i)throw Error(G(301));i+=1,Pt=St=null,e.updateQueue=null,Su.current=xI,t=n(r,s)}while(pl)}if(Su.current=ud,e=St!==null&&St.next!==null,Fi=0,Pt=St=rt=null,cd=!1,e)throw Error(G(300));return t}function ig(){var t=$l!==0;return $l=0,t}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?rt.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function qn(){if(St===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Pt===null?rt.memoizedState:Pt.next;if(e!==null)Pt=e,St=t;else{if(t===null)throw Error(G(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Pt===null?rt.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Bl(t,e){return typeof e=="function"?e(t):e}function vf(t){var e=qn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=St,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,c=null,d=i;do{var h=d.lane;if((Fi&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,a=r):c=c.next=m,rt.lanes|=h,zi|=h}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=o,lr(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,zi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yf(t){var e=qn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);lr(i,e.memoizedState)||(vn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function _b(){}function bb(t,e){var n=rt,r=qn(),s=e(),i=!lr(r.memoizedState,s);if(i&&(r.memoizedState=s,vn=!0),r=r.queue,ag(Tb.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,Wl(9,kb.bind(null,n,r,s,e),void 0,null),jt===null)throw Error(G(349));Fi&30||Eb(n,e,s)}return s}function Eb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kb(t,e,n,r){e.value=n,e.getSnapshot=r,Sb(e)&&Nb(t)}function Tb(t,e,n){return n(function(){Sb(e)&&Nb(t)})}function Sb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lr(t,n)}catch{return!0}}function Nb(t){var e=Jr(t,1);e!==null&&or(e,t,1,-1)}function i0(t){var e=yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:t},e.queue=t,t=t.dispatch=gI.bind(null,rt,t),[e.memoizedState,t]}function Wl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ib(){return qn().memoizedState}function Nu(t,e,n,r){var s=yr();rt.flags|=t,s.memoizedState=Wl(1|e,n,void 0,r===void 0?null:r)}function nh(t,e,n,r){var s=qn();r=r===void 0?null:r;var i=void 0;if(St!==null){var a=St.memoizedState;if(i=a.destroy,r!==null&&rg(r,a.deps)){s.memoizedState=Wl(e,n,i,r);return}}rt.flags|=t,s.memoizedState=Wl(1|e,n,i,r)}function a0(t,e){return Nu(8390656,8,t,e)}function ag(t,e){return nh(2048,8,t,e)}function Cb(t,e){return nh(4,2,t,e)}function Ab(t,e){return nh(4,4,t,e)}function Rb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pb(t,e,n){return n=n!=null?n.concat([t]):null,nh(4,4,Rb.bind(null,e,t),n)}function og(){}function jb(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Db(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ob(t,e,n){return Fi&21?(lr(n,e)||(n=F_(),rt.lanes|=n,zi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=n)}function mI(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=gf.transition;gf.transition={};try{t(!1),e()}finally{Be=n,gf.transition=r}}function Mb(){return qn().memoizedState}function pI(t,e,n){var r=Ws(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vb(t))Lb(e,n);else if(n=yb(t,e,n,r),n!==null){var s=an();or(n,t,r,s),Ub(n,e,r)}}function gI(t,e,n){var r=Ws(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vb(t))Lb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,lr(o,a)){var c=e.interleaved;c===null?(s.next=s,Zp(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=yb(t,e,s,r),n!==null&&(s=an(),or(n,t,r,s),Ub(n,e,r))}}function Vb(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function Lb(t,e){pl=cd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ub(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lp(t,n)}}var ud={readContext:Wn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},vI={readContext:Wn,useCallback:function(t,e){return yr().memoizedState=[t,e===void 0?null:e],t},useContext:Wn,useEffect:a0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nu(4194308,4,Rb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nu(4,2,t,e)},useMemo:function(t,e){var n=yr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pI.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=yr();return t={current:t},e.memoizedState=t},useState:i0,useDebugValue:og,useDeferredValue:function(t){return yr().memoizedState=t},useTransition:function(){var t=i0(!1),e=t[0];return t=mI.bind(null,t[1]),yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=yr();if(et){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),jt===null)throw Error(G(349));Fi&30||Eb(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,a0(Tb.bind(null,r,i,t),[t]),r.flags|=2048,Wl(9,kb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=yr(),e=jt.identifierPrefix;if(et){var n=Br,r=$r;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$l++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yI={readContext:Wn,useCallback:jb,useContext:Wn,useEffect:ag,useImperativeHandle:Pb,useInsertionEffect:Cb,useLayoutEffect:Ab,useMemo:Db,useReducer:vf,useRef:Ib,useState:function(){return vf(Bl)},useDebugValue:og,useDeferredValue:function(t){var e=qn();return Ob(e,St.memoizedState,t)},useTransition:function(){var t=vf(Bl)[0],e=qn().memoizedState;return[t,e]},useMutableSource:_b,useSyncExternalStore:bb,useId:Mb,unstable_isNewReconciler:!1},xI={readContext:Wn,useCallback:jb,useContext:Wn,useEffect:ag,useImperativeHandle:Pb,useInsertionEffect:Cb,useLayoutEffect:Ab,useMemo:Db,useReducer:yf,useRef:Ib,useState:function(){return yf(Bl)},useDebugValue:og,useDeferredValue:function(t){var e=qn();return St===null?e.memoizedState=t:Ob(e,St.memoizedState,t)},useTransition:function(){var t=yf(Bl)[0],e=qn().memoizedState;return[t,e]},useMutableSource:_b,useSyncExternalStore:bb,useId:Mb,unstable_isNewReconciler:!1};function Jn(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ym(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rh={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),s=Ws(t),i=Kr(r,s);i.payload=e,n!=null&&(i.callback=n),e=$s(t,i,s),e!==null&&(or(e,t,s,r),Tu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),s=Ws(t),i=Kr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=$s(t,i,s),e!==null&&(or(e,t,s,r),Tu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=Ws(t),s=Kr(n,r);s.tag=2,e!=null&&(s.callback=e),e=$s(t,s,r),e!==null&&(or(e,t,r,n),Tu(e,t,r))}};function o0(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ml(n,r)||!Ml(s,i):!0}function Fb(t,e,n){var r=!1,s=Js,i=e.contextType;return typeof i=="object"&&i!==null?i=Wn(i):(s=xn(e)?Li:en.current,r=e.contextTypes,i=(r=r!=null)?Ga(t,s):Js),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function l0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rh.enqueueReplaceState(e,e.state,null)}function xm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Jp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Wn(i):(i=xn(e)?Li:en.current,s.context=Ga(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ym(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&rh.enqueueReplaceState(s,s.state,null),od(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xa(t,e){try{var n="",r=e;do n+=GS(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function xf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wI=typeof WeakMap=="function"?WeakMap:Map;function zb(t,e,n){n=Kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hd||(hd=!0,Am=r),wm(t,e)},n}function $b(t,e,n){n=Kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){wm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wm(t,e),typeof r!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function c0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wI;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=DI.bind(null,t,e,n),e.then(t,t))}function u0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kr(-1,1),e.tag=2,$s(n,e,1))),n.lanes|=1),t)}var _I=as.ReactCurrentOwner,vn=!1;function sn(t,e,n,r){e.child=t===null?vb(e,null,n,r):Qa(e,t.child,n,r)}function h0(t,e,n,r,s){n=n.render;var i=e.ref;return Va(e,s),r=sg(t,e,n,r,i,s),n=ig(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,es(t,e,s)):(et&&n&&Hp(e),e.flags|=1,sn(t,e,r,s),e.child)}function f0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!pg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Bb(t,e,i,r,s)):(t=Ru(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ml,n(a,r)&&t.ref===e.ref)return es(t,e,s)}return e.flags|=1,t=qs(i,r),t.ref=e.ref,t.return=e,e.child=t}function Bb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ml(i,r)&&t.ref===e.ref)if(vn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(vn=!0);else return e.lanes=t.lanes,es(t,e,s)}return _m(t,e,n,r,s)}function Wb(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Ra,Tn),Tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(Ra,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ke(Ra,Tn),Tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ke(Ra,Tn),Tn|=r;return sn(t,e,s,n),e.child}function qb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _m(t,e,n,r,s){var i=xn(n)?Li:en.current;return i=Ga(e,i),Va(e,s),n=sg(t,e,n,r,i,s),r=ig(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,es(t,e,s)):(et&&r&&Hp(e),e.flags|=1,sn(t,e,n,s),e.child)}function m0(t,e,n,r,s){if(xn(n)){var i=!0;nd(e)}else i=!1;if(Va(e,s),e.stateNode===null)Iu(t,e),Fb(e,n,r),xm(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Wn(d):(d=xn(n)?Li:en.current,d=Ga(e,d));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==d)&&l0(e,a,r,d),bs=!1;var p=e.memoizedState;a.state=p,od(e,r,a,s),c=e.memoizedState,o!==r||p!==c||yn.current||bs?(typeof h=="function"&&(ym(e,n,h,r),c=e.memoizedState),(o=bs||o0(e,n,o,r,p,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,xb(t,e),o=e.memoizedProps,d=e.type===e.elementType?o:Jn(e.type,o),a.props=d,m=e.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Wn(c):(c=xn(n)?Li:en.current,c=Ga(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||p!==c)&&l0(e,a,r,c),bs=!1,p=e.memoizedState,a.state=p,od(e,r,a,s);var I=e.memoizedState;o!==m||p!==I||yn.current||bs?(typeof g=="function"&&(ym(e,n,g,r),I=e.memoizedState),(d=bs||o0(e,n,d,r,p,I,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,I,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,I,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),a.props=r,a.state=I,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return bm(t,e,n,r,i,s)}function bm(t,e,n,r,s,i){qb(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Jy(e,n,!1),es(t,e,i);r=e.stateNode,_I.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Qa(e,t.child,null,i),e.child=Qa(e,null,o,i)):sn(t,e,o,i),e.memoizedState=r.state,s&&Jy(e,n,!0),e.child}function Hb(t){var e=t.stateNode;e.pendingContext?Zy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zy(t,e.context,!1),eg(t,e.containerInfo)}function p0(t,e,n,r,s){return Ka(),Kp(s),e.flags|=256,sn(t,e,n,r),e.child}var Em={dehydrated:null,treeContext:null,retryLane:0};function km(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gb(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ke(nt,s&1),t===null)return gm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ah(a,r,0,null),t=Oi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=km(n),e.memoizedState=Em,t):lg(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return bI(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=qs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=qs(o,i):(i=Oi(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?km(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Em,r}return i=t.child,t=i.sibling,r=qs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lg(t,e){return e=ah({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nu(t,e,n,r){return r!==null&&Kp(r),Qa(e,t.child,null,n),t=lg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bI(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=xf(Error(G(422))),nu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ah({mode:"visible",children:r.children},s,0,null),i=Oi(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Qa(e,t.child,null,a),e.child.memoizedState=km(a),e.memoizedState=Em,i);if(!(e.mode&1))return nu(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(G(419)),r=xf(i,r,void 0),nu(t,e,a,r)}if(o=(a&t.childLanes)!==0,vn||o){if(r=jt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Jr(t,s),or(r,t,s,-1))}return mg(),r=xf(Error(G(421))),nu(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=OI.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Nn=zs(s.nextSibling),An=e,et=!0,tr=null,t!==null&&(Un[Fn++]=$r,Un[Fn++]=Br,Un[Fn++]=Ui,$r=t.id,Br=t.overflow,Ui=e),e=lg(e,r.children),e.flags|=4096,e)}function g0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vm(t.return,e,n)}function wf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Kb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(sn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g0(t,n,e);else if(t.tag===19)g0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ld(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),wf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ld(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}wf(e,!0,n,null,i);break;case"together":wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Iu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function es(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=qs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EI(t,e,n){switch(e.tag){case 3:Hb(e),Ka();break;case 5:wb(e);break;case 1:xn(e.type)&&nd(e);break;case 4:eg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ke(id,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?Gb(t,e,n):(Ke(nt,nt.current&1),t=es(t,e,n),t!==null?t.sibling:null);Ke(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Kb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,Wb(t,e,n)}return es(t,e,n)}var Qb,Tm,Yb,Xb;Qb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tm=function(){};Yb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ri(Sr.current);var i=null;switch(n){case"input":s=Gf(t,s),r=Gf(t,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=Yf(t,s),r=Yf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ed)}Zf(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Cl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(o=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ye("scroll",t),i||o===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Xb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wo(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kI(t,e,n){var r=e.pendingProps;switch(Gp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return xn(e.type)&&td(),Qt(e),null;case 3:return r=e.stateNode,Ya(),Ze(yn),Ze(en),ng(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tr!==null&&(jm(tr),tr=null))),Tm(t,e),Qt(e),null;case 5:tg(e);var s=Ri(zl.current);if(n=e.type,t!==null&&e.stateNode!=null)Yb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Qt(e),null}if(t=Ri(Sr.current),eu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[wr]=e,r[Ul]=i,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(s=0;s<nl.length;s++)Ye(nl[s],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Ty(r,i),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ye("invalid",r);break;case"textarea":Ny(r,i),Ye("invalid",r)}Zf(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Jc(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Jc(r.textContent,o,t),s=["children",""+o]):Cl.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ye("scroll",r)}switch(n){case"input":qc(r),Sy(r,i,!0);break;case"textarea":qc(r),Iy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ed)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=T_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[wr]=e,t[Ul]=r,Qb(t,e,!1,!1),e.stateNode=t;e:{switch(a=Jf(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),s=r;break;case"iframe":case"object":case"embed":Ye("load",t),s=r;break;case"video":case"audio":for(s=0;s<nl.length;s++)Ye(nl[s],t);s=r;break;case"source":Ye("error",t),s=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),s=r;break;case"details":Ye("toggle",t),s=r;break;case"input":Ty(t,r),s=Gf(t,r),Ye("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":Ny(t,r),s=Yf(t,r),Ye("invalid",t);break;default:s=r}Zf(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?I_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&S_(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Al(t,c):typeof c=="number"&&Al(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ye("scroll",t):c!=null&&Pp(t,i,c,a))}switch(n){case"input":qc(t),Sy(t,r,!1);break;case"textarea":qc(t),Iy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ja(t,!!r.multiple,i,!1):r.defaultValue!=null&&ja(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)Xb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Ri(zl.current),Ri(Sr.current),eu(e)){if(r=e.stateNode,n=e.memoizedProps,r[wr]=e,(i=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:Jc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wr]=e,e.stateNode=r}return Qt(e),null;case 13:if(Ze(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Nn!==null&&e.mode&1&&!(e.flags&128))pb(),Ka(),e.flags|=98560,i=!1;else if(i=eu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[wr]=e}else Ka(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),i=!1}else tr!==null&&(jm(tr),tr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?Nt===0&&(Nt=3):mg())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return Ya(),Tm(t,e),t===null&&Vl(e.stateNode.containerInfo),Qt(e),null;case 10:return Xp(e.type._context),Qt(e),null;case 17:return xn(e.type)&&td(),Qt(e),null;case 19:if(Ze(nt),i=e.memoizedState,i===null)return Qt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Wo(i,!1);else{if(Nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ld(t),a!==null){for(e.flags|=128,Wo(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&pt()>Za&&(e.flags|=128,r=!0,Wo(i,!1),e.lanes=4194304)}else{if(!r)if(t=ld(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!et)return Qt(e),null}else 2*pt()-i.renderingStartTime>Za&&n!==1073741824&&(e.flags|=128,r=!0,Wo(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=pt(),e.sibling=null,n=nt.current,Ke(nt,r?n&1|2:n&1),e):(Qt(e),null);case 22:case 23:return fg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function TI(t,e){switch(Gp(e),e.tag){case 1:return xn(e.type)&&td(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ya(),Ze(yn),Ze(en),ng(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tg(e),null;case 13:if(Ze(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Ka()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(nt),null;case 4:return Ya(),null;case 10:return Xp(e.type._context),null;case 22:case 23:return fg(),null;case 24:return null;default:return null}}var ru=!1,Zt=!1,SI=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Aa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function Sm(t,e,n){try{n()}catch(r){lt(t,e,r)}}var v0=!1;function NI(t,e){if(cm=Xu,t=nb(),qp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,d=0,h=0,m=t,p=null;t:for(;;){for(var g;m!==n||s!==0&&m.nodeType!==3||(o=a+s),m!==i||r!==0&&m.nodeType!==3||(c=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===t)break t;if(p===n&&++d===s&&(o=a),p===i&&++h===r&&(c=a),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(um={focusedElem:t,selectionRange:n},Xu=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var C=I.memoizedProps,S=I.memoizedState,k=e.stateNode,x=k.getSnapshotBeforeUpdate(e.elementType===e.type?C:Jn(e.type,C),S);k.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){lt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return I=v0,v0=!1,I}function gl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Sm(e,n,i)}s=s.next}while(s!==r)}}function sh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Zb(t){var e=t.alternate;e!==null&&(t.alternate=null,Zb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wr],delete e[Ul],delete e[fm],delete e[cI],delete e[uI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jb(t){return t.tag===5||t.tag===3||t.tag===4}function y0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ed));else if(r!==4&&(t=t.child,t!==null))for(Im(t,e,n),t=t.sibling;t!==null;)Im(t,e,n),t=t.sibling}function Cm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cm(t,e,n),t=t.sibling;t!==null;)Cm(t,e,n),t=t.sibling}var Lt=null,er=!1;function ys(t,e,n){for(n=n.child;n!==null;)e1(t,e,n),n=n.sibling}function e1(t,e,n){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(Yd,n)}catch{}switch(n.tag){case 5:Zt||Aa(n,e);case 6:var r=Lt,s=er;Lt=null,ys(t,e,n),Lt=r,er=s,Lt!==null&&(er?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(er?(t=Lt,n=n.stateNode,t.nodeType===8?ff(t.parentNode,n):t.nodeType===1&&ff(t,n),Dl(t)):ff(Lt,n.stateNode));break;case 4:r=Lt,s=er,Lt=n.stateNode.containerInfo,er=!0,ys(t,e,n),Lt=r,er=s;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Sm(n,e,a),s=s.next}while(s!==r)}ys(t,e,n);break;case 1:if(!Zt&&(Aa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){lt(n,e,o)}ys(t,e,n);break;case 21:ys(t,e,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,ys(t,e,n),Zt=r):ys(t,e,n);break;default:ys(t,e,n)}}function x0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SI),e.forEach(function(r){var s=MI.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Lt=o.stateNode,er=!1;break e;case 3:Lt=o.stateNode.containerInfo,er=!0;break e;case 4:Lt=o.stateNode.containerInfo,er=!0;break e}o=o.return}if(Lt===null)throw Error(G(160));e1(i,a,s),Lt=null,er=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){lt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)t1(e,t),e=e.sibling}function t1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),vr(t),r&4){try{gl(3,t,t.return),sh(3,t)}catch(C){lt(t,t.return,C)}try{gl(5,t,t.return)}catch(C){lt(t,t.return,C)}}break;case 1:Xn(e,t),vr(t),r&512&&n!==null&&Aa(n,n.return);break;case 5:if(Xn(e,t),vr(t),r&512&&n!==null&&Aa(n,n.return),t.flags&32){var s=t.stateNode;try{Al(s,"")}catch(C){lt(t,t.return,C)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&E_(s,i),Jf(o,a);var d=Jf(o,i);for(a=0;a<c.length;a+=2){var h=c[a],m=c[a+1];h==="style"?I_(s,m):h==="dangerouslySetInnerHTML"?S_(s,m):h==="children"?Al(s,m):Pp(s,h,m,d)}switch(o){case"input":Kf(s,i);break;case"textarea":k_(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ja(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?ja(s,!!i.multiple,i.defaultValue,!0):ja(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ul]=i}catch(C){lt(t,t.return,C)}}break;case 6:if(Xn(e,t),vr(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(C){lt(t,t.return,C)}}break;case 3:if(Xn(e,t),vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dl(e.containerInfo)}catch(C){lt(t,t.return,C)}break;case 4:Xn(e,t),vr(t);break;case 13:Xn(e,t),vr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dg=pt())),r&4&&x0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Zt=(d=Zt)||h,Xn(e,t),Zt=d):Xn(e,t),vr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ae=t,h=t.child;h!==null;){for(m=ae=h;ae!==null;){switch(p=ae,g=p.child,p.tag){case 0:case 11:case 14:case 15:gl(4,p,p.return);break;case 1:Aa(p,p.return);var I=p.stateNode;if(typeof I.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(C){lt(r,n,C)}}break;case 5:Aa(p,p.return);break;case 22:if(p.memoizedState!==null){_0(m);continue}}g!==null?(g.return=p,ae=g):_0(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=N_("display",a))}catch(C){lt(t,t.return,C)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(C){lt(t,t.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Xn(e,t),vr(t),r&4&&x0(t);break;case 21:break;default:Xn(e,t),vr(t)}}function vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jb(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Al(s,""),r.flags&=-33);var i=y0(t);Cm(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=y0(t);Im(t,o,a);break;default:throw Error(G(161))}}catch(c){lt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function II(t,e,n){ae=t,n1(t)}function n1(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ru;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Zt;o=ru;var d=Zt;if(ru=a,(Zt=c)&&!d)for(ae=s;ae!==null;)a=ae,c=a.child,a.tag===22&&a.memoizedState!==null?b0(s):c!==null?(c.return=a,ae=c):b0(s);for(;i!==null;)ae=i,n1(i),i=i.sibling;ae=s,ru=o,Zt=d}w0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):w0(t)}}function w0(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||sh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&s0(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}s0(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Dl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Zt||e.flags&512&&Nm(e)}catch(p){lt(e,e.return,p)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function _0(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function b0(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sh(4,e)}catch(c){lt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){lt(e,s,c)}}var i=e.return;try{Nm(e)}catch(c){lt(e,i,c)}break;case 5:var a=e.return;try{Nm(e)}catch(c){lt(e,a,c)}}}catch(c){lt(e,e.return,c)}if(e===t){ae=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ae=o;break}ae=e.return}}var CI=Math.ceil,dd=as.ReactCurrentDispatcher,cg=as.ReactCurrentOwner,$n=as.ReactCurrentBatchConfig,Ve=0,jt=null,_t=null,$t=0,Tn=0,Ra=oi(0),Nt=0,ql=null,zi=0,ih=0,ug=0,vl=null,pn=null,dg=0,Za=1/0,Fr=null,hd=!1,Am=null,Bs=null,su=!1,js=null,fd=0,yl=0,Rm=null,Cu=-1,Au=0;function an(){return Ve&6?pt():Cu!==-1?Cu:Cu=pt()}function Ws(t){return t.mode&1?Ve&2&&$t!==0?$t&-$t:hI.transition!==null?(Au===0&&(Au=F_()),Au):(t=Be,t!==0||(t=window.event,t=t===void 0?16:G_(t.type)),t):1}function or(t,e,n,r){if(50<yl)throw yl=0,Rm=null,Error(G(185));uc(t,n,r),(!(Ve&2)||t!==jt)&&(t===jt&&(!(Ve&2)&&(ih|=n),Nt===4&&Ts(t,$t)),wn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Za=pt()+500,th&&li()))}function wn(t,e){var n=t.callbackNode;hN(t,e);var r=Yu(t,t===jt?$t:0);if(r===0)n!==null&&Ry(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ry(n),e===1)t.tag===0?dI(E0.bind(null,t)):hb(E0.bind(null,t)),oI(function(){!(Ve&6)&&li()}),n=null;else{switch(z_(r)){case 1:n=Vp;break;case 4:n=L_;break;case 16:n=Qu;break;case 536870912:n=U_;break;default:n=Qu}n=u1(n,r1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function r1(t,e){if(Cu=-1,Au=0,Ve&6)throw Error(G(327));var n=t.callbackNode;if(La()&&t.callbackNode!==n)return null;var r=Yu(t,t===jt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=md(t,r);else{e=r;var s=Ve;Ve|=2;var i=i1();(jt!==t||$t!==e)&&(Fr=null,Za=pt()+500,Di(t,e));do try{PI();break}catch(o){s1(t,o)}while(!0);Yp(),dd.current=i,Ve=s,_t!==null?e=0:(jt=null,$t=0,e=Nt)}if(e!==0){if(e===2&&(s=sm(t),s!==0&&(r=s,e=Pm(t,s))),e===1)throw n=ql,Di(t,0),Ts(t,r),wn(t,pt()),n;if(e===6)Ts(t,r);else{if(s=t.current.alternate,!(r&30)&&!AI(s)&&(e=md(t,r),e===2&&(i=sm(t),i!==0&&(r=i,e=Pm(t,i))),e===1))throw n=ql,Di(t,0),Ts(t,r),wn(t,pt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:Si(t,pn,Fr);break;case 3:if(Ts(t,r),(r&130023424)===r&&(e=dg+500-pt(),10<e)){if(Yu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hm(Si.bind(null,t,pn,Fr),e);break}Si(t,pn,Fr);break;case 4:if(Ts(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-ar(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CI(r/1960))-r,10<r){t.timeoutHandle=hm(Si.bind(null,t,pn,Fr),r);break}Si(t,pn,Fr);break;case 5:Si(t,pn,Fr);break;default:throw Error(G(329))}}}return wn(t,pt()),t.callbackNode===n?r1.bind(null,t):null}function Pm(t,e){var n=vl;return t.current.memoizedState.isDehydrated&&(Di(t,e).flags|=256),t=md(t,e),t!==2&&(e=pn,pn=n,e!==null&&jm(e)),t}function jm(t){pn===null?pn=t:pn.push.apply(pn,t)}function AI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!lr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ts(t,e){for(e&=~ug,e&=~ih,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ar(e),r=1<<n;t[n]=-1,e&=~r}}function E0(t){if(Ve&6)throw Error(G(327));La();var e=Yu(t,0);if(!(e&1))return wn(t,pt()),null;var n=md(t,e);if(t.tag!==0&&n===2){var r=sm(t);r!==0&&(e=r,n=Pm(t,r))}if(n===1)throw n=ql,Di(t,0),Ts(t,e),wn(t,pt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Si(t,pn,Fr),wn(t,pt()),null}function hg(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Za=pt()+500,th&&li())}}function $i(t){js!==null&&js.tag===0&&!(Ve&6)&&La();var e=Ve;Ve|=1;var n=$n.transition,r=Be;try{if($n.transition=null,Be=1,t)return t()}finally{Be=r,$n.transition=n,Ve=e,!(Ve&6)&&li()}}function fg(){Tn=Ra.current,Ze(Ra)}function Di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aI(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(Gp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&td();break;case 3:Ya(),Ze(yn),Ze(en),ng();break;case 5:tg(r);break;case 4:Ya();break;case 13:Ze(nt);break;case 19:Ze(nt);break;case 10:Xp(r.type._context);break;case 22:case 23:fg()}n=n.return}if(jt=t,_t=t=qs(t.current,null),$t=Tn=e,Nt=0,ql=null,ug=ih=zi=0,pn=vl=null,Ai!==null){for(e=0;e<Ai.length;e++)if(n=Ai[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Ai=null}return t}function s1(t,e){do{var n=_t;try{if(Yp(),Su.current=ud,cd){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}cd=!1}if(Fi=0,Pt=St=rt=null,pl=!1,$l=0,cg.current=null,n===null||n.return===null){Nt=1,ql=e,_t=null;break}e:{var i=t,a=n.return,o=n,c=e;if(e=$t,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=o,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=u0(a);if(g!==null){g.flags&=-257,d0(g,a,o,i,e),g.mode&1&&c0(i,d,e),e=g,c=d;var I=e.updateQueue;if(I===null){var C=new Set;C.add(c),e.updateQueue=C}else I.add(c);break e}else{if(!(e&1)){c0(i,d,e),mg();break e}c=Error(G(426))}}else if(et&&o.mode&1){var S=u0(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),d0(S,a,o,i,e),Kp(Xa(c,o));break e}}i=c=Xa(c,o),Nt!==4&&(Nt=2),vl===null?vl=[i]:vl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var k=zb(i,c,e);r0(i,k);break e;case 1:o=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Bs===null||!Bs.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=$b(i,o,e);r0(i,j);break e}}i=i.return}while(i!==null)}o1(n)}catch(P){e=P,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function i1(){var t=dd.current;return dd.current=ud,t===null?ud:t}function mg(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),jt===null||!(zi&268435455)&&!(ih&268435455)||Ts(jt,$t)}function md(t,e){var n=Ve;Ve|=2;var r=i1();(jt!==t||$t!==e)&&(Fr=null,Di(t,e));do try{RI();break}catch(s){s1(t,s)}while(!0);if(Yp(),Ve=n,dd.current=r,_t!==null)throw Error(G(261));return jt=null,$t=0,Nt}function RI(){for(;_t!==null;)a1(_t)}function PI(){for(;_t!==null&&!rN();)a1(_t)}function a1(t){var e=c1(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?o1(t):_t=e,cg.current=null}function o1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TI(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nt=6,_t=null;return}}else if(n=kI(n,e,Tn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);Nt===0&&(Nt=5)}function Si(t,e,n){var r=Be,s=$n.transition;try{$n.transition=null,Be=1,jI(t,e,n,r)}finally{$n.transition=s,Be=r}return null}function jI(t,e,n,r){do La();while(js!==null);if(Ve&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(fN(t,i),t===jt&&(_t=jt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||su||(su=!0,u1(Qu,function(){return La(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$n.transition,$n.transition=null;var a=Be;Be=1;var o=Ve;Ve|=4,cg.current=null,NI(t,n),t1(n,t),JN(um),Xu=!!cm,um=cm=null,t.current=n,II(n),sN(),Ve=o,Be=a,$n.transition=i}else t.current=n;if(su&&(su=!1,js=t,fd=s),i=t.pendingLanes,i===0&&(Bs=null),oN(n.stateNode),wn(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hd)throw hd=!1,t=Am,Am=null,t;return fd&1&&t.tag!==0&&La(),i=t.pendingLanes,i&1?t===Rm?yl++:(yl=0,Rm=t):yl=0,li(),null}function La(){if(js!==null){var t=z_(fd),e=$n.transition,n=Be;try{if($n.transition=null,Be=16>t?16:t,js===null)var r=!1;else{if(t=js,js=null,fd=0,Ve&6)throw Error(G(331));var s=Ve;for(Ve|=4,ae=t.current;ae!==null;){var i=ae,a=i.child;if(ae.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(ae=d;ae!==null;){var h=ae;switch(h.tag){case 0:case 11:case 15:gl(8,h,i)}var m=h.child;if(m!==null)m.return=h,ae=m;else for(;ae!==null;){h=ae;var p=h.sibling,g=h.return;if(Zb(h),h===d){ae=null;break}if(p!==null){p.return=g,ae=p;break}ae=g}}}var I=i.alternate;if(I!==null){var C=I.child;if(C!==null){I.child=null;do{var S=C.sibling;C.sibling=null,C=S}while(C!==null)}}ae=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ae=a;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gl(9,i,i.return)}var k=i.sibling;if(k!==null){k.return=i.return,ae=k;break e}ae=i.return}}var x=t.current;for(ae=x;ae!==null;){a=ae;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ae=w;else e:for(a=x;ae!==null;){if(o=ae,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:sh(9,o)}}catch(P){lt(o,o.return,P)}if(o===a){ae=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,ae=j;break e}ae=o.return}}if(Ve=s,li(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(Yd,t)}catch{}r=!0}return r}finally{Be=n,$n.transition=e}}return!1}function k0(t,e,n){e=Xa(n,e),e=zb(t,e,1),t=$s(t,e,1),e=an(),t!==null&&(uc(t,1,e),wn(t,e))}function lt(t,e,n){if(t.tag===3)k0(t,t,n);else for(;e!==null;){if(e.tag===3){k0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bs===null||!Bs.has(r))){t=Xa(n,t),t=$b(e,t,1),e=$s(e,t,1),t=an(),e!==null&&(uc(e,1,t),wn(e,t));break}}e=e.return}}function DI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,jt===t&&($t&n)===n&&(Nt===4||Nt===3&&($t&130023424)===$t&&500>pt()-dg?Di(t,0):ug|=n),wn(t,e)}function l1(t,e){e===0&&(t.mode&1?(e=Kc,Kc<<=1,!(Kc&130023424)&&(Kc=4194304)):e=1);var n=an();t=Jr(t,e),t!==null&&(uc(t,e,n),wn(t,n))}function OI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),l1(t,n)}function MI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),l1(t,n)}var c1;c1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yn.current)vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vn=!1,EI(t,e,n);vn=!!(t.flags&131072)}else vn=!1,et&&e.flags&1048576&&fb(e,sd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Iu(t,e),t=e.pendingProps;var s=Ga(e,en.current);Va(e,n),s=sg(null,e,r,t,s,n);var i=ig();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(r)?(i=!0,nd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jp(e),s.updater=rh,e.stateNode=s,s._reactInternals=e,xm(e,r,t,n),e=bm(null,e,r,!0,i,n)):(e.tag=0,et&&i&&Hp(e),sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Iu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=LI(r),t=Jn(r,t),s){case 0:e=_m(null,e,r,t,n);break e;case 1:e=m0(null,e,r,t,n);break e;case 11:e=h0(null,e,r,t,n);break e;case 14:e=f0(null,e,r,Jn(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),_m(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),m0(t,e,r,s,n);case 3:e:{if(Hb(e),t===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,xb(t,e),od(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Xa(Error(G(423)),e),e=p0(t,e,r,n,s);break e}else if(r!==s){s=Xa(Error(G(424)),e),e=p0(t,e,r,n,s);break e}else for(Nn=zs(e.stateNode.containerInfo.firstChild),An=e,et=!0,tr=null,n=vb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ka(),r===s){e=es(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return wb(e),t===null&&gm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,dm(r,s)?a=null:i!==null&&dm(r,i)&&(e.flags|=32),qb(t,e),sn(t,e,a,n),e.child;case 6:return t===null&&gm(e),null;case 13:return Gb(t,e,n);case 4:return eg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qa(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),h0(t,e,r,s,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ke(id,r._currentValue),r._currentValue=a,i!==null)if(lr(i.value,a)){if(i.children===s.children&&!yn.current){e=es(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Kr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),vm(i.return,n,e),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(G(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),vm(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Va(e,n),s=Wn(s),r=r(s),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,s=Jn(r,e.pendingProps),s=Jn(r.type,s),f0(t,e,r,s,n);case 15:return Bb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),Iu(t,e),e.tag=1,xn(r)?(t=!0,nd(e)):t=!1,Va(e,n),Fb(e,r,s),xm(e,r,s,n),bm(null,e,r,!0,t,n);case 19:return Kb(t,e,n);case 22:return Wb(t,e,n)}throw Error(G(156,e.tag))};function u1(t,e){return V_(t,e)}function VI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,e,n,r){return new VI(t,e,n,r)}function pg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LI(t){if(typeof t=="function")return pg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dp)return 11;if(t===Op)return 14}return 2}function qs(t,e){var n=t.alternate;return n===null?(n=zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ru(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")pg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case _a:return Oi(n.children,s,i,e);case jp:a=8,s|=8;break;case Bf:return t=zn(12,n,e,s|2),t.elementType=Bf,t.lanes=i,t;case Wf:return t=zn(13,n,e,s),t.elementType=Wf,t.lanes=i,t;case qf:return t=zn(19,n,e,s),t.elementType=qf,t.lanes=i,t;case w_:return ah(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y_:a=10;break e;case x_:a=9;break e;case Dp:a=11;break e;case Op:a=14;break e;case _s:a=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=zn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Oi(t,e,n,r){return t=zn(7,t,r,e),t.lanes=n,t}function ah(t,e,n,r){return t=zn(22,t,r,e),t.elementType=w_,t.lanes=n,t.stateNode={isHidden:!1},t}function _f(t,e,n){return t=zn(6,t,null,e),t.lanes=n,t}function bf(t,e,n){return e=zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UI(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tf(0),this.expirationTimes=tf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gg(t,e,n,r,s,i,a,o,c){return t=new UI(t,e,n,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=zn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jp(i),t}function FI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function d1(t){if(!t)return Js;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(xn(n))return db(t,n,e)}return e}function h1(t,e,n,r,s,i,a,o,c){return t=gg(n,r,!0,t,s,i,a,o,c),t.context=d1(null),n=t.current,r=an(),s=Ws(n),i=Kr(r,s),i.callback=e??null,$s(n,i,s),t.current.lanes=s,uc(t,s,r),wn(t,r),t}function oh(t,e,n,r){var s=e.current,i=an(),a=Ws(s);return n=d1(n),e.context===null?e.context=n:e.pendingContext=n,e=Kr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$s(s,e,a),t!==null&&(or(t,s,a,i),Tu(t,s,a)),a}function pd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vg(t,e){T0(t,e),(t=t.alternate)&&T0(t,e)}function zI(){return null}var f1=typeof reportError=="function"?reportError:function(t){console.error(t)};function yg(t){this._internalRoot=t}lh.prototype.render=yg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));oh(t,e,null,null)};lh.prototype.unmount=yg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$i(function(){oh(null,t,null,null)}),e[Zr]=null}};function lh(t){this._internalRoot=t}lh.prototype.unstable_scheduleHydration=function(t){if(t){var e=W_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ks.length&&e!==0&&e<ks[n].priority;n++);ks.splice(n,0,t),n===0&&H_(t)}};function xg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ch(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S0(){}function $I(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=pd(a);i.call(d)}}var a=h1(e,r,t,0,null,!1,!1,"",S0);return t._reactRootContainer=a,t[Zr]=a.current,Vl(t.nodeType===8?t.parentNode:t),$i(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var d=pd(c);o.call(d)}}var c=gg(t,0,!1,null,null,!1,!1,"",S0);return t._reactRootContainer=c,t[Zr]=c.current,Vl(t.nodeType===8?t.parentNode:t),$i(function(){oh(e,c,n,r)}),c}function uh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=pd(a);o.call(c)}}oh(e,a,t,s)}else a=$I(n,e,t,s,r);return pd(a)}$_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tl(e.pendingLanes);n!==0&&(Lp(e,n|1),wn(e,pt()),!(Ve&6)&&(Za=pt()+500,li()))}break;case 13:$i(function(){var r=Jr(t,1);if(r!==null){var s=an();or(r,t,1,s)}}),vg(t,1)}};Up=function(t){if(t.tag===13){var e=Jr(t,134217728);if(e!==null){var n=an();or(e,t,134217728,n)}vg(t,134217728)}};B_=function(t){if(t.tag===13){var e=Ws(t),n=Jr(t,e);if(n!==null){var r=an();or(n,t,e,r)}vg(t,e)}};W_=function(){return Be};q_=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};tm=function(t,e,n){switch(e){case"input":if(Kf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=eh(r);if(!s)throw Error(G(90));b_(r),Kf(r,s)}}}break;case"textarea":k_(t,n);break;case"select":e=n.value,e!=null&&ja(t,!!n.multiple,e,!1)}};R_=hg;P_=$i;var BI={usingClientEntryPoint:!1,Events:[hc,Ta,eh,C_,A_,hg]},qo={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WI={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:as.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=O_(t),t===null?null:t.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||zI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{Yd=iu.inject(WI),Tr=iu}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BI;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xg(e))throw Error(G(200));return FI(t,e,null,n)};jn.createRoot=function(t,e){if(!xg(t))throw Error(G(299));var n=!1,r="",s=f1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gg(t,1,!1,null,null,n,!1,r,s),t[Zr]=e.current,Vl(t.nodeType===8?t.parentNode:t),new yg(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=O_(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return $i(t)};jn.hydrate=function(t,e,n){if(!ch(e))throw Error(G(200));return uh(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!xg(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=f1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=h1(e,null,t,1,n??null,s,!1,i,a),t[Zr]=e.current,Vl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new lh(e)};jn.render=function(t,e,n){if(!ch(e))throw Error(G(200));return uh(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!ch(t))throw Error(G(40));return t._reactRootContainer?($i(function(){uh(null,null,t,!1,function(){t._reactRootContainer=null,t[Zr]=null})}),!0):!1};jn.unstable_batchedUpdates=hg;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ch(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return uh(t,e,n,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function m1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m1)}catch(t){console.error(t)}}m1(),m_.exports=jn;var p1=m_.exports;const qI=Kd(p1);var N0=p1;zf.createRoot=N0.createRoot,zf.hydrateRoot=N0.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(this,arguments)}var Ds;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ds||(Ds={}));const I0="popstate";function HI(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return Dm("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:gd(s)}return KI(e,n,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GI(){return Math.random().toString(36).substr(2,8)}function C0(t,e){return{usr:t.state,key:t.key,idx:e}}function Dm(t,e,n,r){return n===void 0&&(n=null),Hl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yo(e):e,{state:n,key:e&&e.key||r||GI()})}function gd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function KI(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=Ds.Pop,c=null,d=h();d==null&&(d=0,a.replaceState(Hl({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function m(){o=Ds.Pop;let S=h(),k=S==null?null:S-d;d=S,c&&c({action:o,location:C.location,delta:k})}function p(S,k){o=Ds.Push;let x=Dm(C.location,S,k);d=h()+1;let w=C0(x,d),j=C.createHref(x);try{a.pushState(w,"",j)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(j)}i&&c&&c({action:o,location:C.location,delta:1})}function g(S,k){o=Ds.Replace;let x=Dm(C.location,S,k);d=h();let w=C0(x,d),j=C.createHref(x);a.replaceState(w,"",j),i&&c&&c({action:o,location:C.location,delta:0})}function I(S){let k=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof S=="string"?S:gd(S);return x=x.replace(/ $/,"%20"),gt(k,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,k)}let C={get action(){return o},get location(){return t(s,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(I0,m),c=S,()=>{s.removeEventListener(I0,m),c=null}},createHref(S){return e(s,S)},createURL:I,encodeLocation(S){let k=I(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:p,replace:g,go(S){return a.go(S)}};return C}var A0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(A0||(A0={}));function QI(t,e,n){return n===void 0&&(n="/"),YI(t,e,n)}function YI(t,e,n,r){let s=typeof e=="string"?yo(e):e,i=_g(s.pathname||"/",n);if(i==null)return null;let a=g1(t);XI(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let d=c2(i);o=a2(a[c],d)}return o}function g1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(gt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Hs([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(gt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),g1(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:s2(d,i.index),routesMeta:h})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let c of v1(i.path))s(i,a,c)}),e}function v1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=v1(r.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function XI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:i2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZI=/^:[\w-]+$/,JI=3,e2=2,t2=1,n2=10,r2=-2,R0=t=>t==="*";function s2(t,e){let n=t.split("/"),r=n.length;return n.some(R0)&&(r+=r2),e&&(r+=e2),n.filter(s=>!R0(s)).reduce((s,i)=>s+(ZI.test(i)?JI:i===""?t2:n2),r)}function i2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function a2(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",m=o2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:Hs([i,m.pathname]),pathnameBase:m2(Hs([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Hs([i,m.pathnameBase]))}return a}function o2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=l2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((d,h,m)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let C=o[m]||"";a=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const I=o[m];return g&&!I?d[p]=void 0:d[p]=(I||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function l2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function c2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _g(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const u2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d2=t=>u2.test(t);function h2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?yo(t):t,i;if(n)if(d2(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),wg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=P0(n.substring(1),"/"):i=P0(n,e)}else i=e;return{pathname:i,search:p2(r),hash:g2(s)}}function P0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ef(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bg(t,e){let n=f2(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Eg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=yo(t):(s=Hl({},t),gt(!s.pathname||!s.pathname.includes("?"),Ef("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Ef("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Ef("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}o=m>=0?e[m]:"/"}let c=h2(s,o),d=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Hs=t=>t.join("/").replace(/\/\/+/g,"/"),m2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const y1=["post","put","patch","delete"];new Set(y1);const y2=["get",...y1];new Set(y2);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(this,arguments)}const kg=U.createContext(null),x2=U.createContext(null),ci=U.createContext(null),dh=U.createContext(null),os=U.createContext({outlet:null,matches:[],isDataRoute:!1}),x1=U.createContext(null);function w2(t,e){let{relative:n}=e===void 0?{}:e;xo()||gt(!1);let{basename:r,navigator:s}=U.useContext(ci),{hash:i,pathname:a,search:o}=_1(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Hs([r,a])),s.createHref({pathname:c,search:o,hash:i})}function xo(){return U.useContext(dh)!=null}function wo(){return xo()||gt(!1),U.useContext(dh).location}function w1(t){U.useContext(ci).static||U.useLayoutEffect(t)}function hh(){let{isDataRoute:t}=U.useContext(os);return t?O2():_2()}function _2(){xo()||gt(!1);let t=U.useContext(kg),{basename:e,future:n,navigator:r}=U.useContext(ci),{matches:s}=U.useContext(os),{pathname:i}=wo(),a=JSON.stringify(bg(s,n.v7_relativeSplatPath)),o=U.useRef(!1);return w1(()=>{o.current=!0}),U.useCallback(function(d,h){if(h===void 0&&(h={}),!o.current)return;if(typeof d=="number"){r.go(d);return}let m=Eg(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Hs([e,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[e,r,a,i,t])}const b2=U.createContext(null);function E2(t){let e=U.useContext(os).outlet;return e&&U.createElement(b2.Provider,{value:t},e)}function _1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(ci),{matches:s}=U.useContext(os),{pathname:i}=wo(),a=JSON.stringify(bg(s,r.v7_relativeSplatPath));return U.useMemo(()=>Eg(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function k2(t,e){return T2(t,e)}function T2(t,e,n,r){xo()||gt(!1);let{navigator:s}=U.useContext(ci),{matches:i}=U.useContext(os),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=wo(),h;if(e){var m;let S=typeof e=="string"?yo(e):e;c==="/"||(m=S.pathname)!=null&&m.startsWith(c)||gt(!1),h=S}else h=d;let p=h.pathname||"/",g=p;if(c!=="/"){let S=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let I=QI(t,{pathname:g}),C=A2(I&&I.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:Hs([c,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Hs([c,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&C?U.createElement(dh.Provider,{value:{location:Gl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ds.Pop}},C):C}function S2(){let t=D2(),e=v2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:s},n):null,null)}const N2=U.createElement(S2,null);class I2 extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(os.Provider,{value:this.props.routeContext},U.createElement(x1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C2(t){let{routeContext:e,match:n,children:r}=t,s=U.useContext(kg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(os.Provider,{value:e},r)}function A2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let h=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);h>=0||gt(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:p,errors:g}=n,I=m.route.loader&&p[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||I){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,m,p)=>{let g,I=!1,C=null,S=null;n&&(g=o&&m.route.id?o[m.route.id]:void 0,C=m.route.errorElement||N2,c&&(d<0&&p===0?(M2("route-fallback"),I=!0,S=null):d===p&&(I=!0,S=m.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,p+1)),x=()=>{let w;return g?w=C:I?w=S:m.route.Component?w=U.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=h,U.createElement(C2,{match:m,routeContext:{outlet:h,matches:k,isDataRoute:n!=null},children:w})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?U.createElement(I2,{location:n.location,revalidation:n.revalidation,component:C,error:g,children:x(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):x()},null)}var b1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(b1||{}),E1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(E1||{});function R2(t){let e=U.useContext(kg);return e||gt(!1),e}function P2(t){let e=U.useContext(x2);return e||gt(!1),e}function j2(t){let e=U.useContext(os);return e||gt(!1),e}function k1(t){let e=j2(),n=e.matches[e.matches.length-1];return n.route.id||gt(!1),n.route.id}function D2(){var t;let e=U.useContext(x1),n=P2(),r=k1();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function O2(){let{router:t}=R2(b1.UseNavigateStable),e=k1(E1.UseNavigateStable),n=U.useRef(!1);return w1(()=>{n.current=!0}),U.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Gl({fromRouteId:e},i)))},[t,e])}const j0={};function M2(t,e,n){j0[t]||(j0[t]=!0)}function V2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function au(t){let{to:e,replace:n,state:r,relative:s}=t;xo()||gt(!1);let{future:i,static:a}=U.useContext(ci),{matches:o}=U.useContext(os),{pathname:c}=wo(),d=hh(),h=Eg(e,bg(o,i.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(h);return U.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:s}),[d,m,s,n,r]),null}function L2(t){return E2(t.context)}function ot(t){gt(!1)}function U2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ds.Pop,navigator:i,static:a=!1,future:o}=t;xo()&&gt(!1);let c=e.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:c,navigator:i,static:a,future:Gl({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof r=="string"&&(r=yo(r));let{pathname:h="/",search:m="",hash:p="",state:g=null,key:I="default"}=r,C=U.useMemo(()=>{let S=_g(h,c);return S==null?null:{location:{pathname:S,search:m,hash:p,state:g,key:I},navigationType:s}},[c,h,m,p,g,I,s]);return C==null?null:U.createElement(ci.Provider,{value:d},U.createElement(dh.Provider,{children:n,value:C}))}function F2(t){let{children:e,location:n}=t;return k2(Om(e),n)}new Promise(()=>{});function Om(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,s)=>{if(!U.isValidElement(r))return;let i=[...e,s];if(r.type===U.Fragment){n.push.apply(n,Om(r.props.children,i));return}r.type!==ot&&gt(!1),!r.props.index||!r.props.children||gt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Om(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mm.apply(this,arguments)}function z2(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function $2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function B2(t,e){return t.button===0&&(!e||e==="_self")&&!$2(t)}const W2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],q2="6";try{window.__reactRouterVersion=q2}catch{}const H2="startTransition",D0=DS[H2];function G2(t){let{basename:e,children:n,future:r,window:s}=t,i=U.useRef();i.current==null&&(i.current=HI({window:s,v5Compat:!0}));let a=i.current,[o,c]=U.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},h=U.useCallback(m=>{d&&D0?D0(()=>c(m)):c(m)},[c,d]);return U.useLayoutEffect(()=>a.listen(h),[a,h]),U.useEffect(()=>V2(r),[r]),U.createElement(U2,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const K2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xl=U.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:c,to:d,preventScrollReset:h,viewTransition:m}=e,p=z2(e,W2),{basename:g}=U.useContext(ci),I,C=!1;if(typeof d=="string"&&Q2.test(d)&&(I=d,K2))try{let w=new URL(window.location.href),j=d.startsWith("//")?new URL(w.protocol+d):new URL(d),P=_g(j.pathname,g);j.origin===w.origin&&P!=null?d=P+j.search+j.hash:C=!0}catch{}let S=w2(d,{relative:s}),k=Y2(d,{replace:a,state:o,target:c,preventScrollReset:h,relative:s,viewTransition:m});function x(w){r&&r(w),w.defaultPrevented||k(w)}return U.createElement("a",Mm({},p,{href:I||S,onClick:C||i?r:x,ref:n,target:c}))});var O0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(O0||(O0={}));var M0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(M0||(M0={}));function Y2(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,c=hh(),d=wo(),h=_1(t,{relative:a});return U.useCallback(m=>{if(B2(m,n)){m.preventDefault();let p=r!==void 0?r:gd(d)===gd(h);c(t,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[d,c,h,r,s,n,t,i,a,o])}const X2={},V0=t=>{let e;const n=new Set,r=(h,m)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const g=e;e=m??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(I=>I(e,g))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>d,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(X2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,s,c);return c},Z2=t=>t?V0(t):V0;var T1={exports:{}},S1={},N1={exports:{}},I1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=U;function J2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eC=typeof Object.is=="function"?Object.is:J2,tC=Ja.useState,nC=Ja.useEffect,rC=Ja.useLayoutEffect,sC=Ja.useDebugValue;function iC(t,e){var n=e(),r=tC({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return rC(function(){s.value=n,s.getSnapshot=e,kf(s)&&i({inst:s})},[t,n,e]),nC(function(){return kf(s)&&i({inst:s}),t(function(){kf(s)&&i({inst:s})})},[t]),sC(n),n}function kf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!eC(t,n)}catch{return!0}}function aC(t,e){return e()}var oC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aC:iC;I1.useSyncExternalStore=Ja.useSyncExternalStore!==void 0?Ja.useSyncExternalStore:oC;N1.exports=I1;var lC=N1.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=U,cC=lC;function uC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dC=typeof Object.is=="function"?Object.is:uC,hC=cC.useSyncExternalStore,fC=fh.useRef,mC=fh.useEffect,pC=fh.useMemo,gC=fh.useDebugValue;S1.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=fC(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=pC(function(){function c(g){if(!d){if(d=!0,h=g,g=r(g),s!==void 0&&a.hasValue){var I=a.value;if(s(I,g))return m=I}return m=g}if(I=m,dC(h,g))return I;var C=r(g);return s!==void 0&&s(I,C)?(h=g,I):(h=g,m=C)}var d=!1,h,m,p=n===void 0?null:n;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,n,r,s]);var o=hC(t,i[0],i[1]);return mC(function(){a.hasValue=!0,a.value=o},[o]),gC(o),o};T1.exports=S1;var vC=T1.exports;const yC=Kd(vC),C1={},{useDebugValue:xC}=$,{useSyncExternalStoreWithSelector:wC}=yC;let L0=!1;const _C=t=>t;function bC(t,e=_C,n){(C1?"production":void 0)!=="production"&&n&&!L0&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),L0=!0);const r=wC(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return xC(r),r}const U0=t=>{(C1?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Z2(t):t,n=(r,s)=>bC(e,r,s);return Object.assign(n,e),n},A1=t=>t?U0(t):U0;var F0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},EC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],o=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},P1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,o=a?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,m=(i&3)<<4|o>>4;let p=(o&15)<<2|d>>6,g=d&63;c||(g=64,a||(p=64)),r.push(n[h],n[m],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(R1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||d==null||m==null)throw new kC;const p=i<<2|o>>4;if(r.push(p),d!==64){const g=o<<4&240|d>>2;if(r.push(g),m!==64){const I=d<<6&192|m;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TC=function(t){const e=R1(t);return P1.encodeByteArray(e,!0)},vd=function(t){return TC(t).replace(/\./g,"")},j1=function(t){try{return P1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=()=>SC().__FIREBASE_DEFAULTS__,IC=()=>{if(typeof process>"u"||typeof F0>"u")return;const t=F0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&j1(t[1]);return e&&JSON.parse(e)},mh=()=>{try{return NC()||IC()||CC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},D1=t=>{var e,n;return(n=(e=mh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},O1=t=>{const e=D1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},M1=()=>{var t;return(t=mh())===null||t===void 0?void 0:t.config},V1=t=>{var e;return(e=mh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vd(JSON.stringify(n)),vd(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function PC(){var t;const e=(t=mh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MC(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VC(){return!PC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LC(){try{return typeof indexedDB=="object"}catch{return!1}}function UC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FC,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?zC(i,r):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Or(s,o,r)}}function zC(t,e){return t.replace($C,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const $C=/\{\$([^}]+)}/g;function BC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(z0(i)&&z0(a)){if(!yd(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function z0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function sl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WC(t,e){const n=new qC(t,e);return n.subscribe.bind(n)}class qC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Tf),s.error===void 0&&(s.error=Tf),s.complete===void 0&&(s.complete=Tf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QC(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KC(t){return t===Ni?void 0:t}function QC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const XC={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},ZC=Ae.INFO,JC={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},eA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=JC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tg{constructor(e){this.name=e,this._logLevel=ZC,this._logHandler=eA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const tA=(t,e)=>e.some(n=>t instanceof n);let $0,B0;function nA(){return $0||($0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rA(){return B0||(B0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U1=new WeakMap,Vm=new WeakMap,F1=new WeakMap,Sf=new WeakMap,Sg=new WeakMap;function sA(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Gs(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&U1.set(n,t)}).catch(()=>{}),Sg.set(e,t),e}function iA(t){if(Vm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Vm.set(t,e)}let Lm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||F1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aA(t){Lm=t(Lm)}function oA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nf(this),e,...n);return F1.set(r,e.sort?e.sort():[e]),Gs(r)}:rA().includes(t)?function(...e){return t.apply(Nf(this),e),Gs(U1.get(this))}:function(...e){return Gs(t.apply(Nf(this),e))}}function lA(t){return typeof t=="function"?oA(t):(t instanceof IDBTransaction&&iA(t),tA(t,nA())?new Proxy(t,Lm):t)}function Gs(t){if(t instanceof IDBRequest)return sA(t);if(Sf.has(t))return Sf.get(t);const e=lA(t);return e!==t&&(Sf.set(t,e),Sg.set(e,t)),e}const Nf=t=>Sg.get(t);function cA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),o=Gs(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Gs(a.result),c.oldVersion,c.newVersion,Gs(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}const uA=["get","getKey","getAll","getAllKeys","count"],dA=["put","add","delete","clear"],If=new Map;function W0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(If.get(e))return If.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=dA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||uA.includes(n)))return;const i=async function(a,...o){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(o.shift())),(await Promise.all([d[n](...o),s&&c.done]))[0]};return If.set(e,i),i}aA(t=>({...t,get:(e,n,r)=>W0(e,n)||t.get(e,n,r),has:(e,n)=>!!W0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",q0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new Tg("@firebase/app"),mA="@firebase/app-compat",pA="@firebase/analytics-compat",gA="@firebase/analytics",vA="@firebase/app-check-compat",yA="@firebase/app-check",xA="@firebase/auth",wA="@firebase/auth-compat",_A="@firebase/database",bA="@firebase/data-connect",EA="@firebase/database-compat",kA="@firebase/functions",TA="@firebase/functions-compat",SA="@firebase/installations",NA="@firebase/installations-compat",IA="@firebase/messaging",CA="@firebase/messaging-compat",AA="@firebase/performance",RA="@firebase/performance-compat",PA="@firebase/remote-config",jA="@firebase/remote-config-compat",DA="@firebase/storage",OA="@firebase/storage-compat",MA="@firebase/firestore",VA="@firebase/vertexai-preview",LA="@firebase/firestore-compat",UA="firebase",FA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="[DEFAULT]",zA={[Um]:"fire-core",[mA]:"fire-core-compat",[gA]:"fire-analytics",[pA]:"fire-analytics-compat",[yA]:"fire-app-check",[vA]:"fire-app-check-compat",[xA]:"fire-auth",[wA]:"fire-auth-compat",[_A]:"fire-rtdb",[bA]:"fire-data-connect",[EA]:"fire-rtdb-compat",[kA]:"fire-fn",[TA]:"fire-fn-compat",[SA]:"fire-iid",[NA]:"fire-iid-compat",[IA]:"fire-fcm",[CA]:"fire-fcm-compat",[AA]:"fire-perf",[RA]:"fire-perf-compat",[PA]:"fire-rc",[jA]:"fire-rc-compat",[DA]:"fire-gcs",[OA]:"fire-gcs-compat",[MA]:"fire-fst",[LA]:"fire-fst-compat",[VA]:"fire-vertex","fire-js":"fire-js",[UA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new Map,$A=new Map,zm=new Map;function H0(t,e){try{t.container.addComponent(e)}catch(n){ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bi(t){const e=t.name;if(zm.has(e))return ts.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,t);for(const n of xd.values())H0(n,t);for(const n of $A.values())H0(n,t);return!0}function ph(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Er(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new mc("app","Firebase",BA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=FA;function z1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ks.create("bad-app-name",{appName:String(s)});if(n||(n=M1()),!n)throw Ks.create("no-options");const i=xd.get(s);if(i){if(yd(n,i.options)&&yd(r,i.config))return i;throw Ks.create("duplicate-app",{appName:s})}const a=new YC(s);for(const c of zm.values())a.addComponent(c);const o=new WA(n,r,a);return xd.set(s,o),o}function Ng(t=Fm){const e=xd.get(t);if(!e&&t===Fm&&M1())return z1();if(!e)throw Ks.create("no-app",{appName:t});return e}function Nr(t,e,n){var r;let s=(r=zA[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ts.warn(o.join(" "));return}Bi(new ei(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebase-heartbeat-database",HA=1,Kl="firebase-heartbeat-store";let Cf=null;function $1(){return Cf||(Cf=cA(qA,HA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),Cf}async function GA(t){try{const n=(await $1()).transaction(Kl),r=await n.objectStore(Kl).get(B1(t));return await n.done,r}catch(e){if(e instanceof Or)ts.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ts.warn(n.message)}}}async function G0(t,e){try{const r=(await $1()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,B1(t)),await r.done}catch(n){if(n instanceof Or)ts.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ts.warn(r.message)}}}function B1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=1024,QA=30*24*60*60*1e3;class YA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=K0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=QA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ts.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K0(),{heartbeatsToSend:r,unsentEntries:s}=XA(this._heartbeatsCache.heartbeats),i=vd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ts.warn(n),""}}}function K0(){return new Date().toISOString().substring(0,10)}function XA(t,e=KA){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Q0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Q0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LC()?UC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Q0(t){return vd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t){Bi(new ei("platform-logger",e=>new hA(e),"PRIVATE")),Bi(new ei("heartbeat",e=>new YA(e),"PRIVATE")),Nr(Um,q0,t),Nr(Um,q0,"esm2017"),Nr("fire-js","")}JA("");var eR="firebase",tR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(eR,tR,"app");function Ig(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function W1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nR=W1,q1=new mc("auth","Firebase",W1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Tg("@firebase/auth");function rR(t,...e){wd.logLevel<=Ae.WARN&&wd.warn(`Auth (${Ji}): ${t}`,...e)}function Pu(t,...e){wd.logLevel<=Ae.ERROR&&wd.error(`Auth (${Ji}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t,...e){throw Cg(t,...e)}function Ir(t,...e){return Cg(t,...e)}function H1(t,e,n){const r=Object.assign(Object.assign({},nR()),{[e]:n});return new mc("auth","Firebase",r).create(e,{appName:t.name})}function Qr(t){return H1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return q1.create(t,...e)}function ve(t,e,...n){if(!t)throw Cg(e,...n)}function Wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pu(e),new Error(e)}function ns(t,e){t||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sR(){return Y0()==="http:"||Y0()==="https:"}function Y0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sR()||DC()||"connection"in navigator)?navigator.onLine:!0}function aR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ns(n>e,"Short delay should be less than long delay!"),this.isMobile=RC()||OC()}get(){return iR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e){ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new gc(3e4,6e4);function ui(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function di(t,e,n,r,s={}){return K1(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const o=pc(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return jC()||(d.referrerPolicy="no-referrer"),G1.fetch()(Q1(t,t.config.apiHost,n,o),d)})}async function K1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},oR),e);try{const s=new uR(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw ou(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const o=i.ok?a.errorMessage:a.error.message,[c,d]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ou(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw ou(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw ou(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw H1(t,h,d);cr(t,h)}}catch(s){if(s instanceof Or)throw s;cr(t,"network-request-failed",{message:String(s)})}}async function vc(t,e,n,r,s={}){const i=await di(t,e,n,r,s);return"mfaPendingCredential"in i&&cr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Q1(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Ag(t.config,s):`${t.config.apiScheme}://${s}`}function cR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),lR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ir(t,e,r);return s.customData._tokenResponse=n,s}function X0(t){return t!==void 0&&t.enterprise!==void 0}class dR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function hR(t,e){return di(t,"GET","/v2/recaptchaConfig",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e){return di(t,"POST","/v1/accounts:delete",e)}async function Y1(t,e){return di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mR(t,e=!1){const n=ct(t),r=await n.getIdToken(e),s=Rg(r);ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:wl(Af(s.auth_time)),issuedAtTime:wl(Af(s.iat)),expirationTime:wl(Af(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Af(t){return Number(t)*1e3}function Rg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pu("JWT malformed, contained fewer than 3 sections"),null;try{const s=j1(n);return s?JSON.parse(s):(Pu("Failed to decode base64 JWT payload"),null)}catch(s){return Pu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Z0(t){const e=Rg(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&pR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ql(t,Y1(n,{idToken:r}));ve(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?X1(i.providerUserInfo):[],o=yR(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),h=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Bm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function vR(t){const e=ct(t);await _d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yR(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function X1(t){return t.map(e=>{var{providerId:n}=e,r=Ig(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(t,e){const n=await K1(t,{},async()=>{const r=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=Q1(t,s,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",G1.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wR(t,e){return di(t,"POST","/v2/accounts:revokeToken",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Z0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await xR(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Ua;return r&&(ve(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(ve(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(ve(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ig(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Bm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mR(this,e)}reload(){return vR(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _d(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Ql(this,fR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,o,c,d,h;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,I=(a=n.photoURL)!==null&&a!==void 0?a:void 0,C=(o=n.tenantId)!==null&&o!==void 0?o:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,k=(d=n.createdAt)!==null&&d!==void 0?d:void 0,x=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:j,isAnonymous:P,providerData:O,stsTokenManager:b}=n;ve(w&&b,e,"internal-error");const y=Ua.fromJSON(this.name,b);ve(typeof w=="string",e,"internal-error"),xs(m,e.name),xs(p,e.name),ve(typeof j=="boolean",e,"internal-error"),ve(typeof P=="boolean",e,"internal-error"),xs(g,e.name),xs(I,e.name),xs(C,e.name),xs(S,e.name),xs(k,e.name),xs(x,e.name);const E=new qr({uid:w,auth:e,email:p,emailVerified:j,displayName:m,isAnonymous:P,photoURL:I,phoneNumber:g,tenantId:C,stsTokenManager:y,createdAt:k,lastLoginAt:x});return O&&Array.isArray(O)&&(E.providerData=O.map(T=>Object.assign({},T))),S&&(E._redirectEventId=S),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ua;s.updateFromServerResponse(n);const i=new qr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await _d(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ve(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?X1(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),o=new Ua;o.updateFromIdToken(r);const c=new qr({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Bm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;function Hr(t){ns(t instanceof Function,"Expected a class definition");let e=J0.get(t);return e?(ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Z1.type="NONE";const ex=Z1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e,n){return`firebase:${t}:${e}:${n}`}class Fa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ju(this.userKey,s.apiKey,i),this.fullPersistenceKey=ju("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fa(Hr(ex),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Hr(ex);const a=ju(r,e.config.apiKey,e.name);let o=null;for(const d of n)try{const h=await d._get(a);if(h){const m=qr._fromJSON(e,h);d!==i&&(o=m),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Fa(i,e,r):(i=c[0],o&&await i._set(a,o.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new Fa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sE(e))return"Blackberry";if(iE(e))return"Webos";if(eE(e))return"Safari";if((e.includes("chrome/")||tE(e))&&!e.includes("edge/"))return"Chrome";if(rE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function J1(t=tn()){return/firefox\//i.test(t)}function eE(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tE(t=tn()){return/crios\//i.test(t)}function nE(t=tn()){return/iemobile/i.test(t)}function rE(t=tn()){return/android/i.test(t)}function sE(t=tn()){return/blackberry/i.test(t)}function iE(t=tn()){return/webos/i.test(t)}function Pg(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _R(t=tn()){var e;return Pg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bR(){return MC()&&document.documentMode===10}function aE(t=tn()){return Pg(t)||rE(t)||iE(t)||sE(t)||/windows phone/i.test(t)||nE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e=[]){let n;switch(t){case"Browser":n=tx(tn());break;case"Worker":n=`${tx(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ji}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,o)=>{try{const c=e(i);a(c)}catch(c){o(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(t,e={}){return di(t,"GET","/v2/passwordPolicy",ui(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=6;class SR{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:TR,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,o;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nx(this),this.idTokenSubscription=new nx(this),this.beforeStateQueue=new ER(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Fa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Y1(this,{idToken:e}),r=await qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Er(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===o)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _d(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(Qr(this));const n=e?ct(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kR(this),n=new SR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ea(t){return ct(t)}class nx{constructor(e){this.auth=e,this.observer=null,this.addObserver=WC(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IR(t){gh=t}function lE(t){return gh.loadJS(t)}function CR(){return gh.recaptchaEnterpriseScript}function AR(){return gh.gapiScript}function RR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const PR="recaptcha-enterprise",jR="NO_RECAPTCHA";class DR{constructor(e){this.type=PR,this.auth=ea(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,o)=>{hR(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const d=new dR(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(c=>{o(c)})})}function s(i,a,o){const c=window.grecaptcha;X0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(jR)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(o=>{if(!n&&X0(window.grecaptcha))s(o,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=CR();c.length!==0&&(c+=o),lE(c).then(()=>{s(o,i,a)}).catch(d=>{a(d)})}}).catch(o=>{a(o)})})}}async function rx(t,e,n,r=!1){const s=new DR(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Wm(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await rx(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await rx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e){const n=ph(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(yd(i,e??{}))return s;cr(s,"already-initialized")}return n.initialize({options:e})}function MR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VR(t,e,n){const r=ea(t);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=cE(e),{host:a,port:o}=LR(e),c=o===null?"":`:${o}`;r.config.emulator={url:`${i}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),UR()}function cE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LR(t){const e=cE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:sx(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:sx(a)}}}function sx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function FR(t,e){return di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(t,e){return vc(t,"POST","/v1/accounts:signInWithPassword",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(t,e){return vc(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}async function BR(t,e){return vc(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends jg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,n,"signInWithPassword",zR);case"emailLink":return $R(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,r,"signUpPassword",FR);case"emailLink":return BR(e,{idToken:n,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(t,e){return vc(t,"POST","/v1/accounts:signInWithIdp",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="http://localhost";class Wi extends jg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ig(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Wi(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return za(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,za(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,za(e,n)}buildRequest(){const e={requestUri:WR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HR(t){const e=rl(sl(t)).link,n=e?rl(sl(e)).deep_link_id:null,r=rl(sl(t)).deep_link_id;return(r?rl(sl(r)).link:null)||r||n||e||t}class Dg{constructor(e){var n,r,s,i,a,o;const c=rl(sl(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,m=qR((s=c.mode)!==null&&s!==void 0?s:null);ve(d&&h&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=c.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=HR(e);try{return new Dg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dg.parseLink(n);return ve(r,"argument-error"),Yl._fromEmailAndCode(e,r.code,r.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends uE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends yc{constructor(){super("facebook.com")}static credential(e){return Wi._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wi._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends yc{constructor(){super("github.com")}static credential(e){return Wi._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends yc{constructor(){super("twitter.com")}static credential(e,n){return Wi._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cs.credential(n,r)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(t,e){return vc(t,"POST","/v1/accounts:signUp",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await qr._fromIdTokenResponse(e,r,s),a=ix(r);return new qi({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=ix(r);return new qi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function ix(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends Or{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,bd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new bd(e,n,r,s)}}function dE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?bd._fromErrorAndOperation(t,i,e,r):i})}async function KR(t,e,n=!1){const r=await Ql(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t,e,n=!1){const{auth:r}=t;if(Er(r.app))return Promise.reject(Qr(r));const s="reauthenticate";try{const i=await Ql(t,dE(r,s,e,t),n);ve(i.idToken,r,"internal-error");const a=Rg(i.idToken);ve(a,r,"internal-error");const{sub:o}=a;return ve(t.uid===o,r,"user-mismatch"),qi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&cr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hE(t,e,n=!1){if(Er(t.app))return Promise.reject(Qr(t));const r="signIn",s=await dE(t,r,e),i=await qi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function YR(t,e){return hE(ea(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fE(t){const e=ea(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XR(t,e,n){if(Er(t.app))return Promise.reject(Qr(t));const r=ea(t),a=await Wm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GR).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&fE(t),c}),o=await qi._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function ZR(t,e,n){return Er(t.app)?Promise.reject(Qr(t)):YR(ct(t),_o.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fE(t),r})}function JR(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function eP(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function tP(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function nP(t){return ct(t).signOut()}const Ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ed,"1"),this.storage.removeItem(Ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=1e3,sP=10;class pE extends mE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);bR()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,sP):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pE.type="LOCAL";const iP=pE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE extends mE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gE.type="SESSION";const vE=gE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new vh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const o=Array.from(a).map(async d=>d(n.origin,i)),c=await aP(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((o,c)=>{const d=Og("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function lP(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function cP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dP(){return yE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="firebaseLocalStorageDb",hP=1,kd="firebaseLocalStorage",wE="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yh(t,e){return t.transaction([kd],e?"readwrite":"readonly").objectStore(kd)}function fP(){const t=indexedDB.deleteDatabase(xE);return new xc(t).toPromise()}function qm(){const t=indexedDB.open(xE,hP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kd,{keyPath:wE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kd)?e(r):(r.close(),await fP(),e(await qm()))})})}async function ax(t,e,n){const r=yh(t,!0).put({[wE]:e,value:n});return new xc(r).toPromise()}async function mP(t,e){const n=yh(t,!1).get(e),r=await new xc(n).toPromise();return r===void 0?null:r.value}function ox(t,e){const n=yh(t,!0).delete(e);return new xc(n).toPromise()}const pP=800,gP=3;class _E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(dP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cP(),!this.activeServiceWorker)return;this.sender=new oP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await ax(e,Ed,"1"),await ox(e,Ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ax(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ox(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=yh(s,!1).getAll();return new xc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_E.type="LOCAL";const vP=_E;new gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t,e){return e?Hr(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends jg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return za(e,this._buildIdpRequest())}_linkToIdToken(e,n){return za(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return za(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xP(t){return hE(t.auth,new Mg(t),t.bypassAuthState)}function wP(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),QR(n,new Mg(t),t.bypassAuthState)}async function _P(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),KR(n,new Mg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xP;case"linkViaPopup":case"linkViaRedirect":return _P;case"reauthViaPopup":case"reauthViaRedirect":return wP;default:cr(this.auth,"internal-error")}}resolve(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new gc(2e3,1e4);class Pa extends bE{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Pa.currentPopupAction&&Pa.currentPopupAction.cancel(),Pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const e=Og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bP.get())};e()}}Pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="pendingRedirect",Du=new Map;class kP extends bE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Du.get(this.auth._key());if(!e){try{const r=await TP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Du.set(this.auth._key(),e)}return this.bypassAuthState||Du.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TP(t,e){const n=IP(e),r=NP(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function SP(t,e){Du.set(t._key(),e)}function NP(t){return Hr(t._redirectPersistence)}function IP(t){return ju(EP,t.config.apiKey,t.name)}async function CP(t,e,n=!1){if(Er(t.app))return Promise.reject(Qr(t));const r=ea(t),s=yP(r,e),a=await new kP(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=10*60*1e3;class RP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!EE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AP&&this.cachedEventUids.clear(),this.cachedEventUids.has(lx(e))}saveEventToCache(e){this.cachedEventUids.add(lx(e)),this.lastProcessedEventTime=Date.now()}}function lx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t,e={}){return di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OP=/^https?/;async function MP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jP(t);for(const n of e)try{if(VP(n))return}catch{}cr(t,"unauthorized-domain")}function VP(t){const e=$m(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!OP.test(n))return!1;if(DP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new gc(3e4,6e4);function cx(){const t=Cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UP(t){return new Promise((e,n)=>{var r,s,i;function a(){cx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cx(),n(Ir(t,"network-request-failed"))},timeout:LP.get()})}if(!((s=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Cr().gapi)===null||i===void 0)&&i.load)a();else{const o=RR("iframefcb");return Cr()[o]=()=>{gapi.load?a():n(Ir(t,"network-request-failed"))},lE(`${AR()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Ou=null,e})}let Ou=null;function FP(t){return Ou=Ou||UP(t),Ou}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new gc(5e3,15e3),$P="__/auth/iframe",BP="emulator/auth/iframe",WP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HP(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ag(e,BP):`https://${t.config.authDomain}/${$P}`,r={apiKey:e.apiKey,appName:t.name,v:Ji},s=qP.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${pc(r).slice(1)}`}async function GP(t){const e=await FP(t),n=Cr().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:HP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WP,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Ir(t,"network-request-failed"),o=Cr().setTimeout(()=>{i(a)},zP.get());function c(){Cr().clearTimeout(o),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QP=500,YP=600,XP="_blank",ZP="http://localhost";class ux{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JP(t,e,n,r=QP,s=YP){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c=Object.assign(Object.assign({},KP),{width:r.toString(),height:s.toString(),top:i,left:a}),d=tn().toLowerCase();n&&(o=tE(d)?XP:n),J1(d)&&(e=e||ZP,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[g,I])=>`${p}${g}=${I},`,"");if(_R(d)&&o!=="_self")return ej(e||"",o),new ux(null);const m=window.open(e||"",o,h);ve(m,t,"popup-blocked");try{m.focus()}catch{}return new ux(m)}function ej(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="__/auth/handler",nj="emulator/auth/handler",rj=encodeURIComponent("fac");async function dx(t,e,n,r,s,i){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ji,eventId:s};if(e instanceof uE){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",BC(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))a[h]=m}if(e instanceof yc){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const c=await t._getAppCheckToken(),d=c?`#${rj}=${encodeURIComponent(c)}`:"";return`${sj(t)}?${pc(o).slice(1)}${d}`}function sj({config:t}){return t.emulator?Ag(t,nj):`https://${t.authDomain}/${tj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="webStorageSupport";class ij{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vE,this._completeRedirectFn=CP,this._overrideRedirectResult=SP}async _openPopup(e,n,r,s){var i;ns((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await dx(e,n,r,$m(),s);return JP(e,a,Og())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await dx(e,n,r,$m(),s);return lP(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ns(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GP(e),r=new RP(e);return n.register("authEvent",s=>(ve(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rf,{type:Rf},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Rf];a!==void 0&&n(!!a),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aE()||eE()||Pg()}}const aj=ij;var hx="@firebase/auth",fx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cj(t){Bi(new ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;ve(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oE(t)},d=new NR(r,s,i,c);return MR(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bi(new ei("auth-internal",e=>{const n=ea(e.getProvider("auth").getImmediate());return(r=>new oj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(hx,fx,lj(t)),Nr(hx,fx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=5*60,dj=V1("authIdTokenMaxAge")||uj;let mx=null;const hj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dj)return;const s=n==null?void 0:n.token;mx!==s&&(mx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function fj(t=Ng()){const e=ph(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OR(t,{popupRedirectResolver:aj,persistence:[vP,iP,vE]}),r=V1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=hj(i.toString());eP(n,a,()=>a(n.currentUser)),JR(n,o=>a(o))}}const s=D1("auth");return s&&VR(n,`http://${s}`),n}function mj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}IR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ir("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",mj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cj("Browser");var px=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mi,kE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,y){function E(){}E.prototype=y.prototype,b.D=y.prototype,b.prototype=new E,b.prototype.constructor=b,b.C=function(T,A,R){for(var N=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)N[ie-2]=arguments[ie];return y.prototype[A].apply(T,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,y,E){E||(E=0);var T=Array(16);if(typeof y=="string")for(var A=0;16>A;++A)T[A]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(A=0;16>A;++A)T[A]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=b.g[0],E=b.g[1],A=b.g[2];var R=b.g[3],N=y+(R^E&(A^R))+T[0]+3614090360&4294967295;y=E+(N<<7&4294967295|N>>>25),N=R+(A^y&(E^A))+T[1]+3905402710&4294967295,R=y+(N<<12&4294967295|N>>>20),N=A+(E^R&(y^E))+T[2]+606105819&4294967295,A=R+(N<<17&4294967295|N>>>15),N=E+(y^A&(R^y))+T[3]+3250441966&4294967295,E=A+(N<<22&4294967295|N>>>10),N=y+(R^E&(A^R))+T[4]+4118548399&4294967295,y=E+(N<<7&4294967295|N>>>25),N=R+(A^y&(E^A))+T[5]+1200080426&4294967295,R=y+(N<<12&4294967295|N>>>20),N=A+(E^R&(y^E))+T[6]+2821735955&4294967295,A=R+(N<<17&4294967295|N>>>15),N=E+(y^A&(R^y))+T[7]+4249261313&4294967295,E=A+(N<<22&4294967295|N>>>10),N=y+(R^E&(A^R))+T[8]+1770035416&4294967295,y=E+(N<<7&4294967295|N>>>25),N=R+(A^y&(E^A))+T[9]+2336552879&4294967295,R=y+(N<<12&4294967295|N>>>20),N=A+(E^R&(y^E))+T[10]+4294925233&4294967295,A=R+(N<<17&4294967295|N>>>15),N=E+(y^A&(R^y))+T[11]+2304563134&4294967295,E=A+(N<<22&4294967295|N>>>10),N=y+(R^E&(A^R))+T[12]+1804603682&4294967295,y=E+(N<<7&4294967295|N>>>25),N=R+(A^y&(E^A))+T[13]+4254626195&4294967295,R=y+(N<<12&4294967295|N>>>20),N=A+(E^R&(y^E))+T[14]+2792965006&4294967295,A=R+(N<<17&4294967295|N>>>15),N=E+(y^A&(R^y))+T[15]+1236535329&4294967295,E=A+(N<<22&4294967295|N>>>10),N=y+(A^R&(E^A))+T[1]+4129170786&4294967295,y=E+(N<<5&4294967295|N>>>27),N=R+(E^A&(y^E))+T[6]+3225465664&4294967295,R=y+(N<<9&4294967295|N>>>23),N=A+(y^E&(R^y))+T[11]+643717713&4294967295,A=R+(N<<14&4294967295|N>>>18),N=E+(R^y&(A^R))+T[0]+3921069994&4294967295,E=A+(N<<20&4294967295|N>>>12),N=y+(A^R&(E^A))+T[5]+3593408605&4294967295,y=E+(N<<5&4294967295|N>>>27),N=R+(E^A&(y^E))+T[10]+38016083&4294967295,R=y+(N<<9&4294967295|N>>>23),N=A+(y^E&(R^y))+T[15]+3634488961&4294967295,A=R+(N<<14&4294967295|N>>>18),N=E+(R^y&(A^R))+T[4]+3889429448&4294967295,E=A+(N<<20&4294967295|N>>>12),N=y+(A^R&(E^A))+T[9]+568446438&4294967295,y=E+(N<<5&4294967295|N>>>27),N=R+(E^A&(y^E))+T[14]+3275163606&4294967295,R=y+(N<<9&4294967295|N>>>23),N=A+(y^E&(R^y))+T[3]+4107603335&4294967295,A=R+(N<<14&4294967295|N>>>18),N=E+(R^y&(A^R))+T[8]+1163531501&4294967295,E=A+(N<<20&4294967295|N>>>12),N=y+(A^R&(E^A))+T[13]+2850285829&4294967295,y=E+(N<<5&4294967295|N>>>27),N=R+(E^A&(y^E))+T[2]+4243563512&4294967295,R=y+(N<<9&4294967295|N>>>23),N=A+(y^E&(R^y))+T[7]+1735328473&4294967295,A=R+(N<<14&4294967295|N>>>18),N=E+(R^y&(A^R))+T[12]+2368359562&4294967295,E=A+(N<<20&4294967295|N>>>12),N=y+(E^A^R)+T[5]+4294588738&4294967295,y=E+(N<<4&4294967295|N>>>28),N=R+(y^E^A)+T[8]+2272392833&4294967295,R=y+(N<<11&4294967295|N>>>21),N=A+(R^y^E)+T[11]+1839030562&4294967295,A=R+(N<<16&4294967295|N>>>16),N=E+(A^R^y)+T[14]+4259657740&4294967295,E=A+(N<<23&4294967295|N>>>9),N=y+(E^A^R)+T[1]+2763975236&4294967295,y=E+(N<<4&4294967295|N>>>28),N=R+(y^E^A)+T[4]+1272893353&4294967295,R=y+(N<<11&4294967295|N>>>21),N=A+(R^y^E)+T[7]+4139469664&4294967295,A=R+(N<<16&4294967295|N>>>16),N=E+(A^R^y)+T[10]+3200236656&4294967295,E=A+(N<<23&4294967295|N>>>9),N=y+(E^A^R)+T[13]+681279174&4294967295,y=E+(N<<4&4294967295|N>>>28),N=R+(y^E^A)+T[0]+3936430074&4294967295,R=y+(N<<11&4294967295|N>>>21),N=A+(R^y^E)+T[3]+3572445317&4294967295,A=R+(N<<16&4294967295|N>>>16),N=E+(A^R^y)+T[6]+76029189&4294967295,E=A+(N<<23&4294967295|N>>>9),N=y+(E^A^R)+T[9]+3654602809&4294967295,y=E+(N<<4&4294967295|N>>>28),N=R+(y^E^A)+T[12]+3873151461&4294967295,R=y+(N<<11&4294967295|N>>>21),N=A+(R^y^E)+T[15]+530742520&4294967295,A=R+(N<<16&4294967295|N>>>16),N=E+(A^R^y)+T[2]+3299628645&4294967295,E=A+(N<<23&4294967295|N>>>9),N=y+(A^(E|~R))+T[0]+4096336452&4294967295,y=E+(N<<6&4294967295|N>>>26),N=R+(E^(y|~A))+T[7]+1126891415&4294967295,R=y+(N<<10&4294967295|N>>>22),N=A+(y^(R|~E))+T[14]+2878612391&4294967295,A=R+(N<<15&4294967295|N>>>17),N=E+(R^(A|~y))+T[5]+4237533241&4294967295,E=A+(N<<21&4294967295|N>>>11),N=y+(A^(E|~R))+T[12]+1700485571&4294967295,y=E+(N<<6&4294967295|N>>>26),N=R+(E^(y|~A))+T[3]+2399980690&4294967295,R=y+(N<<10&4294967295|N>>>22),N=A+(y^(R|~E))+T[10]+4293915773&4294967295,A=R+(N<<15&4294967295|N>>>17),N=E+(R^(A|~y))+T[1]+2240044497&4294967295,E=A+(N<<21&4294967295|N>>>11),N=y+(A^(E|~R))+T[8]+1873313359&4294967295,y=E+(N<<6&4294967295|N>>>26),N=R+(E^(y|~A))+T[15]+4264355552&4294967295,R=y+(N<<10&4294967295|N>>>22),N=A+(y^(R|~E))+T[6]+2734768916&4294967295,A=R+(N<<15&4294967295|N>>>17),N=E+(R^(A|~y))+T[13]+1309151649&4294967295,E=A+(N<<21&4294967295|N>>>11),N=y+(A^(E|~R))+T[4]+4149444226&4294967295,y=E+(N<<6&4294967295|N>>>26),N=R+(E^(y|~A))+T[11]+3174756917&4294967295,R=y+(N<<10&4294967295|N>>>22),N=A+(y^(R|~E))+T[2]+718787259&4294967295,A=R+(N<<15&4294967295|N>>>17),N=E+(R^(A|~y))+T[9]+3951481745&4294967295,b.g[0]=b.g[0]+y&4294967295,b.g[1]=b.g[1]+(A+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+A&4294967295,b.g[3]=b.g[3]+R&4294967295}r.prototype.u=function(b,y){y===void 0&&(y=b.length);for(var E=y-this.blockSize,T=this.B,A=this.h,R=0;R<y;){if(A==0)for(;R<=E;)s(this,b,R),R+=this.blockSize;if(typeof b=="string"){for(;R<y;)if(T[A++]=b.charCodeAt(R++),A==this.blockSize){s(this,T),A=0;break}}else for(;R<y;)if(T[A++]=b[R++],A==this.blockSize){s(this,T),A=0;break}}this.h=A,this.o+=y},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var y=1;y<b.length-8;++y)b[y]=0;var E=8*this.o;for(y=b.length-8;y<b.length;++y)b[y]=E&255,E/=256;for(this.u(b),b=Array(16),y=E=0;4>y;++y)for(var T=0;32>T;T+=8)b[E++]=this.g[y]>>>T&255;return b};function i(b,y){var E=o;return Object.prototype.hasOwnProperty.call(E,b)?E[b]:E[b]=y(b)}function a(b,y){this.h=y;for(var E=[],T=!0,A=b.length-1;0<=A;A--){var R=b[A]|0;T&&R==y||(E[A]=R,T=!1)}this.g=E}var o={};function c(b){return-128<=b&&128>b?i(b,function(y){return new a([y|0],0>y?-1:0)}):new a([b|0],0>b?-1:0)}function d(b){if(isNaN(b)||!isFinite(b))return m;if(0>b)return S(d(-b));for(var y=[],E=1,T=0;b>=E;T++)y[T]=b/E|0,E*=4294967296;return new a(y,0)}function h(b,y){if(b.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(b.charAt(0)=="-")return S(h(b.substring(1),y));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(y,8)),T=m,A=0;A<b.length;A+=8){var R=Math.min(8,b.length-A),N=parseInt(b.substring(A,A+R),y);8>R?(R=d(Math.pow(y,R)),T=T.j(R).add(d(N))):(T=T.j(E),T=T.add(d(N)))}return T}var m=c(0),p=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(C(this))return-S(this).m();for(var b=0,y=1,E=0;E<this.g.length;E++){var T=this.i(E);b+=(0<=T?T:4294967296+T)*y,y*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I(this))return"0";if(C(this))return"-"+S(this).toString(b);for(var y=d(Math.pow(b,6)),E=this,T="";;){var A=j(E,y).g;E=k(E,A.j(y));var R=((0<E.g.length?E.g[0]:E.h)>>>0).toString(b);if(E=A,I(E))return R+T;for(;6>R.length;)R="0"+R;T=R+T}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function I(b){if(b.h!=0)return!1;for(var y=0;y<b.g.length;y++)if(b.g[y]!=0)return!1;return!0}function C(b){return b.h==-1}t.l=function(b){return b=k(this,b),C(b)?-1:I(b)?0:1};function S(b){for(var y=b.g.length,E=[],T=0;T<y;T++)E[T]=~b.g[T];return new a(E,~b.h).add(p)}t.abs=function(){return C(this)?S(this):this},t.add=function(b){for(var y=Math.max(this.g.length,b.g.length),E=[],T=0,A=0;A<=y;A++){var R=T+(this.i(A)&65535)+(b.i(A)&65535),N=(R>>>16)+(this.i(A)>>>16)+(b.i(A)>>>16);T=N>>>16,R&=65535,N&=65535,E[A]=N<<16|R}return new a(E,E[E.length-1]&-2147483648?-1:0)};function k(b,y){return b.add(S(y))}t.j=function(b){if(I(this)||I(b))return m;if(C(this))return C(b)?S(this).j(S(b)):S(S(this).j(b));if(C(b))return S(this.j(S(b)));if(0>this.l(g)&&0>b.l(g))return d(this.m()*b.m());for(var y=this.g.length+b.g.length,E=[],T=0;T<2*y;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<b.g.length;A++){var R=this.i(T)>>>16,N=this.i(T)&65535,ie=b.i(A)>>>16,te=b.i(A)&65535;E[2*T+2*A]+=N*te,x(E,2*T+2*A),E[2*T+2*A+1]+=R*te,x(E,2*T+2*A+1),E[2*T+2*A+1]+=N*ie,x(E,2*T+2*A+1),E[2*T+2*A+2]+=R*ie,x(E,2*T+2*A+2)}for(T=0;T<y;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=y;T<2*y;T++)E[T]=0;return new a(E,0)};function x(b,y){for(;(b[y]&65535)!=b[y];)b[y+1]+=b[y]>>>16,b[y]&=65535,y++}function w(b,y){this.g=b,this.h=y}function j(b,y){if(I(y))throw Error("division by zero");if(I(b))return new w(m,m);if(C(b))return y=j(S(b),y),new w(S(y.g),S(y.h));if(C(y))return y=j(b,S(y)),new w(S(y.g),y.h);if(30<b.g.length){if(C(b)||C(y))throw Error("slowDivide_ only works with positive integers.");for(var E=p,T=y;0>=T.l(b);)E=P(E),T=P(T);var A=O(E,1),R=O(T,1);for(T=O(T,2),E=O(E,2);!I(T);){var N=R.add(T);0>=N.l(b)&&(A=A.add(E),R=N),T=O(T,1),E=O(E,1)}return y=k(b,A.j(y)),new w(A,y)}for(A=m;0<=b.l(y);){for(E=Math.max(1,Math.floor(b.m()/y.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),R=d(E),N=R.j(y);C(N)||0<N.l(b);)E-=T,R=d(E),N=R.j(y);I(R)&&(R=p),A=A.add(R),b=k(b,N)}return new w(A,b)}t.A=function(b){return j(this,b).h},t.and=function(b){for(var y=Math.max(this.g.length,b.g.length),E=[],T=0;T<y;T++)E[T]=this.i(T)&b.i(T);return new a(E,this.h&b.h)},t.or=function(b){for(var y=Math.max(this.g.length,b.g.length),E=[],T=0;T<y;T++)E[T]=this.i(T)|b.i(T);return new a(E,this.h|b.h)},t.xor=function(b){for(var y=Math.max(this.g.length,b.g.length),E=[],T=0;T<y;T++)E[T]=this.i(T)^b.i(T);return new a(E,this.h^b.h)};function P(b){for(var y=b.g.length+1,E=[],T=0;T<y;T++)E[T]=b.i(T)<<1|b.i(T-1)>>>31;return new a(E,b.h)}function O(b,y){var E=y>>5;y%=32;for(var T=b.g.length-E,A=[],R=0;R<T;R++)A[R]=0<y?b.i(R+E)>>>y|b.i(R+E+1)<<32-y:b.i(R+E);return new a(A,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kE=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,Mi=a}).apply(typeof px<"u"?px:typeof self<"u"?self:typeof window<"u"?window:{});var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TE,il,SE,Mu,Hm,NE,IE,CE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,v){return u==Array.prototype||u==Object.prototype||(u[f]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lu=="object"&&lu];for(var f=0;f<u.length;++f){var v=u[f];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(u,f){if(f)e:{var v=r;u=u.split(".");for(var _=0;_<u.length-1;_++){var M=u[_];if(!(M in v))break e;v=v[M]}u=u[u.length-1],_=v[u],f=f(_),f!=_&&f!=null&&e(v,u,{configurable:!0,writable:!0,value:f})}}function i(u,f){u instanceof String&&(u+="");var v=0,_=!1,M={next:function(){if(!_&&v<u.length){var F=v++;return{value:f(F,u[F]),done:!1}}return _=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(u){return u||function(){return i(this,function(f,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function d(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,v){return u.call.apply(u.bind,arguments)}function m(u,f,v){if(!u)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,_),u.apply(f,M)}}return function(){return u.apply(f,arguments)}}function p(u,f,v){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,p.apply(null,arguments)}function g(u,f){var v=Array.prototype.slice.call(arguments,1);return function(){var _=v.slice();return _.push.apply(_,arguments),u.apply(this,_)}}function I(u,f){function v(){}v.prototype=f.prototype,u.aa=f.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(_,M,F){for(var ee=Array(arguments.length-2),He=2;He<arguments.length;He++)ee[He-2]=arguments[He];return f.prototype[M].apply(_,ee)}}function C(u){const f=u.length;if(0<f){const v=Array(f);for(let _=0;_<f;_++)v[_]=u[_];return v}return[]}function S(u,f){for(let v=1;v<arguments.length;v++){const _=arguments[v];if(c(_)){const M=u.length||0,F=_.length||0;u.length=M+F;for(let ee=0;ee<F;ee++)u[M+ee]=_[ee]}else u.push(_)}}class k{constructor(f,v){this.i=f,this.j=v,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function x(u){return/^[\s\xa0]*$/.test(u)}function w(){var u=o.navigator;return u&&(u=u.userAgent)?u:""}function j(u){return j[" "](u),u}j[" "]=function(){};var P=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function O(u,f,v){for(const _ in u)f.call(v,u[_],_,u)}function b(u,f){for(const v in u)f.call(void 0,u[v],v,u)}function y(u){const f={};for(const v in u)f[v]=u[v];return f}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,f){let v,_;for(let M=1;M<arguments.length;M++){_=arguments[M];for(v in _)u[v]=_[v];for(let F=0;F<E.length;F++)v=E[F],Object.prototype.hasOwnProperty.call(_,v)&&(u[v]=_[v])}}function A(u){var f=1;u=u.split(":");const v=[];for(;0<f&&u.length;)v.push(u.shift()),f--;return u.length&&v.push(u.join(":")),v}function R(u){o.setTimeout(()=>{throw u},0)}function N(){var u=L;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class ie{constructor(){this.h=this.g=null}add(f,v){const _=te.get();_.set(f,v),this.h?this.h.next=_:this.g=_,this.h=_}}var te=new k(()=>new fe,u=>u.reset());class fe{constructor(){this.next=this.g=this.h=null}set(f,v){this.h=f,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let q,W=!1,L=new ie,Y=()=>{const u=o.Promise.resolve(void 0);q=()=>{u.then(le)}};var le=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(v){R(v)}var f=te;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}W=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};o.addEventListener("test",v,f),o.removeEventListener("test",v,f)}catch{}return u}();function De(u,f){if(he.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,_=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(P){e:{try{j(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else v=="mouseover"?f=u.fromElement:v=="mouseout"&&(f=u.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ct[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&De.aa.h.call(this)}}I(De,he);var Ct={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),cs=0;function Kn(u,f,v,_,M){this.listener=u,this.proxy=null,this.src=f,this.type=v,this.capture=!!_,this.ha=M,this.key=++cs,this.da=this.fa=!1}function _n(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function On(u){this.src=u,this.g={},this.h=0}On.prototype.add=function(u,f,v,_,M){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var ee=us(u,f,_,M);return-1<ee?(f=u[ee],v||(f.fa=!1)):(f=new Kn(f,this.src,F,!!_,M),f.fa=v,u.push(f)),f};function fr(u,f){var v=f.type;if(v in u.g){var _=u.g[v],M=Array.prototype.indexOf.call(_,f,void 0),F;(F=0<=M)&&Array.prototype.splice.call(_,M,1),F&&(_n(f),u.g[v].length==0&&(delete u.g[v],u.h--))}}function us(u,f,v,_){for(var M=0;M<u.length;++M){var F=u[M];if(!F.da&&F.listener==f&&F.capture==!!v&&F.ha==_)return M}return-1}var ds="closure_lm_"+(1e6*Math.random()|0),hs={};function yi(u,f,v,_,M){if(Array.isArray(f)){for(var F=0;F<f.length;F++)yi(u,f[F],v,_,M);return null}return v=K(v),u&&u[Ie]?u.K(f,v,d(_)?!!_.capture:!1,M):So(u,f,v,!1,_,M)}function So(u,f,v,_,M,F){if(!f)throw Error("Invalid event type");var ee=d(M)?!!M.capture:!!M,He=J(u);if(He||(u[ds]=He=new On(u)),v=He.add(f,v,_,ee,F),v.proxy)return v;if(_=oa(),v.proxy=_,_.src=u,_.listener=v,u.addEventListener)Te||(M=ee),M===void 0&&(M=!1),u.addEventListener(f.toString(),_,M);else if(u.attachEvent)u.attachEvent(V(f.toString()),_);else if(u.addListener&&u.removeListener)u.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return v}function oa(){function u(v){return f.call(u.src,u.listener,v)}const f=z;return u}function xi(u,f,v,_,M){if(Array.isArray(f))for(var F=0;F<f.length;F++)xi(u,f[F],v,_,M);else _=d(_)?!!_.capture:!!_,v=K(v),u&&u[Ie]?(u=u.i,f=String(f).toString(),f in u.g&&(F=u.g[f],v=us(F,v,_,M),-1<v&&(_n(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete u.g[f],u.h--)))):u&&(u=J(u))&&(f=u.g[f.toString()],u=-1,f&&(u=us(f,v,_,M)),(v=-1<u?f[u]:null)&&D(v))}function D(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Ie])fr(f.i,u);else{var v=u.type,_=u.proxy;f.removeEventListener?f.removeEventListener(v,_,u.capture):f.detachEvent?f.detachEvent(V(v),_):f.addListener&&f.removeListener&&f.removeListener(_),(v=J(f))?(fr(v,u),v.h==0&&(v.src=null,f[ds]=null)):_n(u)}}}function V(u){return u in hs?hs[u]:hs[u]="on"+u}function z(u,f){if(u.da)u=!0;else{f=new De(f,this);var v=u.listener,_=u.ha||u.src;u.fa&&D(u),u=v.call(_,f)}return u}function J(u){return u=u[ds],u instanceof On?u:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function K(u){return typeof u=="function"?u:(u[X]||(u[X]=function(f){return u.handleEvent(f)}),u[X])}function Z(){se.call(this),this.i=new On(this),this.M=this,this.F=null}I(Z,se),Z.prototype[Ie]=!0,Z.prototype.removeEventListener=function(u,f,v,_){xi(this,u,f,v,_)};function pe(u,f){var v,_=u.F;if(_)for(v=[];_;_=_.F)v.push(_);if(u=u.M,_=f.type||f,typeof f=="string")f=new he(f,u);else if(f instanceof he)f.target=f.target||u;else{var M=f;f=new he(_,u),T(f,M)}if(M=!0,v)for(var F=v.length-1;0<=F;F--){var ee=f.g=v[F];M=Oe(ee,_,!0,f)&&M}if(ee=f.g=u,M=Oe(ee,_,!0,f)&&M,M=Oe(ee,_,!1,f)&&M,v)for(F=0;F<v.length;F++)ee=f.g=v[F],M=Oe(ee,_,!1,f)&&M}Z.prototype.N=function(){if(Z.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var v=u.g[f],_=0;_<v.length;_++)_n(v[_]);delete u.g[f],u.h--}}this.F=null},Z.prototype.K=function(u,f,v,_){return this.i.add(String(u),f,!1,v,_)},Z.prototype.L=function(u,f,v,_){return this.i.add(String(u),f,!0,v,_)};function Oe(u,f,v,_){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,F=0;F<f.length;++F){var ee=f[F];if(ee&&!ee.da&&ee.capture==v){var He=ee.listener,Vt=ee.ha||ee.src;ee.fa&&fr(u.i,ee),M=He.call(Vt,_)!==!1&&M}}return M&&!_.defaultPrevented}function Dt(u,f,v){if(typeof u=="function")v&&(u=p(u,v));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:o.setTimeout(u,f||0)}function Mn(u){u.g=Dt(()=>{u.g=null,u.i&&(u.i=!1,Mn(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class Vn extends se{constructor(f,v){super(),this.m=f,this.l=v,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Mn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(u){se.call(this),this.h=u,this.g={}}I(mr,se);var pr=[];function bn(u){O(u.g,function(f,v){this.g.hasOwnProperty(v)&&D(f)},u),u.g={}}mr.prototype.N=function(){mr.aa.N.call(this),bn(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=o.JSON.stringify,Qn=o.JSON.parse,No=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function ms(){}ms.prototype.h=null;function Io(u){return u.h||(u.h=u.i())}function Co(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){he.call(this,"d")}I(_i,he);function Ln(){he.call(this,"c")}I(Ln,he);var Mr={},xe=null;function Me(){return xe=xe||new Z}Mr.La="serverreachability";function qe(u){he.call(this,Mr.La,u)}I(qe,he);function Ot(u){const f=Me();pe(f,new qe(f))}Mr.STAT_EVENT="statevent";function dn(u,f){he.call(this,Mr.STAT_EVENT,u),this.stat=f}I(dn,he);function Je(u){const f=Me();pe(f,new dn(f,u))}Mr.Ma="timingevent";function gr(u,f){he.call(this,Mr.Ma,u),this.size=f}I(gr,he);function Mt(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},f)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function QT(u,f,v,_,M,F){u.info(function(){if(u.g)if(F)for(var ee="",He=F.split("&"),Vt=0;Vt<He.length;Vt++){var Ue=He[Vt].split("=");if(1<Ue.length){var Ht=Ue[0];Ue=Ue[1];var Gt=Ht.split("_");ee=2<=Gt.length&&Gt[1]=="type"?ee+(Ht+"="+Ue+"&"):ee+(Ht+"=redacted&")}}else ee=null;else ee=F;return"XMLHTTP REQ ("+_+") [attempt "+M+"]: "+f+`
`+v+`
`+ee})}function YT(u,f,v,_,M,F,ee){u.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+M+"]: "+f+`
`+v+`
`+F+" "+ee})}function la(u,f,v,_){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+ZT(u,v)+(_?" "+_:"")})}function XT(u,f){u.info(function(){return"TIMEOUT: "+f})}hn.prototype.info=function(){};function ZT(u,f){if(!u.g)return f;if(!f)return null;try{var v=JSON.parse(f);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var _=v[u];if(!(2>_.length)){var M=_[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ee=1;ee<M.length;ee++)M[ee]=""}}}}return fs(v)}catch{return f}}var Cc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lh;function Ac(){}I(Ac,ms),Ac.prototype.g=function(){return new XMLHttpRequest},Ac.prototype.i=function(){return{}},Lh=new Ac;function ps(u,f,v,_){this.j=u,this.i=f,this.l=v,this.R=_||1,this.U=new mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ov}function Ov(){this.i=null,this.g="",this.h=!1}var Mv={},Uh={};function Fh(u,f,v){u.L=1,u.v=Dc(Vr(f)),u.m=v,u.P=!0,Vv(u,null)}function Vv(u,f){u.F=Date.now(),Rc(u),u.A=Vr(u.v);var v=u.A,_=u.R;Array.isArray(_)||(_=[String(_)]),Xv(v.i,"t",_),u.C=0,v=u.j.J,u.h=new Ov,u.g=py(u.j,v?f:null,!u.m),0<u.O&&(u.M=new Vn(p(u.Y,u,u.g),u.O)),f=u.U,v=u.g,_=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(pr[0]=M.toString()),M=pr);for(var F=0;F<M.length;F++){var ee=yi(v,M[F],_||f.handleEvent,!1,f.h||f);if(!ee)break;f.g[ee.key]=ee}f=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),Ot(),QT(u.i,u.u,u.A,u.l,u.R,u.m)}ps.prototype.ca=function(u){u=u.target;const f=this.M;f&&Lr(u)==3?f.j():this.Y(u)},ps.prototype.Y=function(u){try{if(u==this.g)e:{const Gt=Lr(this.g);var f=this.g.Ba();const da=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||sy(this.g)))){this.J||Gt!=4||f==7||(f==8||0>=da?Ot(3):Ot(2)),zh(this);var v=this.g.Z();this.X=v;t:if(Lv(this)){var _=sy(this.g);u="";var M=_.length,F=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bi(this),Ao(this);var ee="";break t}this.h.i=new o.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,u+=this.h.i.decode(_[f],{stream:!(F&&f==M-1)});_.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=v==200,YT(this.i,this.u,this.A,this.l,this.R,Gt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Vt=this.g;if((He=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(He)){var Ue=He;break t}}Ue=null}if(v=Ue)la(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$h(this,v);else{this.o=!1,this.s=3,Je(12),bi(this),Ao(this);break e}}if(this.P){v=!0;let Yn;for(;!this.J&&this.C<ee.length;)if(Yn=JT(this,ee),Yn==Uh){Gt==4&&(this.s=4,Je(14),v=!1),la(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==Mv){this.s=4,Je(15),la(this.i,this.l,ee,"[Invalid Chunk]"),v=!1;break}else la(this.i,this.l,Yn,null),$h(this,Yn);if(Lv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ee.length!=0||this.h.h||(this.s=1,Je(16),v=!1),this.o=this.o&&v,!v)la(this.i,this.l,ee,"[Invalid Chunked Response]"),bi(this),Ao(this);else if(0<ee.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Kh(Ht),Ht.M=!0,Je(11))}}else la(this.i,this.l,ee,null),$h(this,ee);Gt==4&&bi(this),this.o&&!this.J&&(Gt==4?dy(this.j,this):(this.o=!1,Rc(this)))}else gS(this.g),v==400&&0<ee.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),bi(this),Ao(this)}}}catch{}finally{}};function Lv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function JT(u,f){var v=u.C,_=f.indexOf(`
`,v);return _==-1?Uh:(v=Number(f.substring(v,_)),isNaN(v)?Mv:(_+=1,_+v>f.length?Uh:(f=f.slice(_,_+v),u.C=_+v,f)))}ps.prototype.cancel=function(){this.J=!0,bi(this)};function Rc(u){u.S=Date.now()+u.I,Uv(u,u.I)}function Uv(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Mt(p(u.ba,u),f)}function zh(u){u.B&&(o.clearTimeout(u.B),u.B=null)}ps.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(XT(this.i,this.A),this.L!=2&&(Ot(),Je(17)),bi(this),this.s=2,Ao(this)):Uv(this,this.S-u)};function Ao(u){u.j.G==0||u.J||dy(u.j,u)}function bi(u){zh(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,bn(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function $h(u,f){try{var v=u.j;if(v.G!=0&&(v.g==u||Bh(v.h,u))){if(!u.K&&Bh(v.h,u)&&v.G==3){try{var _=v.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var M=_;if(M[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Fc(v),Lc(v);else break e;Gh(v),Je(18)}}else v.za=M[1],0<v.za-v.T&&37500>M[2]&&v.F&&v.v==0&&!v.C&&(v.C=Mt(p(v.Za,v),6e3));if(1>=$v(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ki(v,11)}else if((u.K||v.g==u)&&Fc(v),!x(f))for(M=v.Da.g.parse(f),f=0;f<M.length;f++){let Ue=M[f];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const Ht=Ue[3];Ht!=null&&(v.la=Ht,v.j.info("VER="+v.la));const Gt=Ue[4];Gt!=null&&(v.Aa=Gt,v.j.info("SVER="+v.Aa));const da=Ue[5];da!=null&&typeof da=="number"&&0<da&&(_=1.5*da,v.L=_,v.j.info("backChannelRequestTimeoutMs_="+_)),_=v;const Yn=u.g;if(Yn){const $c=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($c){var F=_.h;F.g||$c.indexOf("spdy")==-1&&$c.indexOf("quic")==-1&&$c.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Wh(F,F.h),F.h=null))}if(_.D){const Qh=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qh&&(_.ya=Qh,Qe(_.I,_.D,Qh))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),_=v;var ee=u;if(_.qa=my(_,_.J?_.ia:null,_.W),ee.K){Bv(_.h,ee);var He=ee,Vt=_.L;Vt&&(He.I=Vt),He.B&&(zh(He),Rc(He)),_.g=ee}else cy(_);0<v.i.length&&Uc(v)}else Ue[0]!="stop"&&Ue[0]!="close"||ki(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?ki(v,7):Hh(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}Ot(4)}catch{}}var eS=class{constructor(u,f){this.g=u,this.map=f}};function Fv(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $v(u){return u.h?1:u.g?u.g.size:0}function Bh(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Wh(u,f){u.g?u.g.add(f):u.h=f}function Bv(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}Fv.prototype.cancel=function(){if(this.i=Wv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Wv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const v of u.g.values())f=f.concat(v.D);return f}return C(u.i)}function tS(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var f=[],v=u.length,_=0;_<v;_++)f.push(u[_]);return f}f=[],v=0;for(_ in u)f[v++]=u[_];return f}function nS(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var f=[];u=u.length;for(var v=0;v<u;v++)f.push(v);return f}f=[],v=0;for(const _ in u)f[v++]=_;return f}}}function qv(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var v=nS(u),_=tS(u),M=_.length,F=0;F<M;F++)f.call(void 0,_[F],v&&v[F],u)}var Hv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rS(u,f){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var _=u[v].indexOf("="),M=null;if(0<=_){var F=u[v].substring(0,_);M=u[v].substring(_+1)}else F=u[v];f(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ei(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ei){this.h=u.h,Pc(this,u.j),this.o=u.o,this.g=u.g,jc(this,u.s),this.l=u.l;var f=u.i,v=new jo;v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),Gv(this,v),this.m=u.m}else u&&(f=String(u).match(Hv))?(this.h=!1,Pc(this,f[1]||"",!0),this.o=Ro(f[2]||""),this.g=Ro(f[3]||"",!0),jc(this,f[4]),this.l=Ro(f[5]||"",!0),Gv(this,f[6]||"",!0),this.m=Ro(f[7]||"")):(this.h=!1,this.i=new jo(null,this.h))}Ei.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Po(f,Kv,!0),":");var v=this.g;return(v||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Po(f,Kv,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Po(v,v.charAt(0)=="/"?aS:iS,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Po(v,lS)),u.join("")};function Vr(u){return new Ei(u)}function Pc(u,f,v){u.j=v?Ro(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function jc(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function Gv(u,f,v){f instanceof jo?(u.i=f,cS(u.i,u.h)):(v||(f=Po(f,oS)),u.i=new jo(f,u.h))}function Qe(u,f,v){u.i.set(f,v)}function Dc(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ro(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Po(u,f,v){return typeof u=="string"?(u=encodeURI(u).replace(f,sS),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sS(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Kv=/[#\/\?@]/g,iS=/[#\?:]/g,aS=/[#\?]/g,oS=/[#\?@]/g,lS=/#/g;function jo(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function gs(u){u.g||(u.g=new Map,u.h=0,u.i&&rS(u.i,function(f,v){u.add(decodeURIComponent(f.replace(/\+/g," ")),v)}))}t=jo.prototype,t.add=function(u,f){gs(this),this.i=null,u=ca(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(f),this.h+=1,this};function Qv(u,f){gs(u),f=ca(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Yv(u,f){return gs(u),f=ca(u,f),u.g.has(f)}t.forEach=function(u,f){gs(this),this.g.forEach(function(v,_){v.forEach(function(M){u.call(f,M,_,this)},this)},this)},t.na=function(){gs(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),v=[];for(let _=0;_<f.length;_++){const M=u[_];for(let F=0;F<M.length;F++)v.push(f[_])}return v},t.V=function(u){gs(this);let f=[];if(typeof u=="string")Yv(this,u)&&(f=f.concat(this.g.get(ca(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)f=f.concat(u[v])}return f},t.set=function(u,f){return gs(this),this.i=null,u=ca(this,u),Yv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function Xv(u,f,v){Qv(u,f),0<v.length&&(u.i=null,u.g.set(ca(u,f),C(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var v=0;v<f.length;v++){var _=f[v];const F=encodeURIComponent(String(_)),ee=this.V(_);for(_=0;_<ee.length;_++){var M=F;ee[_]!==""&&(M+="="+encodeURIComponent(String(ee[_]))),u.push(M)}}return this.i=u.join("&")};function ca(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function cS(u,f){f&&!u.j&&(gs(u),u.i=null,u.g.forEach(function(v,_){var M=_.toLowerCase();_!=M&&(Qv(this,_),Xv(this,M,v))},u)),u.j=f}function uS(u,f){const v=new hn;if(o.Image){const _=new Image;_.onload=g(vs,v,"TestLoadImage: loaded",!0,f,_),_.onerror=g(vs,v,"TestLoadImage: error",!1,f,_),_.onabort=g(vs,v,"TestLoadImage: abort",!1,f,_),_.ontimeout=g(vs,v,"TestLoadImage: timeout",!1,f,_),o.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=u}else f(!1)}function dS(u,f){const v=new hn,_=new AbortController,M=setTimeout(()=>{_.abort(),vs(v,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:_.signal}).then(F=>{clearTimeout(M),F.ok?vs(v,"TestPingServer: ok",!0,f):vs(v,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),vs(v,"TestPingServer: error",!1,f)})}function vs(u,f,v,_,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),_(v)}catch{}}function hS(){this.g=new No}function fS(u,f,v){const _=v||"";try{qv(u,function(M,F){let ee=M;d(M)&&(ee=fs(M)),f.push(_+F+"="+encodeURIComponent(ee))})}catch(M){throw f.push(_+"type="+encodeURIComponent("_badmap")),M}}function Oc(u){this.l=u.Ub||null,this.j=u.eb||!1}I(Oc,ms),Oc.prototype.g=function(){return new Mc(this.l,this.j)},Oc.prototype.i=function(u){return function(){return u}}({});function Mc(u,f){Z.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Mc,Z),t=Mc.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Oo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||o).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Do(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Oo(this)),this.g&&(this.readyState=3,Oo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Do(this):Oo(this),this.readyState==3&&Zv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Do(this))},t.Qa=function(u){this.g&&(this.response=u,Do(this))},t.ga=function(){this.g&&Do(this)};function Do(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Oo(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var v=f.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=f.next();return u.join(`\r
`)};function Oo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jv(u){let f="";return O(u,function(v,_){f+=_,f+=":",f+=v,f+=`\r
`}),f}function qh(u,f,v){e:{for(_ in v){var _=!1;break e}_=!0}_||(v=Jv(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Qe(u,f,v))}function at(u){Z.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(at,Z);var mS=/^https?$/i,pS=["POST","PUT"];t=at.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,v,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lh.g(),this.v=this.o?Io(this.o):Io(Lh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(F){ey(this,F);return}if(u=v||"",v=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var M in _)v.set(M,_[M]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const F of _.keys())v.set(F,_.get(F));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),M=o.FormData&&u instanceof o.FormData,!(0<=Array.prototype.indexOf.call(pS,f,void 0))||_||M||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ee]of v)this.g.setRequestHeader(F,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ry(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){ey(this,F)}};function ey(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,ty(u),Vc(u)}function ty(u){u.A||(u.A=!0,pe(u,"complete"),pe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pe(this,"complete"),pe(this,"abort"),Vc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vc(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ny(this):this.bb())},t.bb=function(){ny(this)};function ny(u){if(u.h&&typeof a<"u"&&(!u.v[1]||Lr(u)!=4||u.Z()!=2)){if(u.u&&Lr(u)==4)Dt(u.Ea,0,u);else if(pe(u,"readystatechange"),Lr(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var v;if(!(v=f)){var _;if(_=ee===0){var M=String(u.D).match(Hv)[1]||null;!M&&o.self&&o.self.location&&(M=o.self.location.protocol.slice(0,-1)),_=!mS.test(M?M.toLowerCase():"")}v=_}if(v)pe(u,"complete"),pe(u,"success");else{u.m=6;try{var F=2<Lr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",ty(u)}}finally{Vc(u)}}}}function Vc(u,f){if(u.g){ry(u);const v=u.g,_=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||pe(u,"ready");try{v.onreadystatechange=_}catch{}}}function ry(u){u.I&&(o.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Lr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Qn(f)}};function sy(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gS(u){const f={};u=(u.g&&2<=Lr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<u.length;_++){if(x(u[_]))continue;var v=A(u[_]);const M=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=f[M]||[];f[M]=F,F.push(v)}b(f,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mo(u,f,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||f}function iy(u){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mo("baseRetryDelayMs",5e3,u),this.cb=Mo("retryDelaySeedMs",1e4,u),this.Wa=Mo("forwardChannelMaxRetries",2,u),this.wa=Mo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Fv(u&&u.concurrentRequestLimit),this.Da=new hS,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iy.prototype,t.la=8,t.G=1,t.connect=function(u,f,v,_){Je(0),this.W=u,this.H=f||{},v&&_!==void 0&&(this.H.OSID=v,this.H.OAID=_),this.F=this.X,this.I=my(this,null,this.W),Uc(this)};function Hh(u){if(ay(u),u.G==3){var f=u.U++,v=Vr(u.I);if(Qe(v,"SID",u.K),Qe(v,"RID",f),Qe(v,"TYPE","terminate"),Vo(u,v),f=new ps(u,u.j,f),f.L=2,f.v=Dc(Vr(v)),v=!1,o.navigator&&o.navigator.sendBeacon)try{v=o.navigator.sendBeacon(f.v.toString(),"")}catch{}!v&&o.Image&&(new Image().src=f.v,v=!0),v||(f.g=py(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Rc(f)}fy(u)}function Lc(u){u.g&&(Kh(u),u.g.cancel(),u.g=null)}function ay(u){Lc(u),u.u&&(o.clearTimeout(u.u),u.u=null),Fc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&o.clearTimeout(u.s),u.s=null)}function Uc(u){if(!zv(u.h)&&!u.s){u.s=!0;var f=u.Ga;q||Y(),W||(q(),W=!0),L.add(f,u),u.B=0}}function vS(u,f){return $v(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Mt(p(u.Ga,u,f),hy(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new ps(this,this.j,u);let F=this.o;if(this.S&&(F?(F=y(F),T(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var f=0,v=0;v<this.i.length;v++){t:{var _=this.i[v];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=v;break e}if(f===4096||v===this.i.length-1){f=v+1;break e}}f=1e3}else f=1e3;f=ly(this,M,f),v=Vr(this.I),Qe(v,"RID",u),Qe(v,"CVER",22),this.D&&Qe(v,"X-HTTP-Session-Id",this.D),Vo(this,v),F&&(this.O?f="headers="+encodeURIComponent(String(Jv(F)))+"&"+f:this.m&&qh(v,this.m,F)),Wh(this.h,M),this.Ua&&Qe(v,"TYPE","init"),this.P?(Qe(v,"$req",f),Qe(v,"SID","null"),M.T=!0,Fh(M,v,null)):Fh(M,v,f),this.G=2}}else this.G==3&&(u?oy(this,u):this.i.length==0||zv(this.h)||oy(this))};function oy(u,f){var v;f?v=f.l:v=u.U++;const _=Vr(u.I);Qe(_,"SID",u.K),Qe(_,"RID",v),Qe(_,"AID",u.T),Vo(u,_),u.m&&u.o&&qh(_,u.m,u.o),v=new ps(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),f&&(u.i=f.D.concat(u.i)),f=ly(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Wh(u.h,v),Fh(v,_,f)}function Vo(u,f){u.H&&O(u.H,function(v,_){Qe(f,_,v)}),u.l&&qv({},function(v,_){Qe(f,_,v)})}function ly(u,f,v){v=Math.min(u.i.length,v);var _=u.l?p(u.l.Na,u.l,u):null;e:{var M=u.i;let F=-1;for(;;){const ee=["count="+v];F==-1?0<v?(F=M[0].g,ee.push("ofs="+F)):F=0:ee.push("ofs="+F);let He=!0;for(let Vt=0;Vt<v;Vt++){let Ue=M[Vt].g;const Ht=M[Vt].map;if(Ue-=F,0>Ue)F=Math.max(0,M[Vt].g-100),He=!1;else try{fS(Ht,ee,"req"+Ue+"_")}catch{_&&_(Ht)}}if(He){_=ee.join("&");break e}}}return u=u.i.splice(0,v),f.D=u,_}function cy(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;q||Y(),W||(q(),W=!0),L.add(f,u),u.v=0}}function Gh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Mt(p(u.Fa,u),hy(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,uy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Mt(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),Lc(this),uy(this))};function Kh(u){u.A!=null&&(o.clearTimeout(u.A),u.A=null)}function uy(u){u.g=new ps(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Vr(u.qa);Qe(f,"RID","rpc"),Qe(f,"SID",u.K),Qe(f,"AID",u.T),Qe(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(f,"TO",u.ja),Qe(f,"TYPE","xmlhttp"),Vo(u,f),u.m&&u.o&&qh(f,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Dc(Vr(f)),v.m=null,v.P=!0,Vv(v,u)}t.Za=function(){this.C!=null&&(this.C=null,Lc(this),Gh(this),Je(19))};function Fc(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function dy(u,f){var v=null;if(u.g==f){Fc(u),Kh(u),u.g=null;var _=2}else if(Bh(u.h,f))v=f.D,Bv(u.h,f),_=1;else return;if(u.G!=0){if(f.o)if(_==1){v=f.m?f.m.length:0,f=Date.now()-f.F;var M=u.B;_=Me(),pe(_,new gr(_,v)),Uc(u)}else cy(u);else if(M=f.s,M==3||M==0&&0<f.X||!(_==1&&vS(u,f)||_==2&&Gh(u)))switch(v&&0<v.length&&(f=u.h,f.i=f.i.concat(v)),M){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function hy(u,f){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*f}function ki(u,f){if(u.j.info("Error code "+f),f==2){var v=p(u.fb,u),_=u.Xa;const M=!_;_=new Ei(_||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Pc(_,"https"),Dc(_),M?uS(_.toString(),v):dS(_.toString(),v)}else Je(2);u.G=0,u.l&&u.l.sa(f),fy(u),ay(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function fy(u){if(u.G=0,u.ka=[],u.l){const f=Wv(u.h);(f.length!=0||u.i.length!=0)&&(S(u.ka,f),S(u.ka,u.i),u.h.i.length=0,C(u.i),u.i.length=0),u.l.ra()}}function my(u,f,v){var _=v instanceof Ei?Vr(v):new Ei(v);if(_.g!="")f&&(_.g=f+"."+_.g),jc(_,_.s);else{var M=o.location;_=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var F=new Ei(null);_&&Pc(F,_),f&&(F.g=f),M&&jc(F,M),v&&(F.l=v),_=F}return v=u.D,f=u.ya,v&&f&&Qe(_,v,f),Qe(_,"VER",u.la),Vo(u,_),_}function py(u,f,v){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new at(new Oc({eb:v})):new at(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gy(){}t=gy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zc(){}zc.prototype.g=function(u,f){return new En(u,f)};function En(u,f){Z.call(this),this.g=new iy(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!x(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!x(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new ua(this)}I(En,Z),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Hh(this.g)},En.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=fs(u),u=v);f.i.push(new eS(f.Ya++,u)),f.G==3&&Uc(f)},En.prototype.N=function(){this.g.l=null,delete this.j,Hh(this.g),delete this.g,En.aa.N.call(this)};function vy(u){_i.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const v in f){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}I(vy,_i);function yy(){Ln.call(this),this.status=1}I(yy,Ln);function ua(u){this.g=u}I(ua,gy),ua.prototype.ua=function(){pe(this.g,"a")},ua.prototype.ta=function(u){pe(this.g,new vy(u))},ua.prototype.sa=function(u){pe(this.g,new yy)},ua.prototype.ra=function(){pe(this.g,"b")},zc.prototype.createWebChannel=zc.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,CE=function(){return new zc},IE=function(){return Me()},NE=Mr,Hm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cc.NO_ERROR=0,Cc.TIMEOUT=8,Cc.HTTP_ERROR=6,Mu=Cc,Dv.COMPLETE="complete",SE=Dv,Co.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",Z.prototype.listen=Z.prototype.K,il=Co,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,TE=at}).apply(typeof lu<"u"?lu:typeof self<"u"?self:typeof window<"u"?window:{});const gx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Tg("@firebase/firestore");function Ho(){return Hi.logLevel}function ce(t,...e){if(Hi.logLevel<=Ae.DEBUG){const n=e.map(Vg);Hi.debug(`Firestore (${bo}): ${t}`,...n)}}function rs(t,...e){if(Hi.logLevel<=Ae.ERROR){const n=e.map(Vg);Hi.error(`Firestore (${bo}): ${t}`,...n)}}function eo(t,...e){if(Hi.logLevel<=Ae.WARN){const n=e.map(Vg);Hi.warn(`Firestore (${bo}): ${t}`,...n)}}function Vg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+t;throw rs(e),new Error(e)}function We(t,e){t||we()}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class gj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vj{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Yr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},o=c=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Yr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new AE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Xt(e)}}class yj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _j{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){We(this.o===void 0);const r=i=>{i.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.R=n.token,new wj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=bj(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function to(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new It(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new It(0,0))}static max(){return new _e(new It(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(),r===void 0?r=e.length-n:r>e.length-n&&we(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends Xl{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const Ej=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Xl{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return Ej.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new re(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new re(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new re(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(r+=o,s++):(i(),s++)}if(i(),a)throw new re(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Xe.fromString(e))}static fromName(e){return new me(Xe.fromString(e).popFirst(5))}static empty(){return new me(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Xe(e.slice()))}}function kj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=_e.fromTimestamp(r===1e9?new It(n+1,0):new It(n,r));return new ti(s,me.empty(),e)}function Tj(t){return new ti(t.readTime,t.key,-1)}class ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ti(_e.min(),me.empty(),-1)}static max(){return new ti(_e.max(),me.empty(),-1)}}function Sj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ij{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Nj)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,a=new Array(i);let o=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{a[d]=h,++o,o===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Cj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _c(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Lg.oe=-1;function xh(t){return t==null}function Td(t){return t===0&&1/t==-1/0}function Aj(t){return typeof t=="number"&&Number.isInteger(t)&&!Td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cu(this.root,e,this.comparator,!0)}}class cu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=s??Ut.EMPTY,this.right=i??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ut(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yx(this.data.getIterator())}getIteratorFrom(e){return new yx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class yx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Bt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new jE("Invalid base64 string: "+i):i}}(e);return new qt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const Rj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){if(We(!!t),typeof t=="string"){let e=0;const n=Rj.exec(t);if(We(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gi(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Fg(t){const e=t.mapValue.fields.__previous_value__;return Ug(e)?Fg(e):e}function Zl(t){const e=ni(t.mapValue.fields.__local_write_time__.timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,r,s,i,a,o,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=d}}class Jl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu={mapValue:{}};function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ug(t)?4:Dj(t)?9007199254740991:jj(t)?10:11:we()}function jr(t,e){if(t===e)return!0;const n=Ki(t);if(n!==Ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zl(t).isEqual(Zl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=ni(s.timestampValue),o=ni(i.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Gi(s.bytesValue).isEqual(Gi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ht(s.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ht(s.integerValue)===ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=ht(s.doubleValue),o=ht(i.doubleValue);return a===o?Td(a)===Td(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return to(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},o=i.mapValue.fields||{};if(vx(a)!==vx(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!jr(a[c],o[c])))return!1;return!0}(t,e);default:return we()}}function ec(t,e){return(t.values||[]).find(n=>jr(n,e))!==void 0}function no(t,e){if(t===e)return 0;const n=Ki(t),r=Ki(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(i,a){const o=ht(i.integerValue||i.doubleValue),c=ht(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(t,e);case 3:return xx(t.timestampValue,e.timestampValue);case 4:return xx(Zl(t),Zl(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(i,a){const o=Gi(i),c=Gi(a);return o.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const o=i.split("/"),c=a.split("/");for(let d=0;d<o.length&&d<c.length;d++){const h=Fe(o[d],c[d]);if(h!==0)return h}return Fe(o.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const o=Fe(ht(i.latitude),ht(a.latitude));return o!==0?o:Fe(ht(i.longitude),ht(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wx(t.arrayValue,e.arrayValue);case 10:return function(i,a){var o,c,d,h;const m=i.fields||{},p=a.fields||{},g=(o=m.value)===null||o===void 0?void 0:o.arrayValue,I=(c=p.value)===null||c===void 0?void 0:c.arrayValue,C=Fe(((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0,((h=I==null?void 0:I.values)===null||h===void 0?void 0:h.length)||0);return C!==0?C:wx(g,I)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===uu.mapValue&&a===uu.mapValue)return 0;if(i===uu.mapValue)return 1;if(a===uu.mapValue)return-1;const o=i.fields||{},c=Object.keys(o),d=a.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const p=Fe(c[m],h[m]);if(p!==0)return p;const g=no(o[c[m]],d[h[m]]);if(g!==0)return g}return Fe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw we()}}function xx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=ni(t),r=ni(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function wx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=no(n[s],r[s]);if(i)return i}return Fe(n.length,r.length)}function ro(t){return Gm(t)}function Gm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ni(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Gm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Gm(n.fields[a])}`;return s+"}"}(t.mapValue):we()}function _x(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Km(t){return!!t&&"integerValue"in t}function zg(t){return!!t&&"arrayValue"in t}function bx(t){return!!t&&"nullValue"in t}function Ex(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vu(t){return!!t&&"mapValue"in t}function jj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function _l(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_l(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_l(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Dj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_l(n)}setAll(e){let n=zt.emptyPath(),r={},s=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=o.popLast()}a?r[o.lastSegment()]=_l(a):s.push(o.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Vu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ta(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new gn(_l(this.value))}}function DE(t){const e=[];return ta(t.fields,(n,r)=>{const s=new zt([n]);if(Vu(r)){const i=DE(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,s,i,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Jt(e,0,_e.min(),_e.min(),_e.min(),gn.empty(),0)}static newFoundDocument(e,n,r,s){return new Jt(e,1,n,_e.min(),r,s,0)}static newNoDocument(e,n){return new Jt(e,2,n,_e.min(),_e.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,_e.min(),_e.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.position=e,this.inclusive=n}}function kx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=me.comparator(me.fromName(a.referenceValue),n.key):r=no(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Oj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{}class bt extends OE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vj(e,n,r):n==="array-contains"?new Fj(e,r):n==="in"?new zj(e,r):n==="not-in"?new $j(e,r):n==="array-contains-any"?new Bj(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Lj(e,r):new Uj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(no(n,this.value)):n!==null&&Ki(this.value)===Ki(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends OE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ur(e,n)}matches(e){return ME(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ME(t){return t.op==="and"}function VE(t){return Mj(t)&&ME(t)}function Mj(t){for(const e of t.filters)if(e instanceof ur)return!1;return!0}function Qm(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+ro(t.value);if(VE(t))return t.filters.map(e=>Qm(e)).join(",");{const e=t.filters.map(n=>Qm(n)).join(",");return`${t.op}(${e})`}}function LE(t,e){return t instanceof bt?function(r,s){return s instanceof bt&&r.op===s.op&&r.field.isEqual(s.field)&&jr(r.value,s.value)}(t,e):t instanceof ur?function(r,s){return s instanceof ur&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,o)=>i&&LE(a,s.filters[o]),!0):!1}(t,e):void we()}function UE(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(t):t instanceof ur?function(n){return n.op.toString()+" {"+n.getFilters().map(UE).join(" ,")+"}"}(t):"Filter"}class Vj extends bt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class Lj extends bt{constructor(e,n){super(e,"in",n),this.keys=FE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Uj extends bt{constructor(e,n){super(e,"not-in",n),this.keys=FE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class Fj extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zg(n)&&ec(n.arrayValue,this.value)}}class zj extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ec(this.value.arrayValue,n)}}class $j extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ec(this.value.arrayValue,n)}}class Bj extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ec(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n=null,r=[],s=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.ue=null}}function Sx(t,e=null,n=[],r=[],s=null,i=null,a=null){return new Wj(t,e,n,r,s,i,a)}function $g(t){const e=ke(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ro(r)).join(",")),e.ue=n}return e.ue}function Bg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Oj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tx(t.startAt,e.startAt)&&Tx(t.endAt,e.endAt)}function Ym(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n=null,r=[],s=[],i=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function qj(t,e,n,r,s,i,a,o){return new Eo(t,e,n,r,s,i,a,o)}function Wg(t){return new Eo(t)}function Nx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zE(t){return t.collectionGroup!==null}function bl(t){const e=ke(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Bt(zt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(o=o.add(d.field))})}),o})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new tc(i,r))}),n.has(zt.keyField().canonicalString())||e.ce.push(new tc(zt.keyField(),r))}return e.ce}function Ar(t){const e=ke(t);return e.le||(e.le=Hj(e,bl(t))),e.le}function Hj(t,e){if(t.limitType==="F")return Sx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new tc(s.field,i)});const n=t.endAt?new Sd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sd(t.startAt.position,t.startAt.inclusive):null;return Sx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xm(t,e){const n=t.filters.concat([e]);return new Eo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Nd(t,e,n){return new Eo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wh(t,e){return Bg(Ar(t),Ar(e))&&t.limitType===e.limitType}function $E(t){return`${$g(Ar(t))}|lt:${t.limitType}`}function pa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>UE(s)).join(", ")}]`),xh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ro(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ro(s)).join(",")),`Target(${r})`}(Ar(t))}; limitType=${t.limitType})`}function _h(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):me.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of bl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,o,c){const d=kx(a,o,c);return a.inclusive?d<=0:d<0}(r.startAt,bl(r),s)||r.endAt&&!function(a,o,c){const d=kx(a,o,c);return a.inclusive?d>=0:d>0}(r.endAt,bl(r),s))}(t,e)}function Gj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BE(t){return(e,n)=>{let r=!1;for(const s of bl(t)){const i=Kj(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Kj(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(i,a,o){const c=a.data.field(i),d=o.data.field(i);return c!==null&&d!==null?no(c,d):we()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=new it(me.comparator);function ss(){return Qj}const WE=new it(me.comparator);function al(...t){let e=WE;for(const n of t)e=e.insert(n.key,n);return e}function qE(t){let e=WE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pi(){return El()}function HE(){return El()}function El(){return new ko(t=>t.toString(),(t,e)=>t.isEqual(e))}const Yj=new it(me.comparator),Xj=new Bt(me.comparator);function Ce(...t){let e=Xj;for(const n of t)e=e.add(n);return e}const Zj=new Bt(Fe);function Jj(){return Zj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(e)?"-0":e}}function GE(t){return{integerValue:""+t}}function eD(t,e){return Aj(e)?GE(e):qg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function tD(t,e,n){return t instanceof Id?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ug(i)&&(i=Fg(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof nc?QE(t,e):t instanceof rc?YE(t,e):function(s,i){const a=KE(s,i),o=Ix(a)+Ix(s.Pe);return Km(a)&&Km(s.Pe)?GE(o):qg(s.serializer,o)}(t,e)}function nD(t,e,n){return t instanceof nc?QE(t,e):t instanceof rc?YE(t,e):n}function KE(t,e){return t instanceof Cd?function(r){return Km(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Id extends bh{}class nc extends bh{constructor(e){super(),this.elements=e}}function QE(t,e){const n=XE(e);for(const r of t.elements)n.some(s=>jr(s,r))||n.push(r);return{arrayValue:{values:n}}}class rc extends bh{constructor(e){super(),this.elements=e}}function YE(t,e){let n=XE(e);for(const r of t.elements)n=n.filter(s=>!jr(s,r));return{arrayValue:{values:n}}}class Cd extends bh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ix(t){return ht(t.integerValue||t.doubleValue)}function XE(t){return zg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rD(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof nc&&s instanceof nc||r instanceof rc&&s instanceof rc?to(r.elements,s.elements,jr):r instanceof Cd&&s instanceof Cd?jr(r.Pe,s.Pe):r instanceof Id&&s instanceof Id}(t.transform,e.transform)}class sD{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eh{}function ZE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hg(t.key,Bn.none()):new bc(t.key,t.data,Bn.none());{const n=t.data,r=gn.empty();let s=new Bt(zt.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new hi(t.key,r,new In(s.toArray()),Bn.none())}}function iD(t,e,n){t instanceof bc?function(s,i,a){const o=s.value.clone(),c=Ax(s.fieldTransforms,i,a.transformResults);o.setAll(c),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof hi?function(s,i,a){if(!Lu(s.precondition,i))return void i.convertToUnknownDocument(a.version);const o=Ax(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(JE(s)),c.setAll(o),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function kl(t,e,n,r){return t instanceof bc?function(i,a,o,c){if(!Lu(i.precondition,a))return o;const d=i.value.clone(),h=Rx(i.fieldTransforms,c,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof hi?function(i,a,o,c){if(!Lu(i.precondition,a))return o;const d=Rx(i.fieldTransforms,c,a),h=a.data;return h.setAll(JE(i)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,a,o){return Lu(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function aD(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=KE(r.transform,s||null);i!=null&&(n===null&&(n=gn.empty()),n.set(r.field,i))}return n||null}function Cx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&to(r,s,(i,a)=>rD(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bc extends Eh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class hi extends Eh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function JE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ax(t,e,n){const r=new Map;We(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,o=e.data.field(i.field);r.set(i.field,nD(a,o,n[s]))}return r}function Rx(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,tD(i,a,e))}return r}class Hg extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oD extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&iD(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HE();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=n.has(s.key)?null:o;const c=ZE(a,o);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,r)=>Cx(n,r))&&to(this.baseMutations,e.baseMutations,(n,r)=>Cx(n,r))}}class Gg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){We(e.mutations.length===r.length);let s=function(){return Yj}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Gg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,je;function dD(t){switch(t){default:return we();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function ek(t){if(t===void 0)return rs("GRPC error has no .code"),B.UNKNOWN;switch(t){case yt.OK:return B.OK;case yt.CANCELLED:return B.CANCELLED;case yt.UNKNOWN:return B.UNKNOWN;case yt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case yt.INTERNAL:return B.INTERNAL;case yt.UNAVAILABLE:return B.UNAVAILABLE;case yt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case yt.NOT_FOUND:return B.NOT_FOUND;case yt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case yt.ABORTED:return B.ABORTED;case yt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case yt.DATA_LOSS:return B.DATA_LOSS;default:return we()}}(je=yt||(yt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new Mi([4294967295,4294967295],0);function Px(t){const e=hD().encode(t),n=new kE;return n.update(e),new Uint8Array(n.digest())}function jx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Mi([n,r],0),new Mi([s,i],0)]}class Kg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ol(`Invalid padding: ${n}`);if(r<0)throw new ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ol(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Mi.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Mi.fromNumber(r)));return s.compare(fD)===1&&(s=new Mi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Px(e),[r,s]=jx(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Kg(i,s,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const n=Px(e),[r,s]=jx(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kh(_e.min(),s,new it(Fe),ss(),Ce())}}class Ec{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ec(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class tk{constructor(e,n){this.targetId=e,this.me=n}}class nk{constructor(e,n,r=qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Dx{constructor(){this.fe=0,this.ge=Mx(),this.pe=qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:we()}}),new Ec(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Mx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mD{constructor(e){this.Le=e,this.Be=new Map,this.ke=ss(),this.qe=Ox(),this.Qe=new it(Fe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Ym(i))if(r===0){const a=new me(i.path);this.Ue(n,a,Jt.newNoDocument(a,_e.min()))}else We(r===1);else{const a=this.Ye(n);if(a!==r){const o=this.Ze(e),c=o?this.Xe(o,e,a):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,o;try{a=Gi(r).toUint8Array()}catch(c){if(c instanceof jE)return eo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new Kg(a,s,i)}catch(c){return eo(c instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,a)=>{const o=this.Je(a);if(o){if(i.current&&Ym(o.target)){const c=new me(o.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,Jt.newNoDocument(c,e))}i.be&&(n.set(a,i.ve()),i.Ce())}});let r=Ce();this.qe.forEach((i,a)=>{let o=!0;a.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(e));const s=new kh(e,n,this.Qe,this.ke,r);return this.ke=ss(),this.qe=Ox(),this.Qe=new it(Fe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Dx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Bt(Fe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Dx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ox(){return new it(me.comparator)}function Mx(){return new it(me.comparator)}const pD={asc:"ASCENDING",desc:"DESCENDING"},gD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vD={and:"AND",or:"OR"};class yD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(t,e){return t.useProto3Json||xh(e)?e:{value:e}}function Ad(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xD(t,e){return Ad(t,e.toTimestamp())}function Rr(t){return We(!!t),_e.fromTimestamp(function(n){const r=ni(n);return new It(r.seconds,r.nanos)}(t))}function Qg(t,e){return Jm(t,e).canonicalString()}function Jm(t,e){const n=function(s){return new Xe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sk(t){const e=Xe.fromString(t);return We(ck(e)),e}function ep(t,e){return Qg(t.databaseId,e.path)}function Pf(t,e){const n=sk(e);if(n.get(1)!==t.databaseId.projectId)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(ak(n))}function ik(t,e){return Qg(t.databaseId,e)}function wD(t){const e=sk(t);return e.length===4?Xe.emptyPath():ak(e)}function tp(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ak(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Vx(t,e,n){return{name:ep(t,e),fields:n.value.mapValue.fields}}function _D(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(We(h===void 0||typeof h=="string"),qt.fromBase64String(h||"")):(We(h===void 0||h instanceof Buffer||h instanceof Uint8Array),qt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(d){const h=d.code===void 0?B.UNKNOWN:ek(d.code);return new re(h,d.message||"")}(a);n=new nk(r,s,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Pf(t,r.document.name),i=Rr(r.document.updateTime),a=r.document.createTime?Rr(r.document.createTime):_e.min(),o=new gn({mapValue:{fields:r.document.fields}}),c=Jt.newFoundDocument(s,i,a,o),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Uu(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Pf(t,r.document),i=r.readTime?Rr(r.readTime):_e.min(),a=Jt.newNoDocument(s,i),o=r.removedTargetIds||[];n=new Uu([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Pf(t,r.document),i=r.removedTargetIds||[];n=new Uu([],i,s,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new uD(s,i),o=r.targetId;n=new tk(o,a)}}return n}function bD(t,e){let n;if(e instanceof bc)n={update:Vx(t,e.key,e.value)};else if(e instanceof Hg)n={delete:ep(t,e.key)};else if(e instanceof hi)n={update:Vx(t,e.key,e.data),updateMask:RD(e.fieldMask)};else{if(!(e instanceof oD))return we();n={verify:ep(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const o=a.transform;if(o instanceof Id)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof nc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof rc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Cd)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw we()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:xD(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:we()}(t,e.precondition)),n}function ED(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(s,i){let a=s.updateTime?Rr(s.updateTime):Rr(i);return a.isEqual(_e.min())&&(a=Rr(i)),new sD(a,s.transformResults||[])}(n,e))):[]}function kD(t,e){return{documents:[ik(t,e.path)]}}function TD(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ik(t,s);const i=function(d){if(d.length!==0)return lk(ur.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:ga(p.field),direction:ID(p.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Zm(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function SD(t){let e=wD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){We(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(m){const p=ok(m);return p instanceof ur&&VE(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(p=>function(I){return new tc(va(I.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(m){let p;return p=typeof m=="object"?m.value:m,xh(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(m){const p=!!m.before,g=m.values||[];return new Sd(g,p)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const p=!m.before,g=m.values||[];return new Sd(g,p)}(n.endAt)),qj(e,s,a,i,o,"F",c,d)}function ND(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ok(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=va(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=va(n.unaryFilter.field);return bt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=va(n.unaryFilter.field);return bt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=va(n.unaryFilter.field);return bt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(n){return bt.create(va(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ur.create(n.compositeFilter.filters.map(r=>ok(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we()}function ID(t){return pD[t]}function CD(t){return gD[t]}function AD(t){return vD[t]}function ga(t){return{fieldPath:t.canonicalString()}}function va(t){return zt.fromServerFormat(t.fieldPath)}function lk(t){return t instanceof bt?function(n){if(n.op==="=="){if(Ex(n.value))return{unaryFilter:{field:ga(n.field),op:"IS_NAN"}};if(bx(n.value))return{unaryFilter:{field:ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ex(n.value))return{unaryFilter:{field:ga(n.field),op:"IS_NOT_NAN"}};if(bx(n.value))return{unaryFilter:{field:ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ga(n.field),op:CD(n.op),value:n.value}}}(t):t instanceof ur?function(n){const r=n.getFilters().map(s=>lk(s));return r.length===1?r[0]:{compositeFilter:{op:AD(n.op),filters:r}}}(t):we()}function RD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ck(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r,s,i=_e.min(),a=_e.min(),o=qt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.ct=e}}function jD(t){const e=SD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.un=new OD}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(ti.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class OD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Bt(Xe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Bt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new so(0)}static kn(){return new so(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.changes=new ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&kl(r.mutation,s,In.empty(),It.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const s=Pi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=al();return i.forEach((o,c)=>{a=a.insert(o,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Pi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,s){let i=ss();const a=El(),o=function(){return El()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof hi)?i=i.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),kl(h.mutation,d,h.mutation.getFieldMask(),It.now())):a.set(d.key,In.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>{var m;return o.set(d,new VD(h,(m=a.get(d))!==null&&m!==void 0?m:null))}),o))}recalculateAndSaveOverlays(e,n){const r=El();let s=new it((a,o)=>a-o),i=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||In.empty();h=o.applyToLocalView(d,h),r.set(c,h);const m=(s.get(o.batchId)||Ce()).add(c);s=s.insert(o.batchId,m)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),d=c.key,h=c.value,m=HE();h.forEach(p=>{if(!i.has(p)){const g=ZE(n.get(p),r.get(p));g!==null&&m.set(p,g),i=i.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return H.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return me.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(Pi());let o=-1,c=i;return a.next(d=>H.forEach(d,(h,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),i.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Ce())).next(h=>({batchId:o,changes:qE(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let s=al();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=al();return this.indexManager.getCollectionParents(e,i).next(o=>H.forEach(o,c=>{const d=function(m,p){return new Eo(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((m,p)=>{a=a.insert(m,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,Jt.newInvalidDocument(h)))});let o=al();return a.forEach((c,d)=>{const h=i.get(c);h!==void 0&&kl(h.mutation,d,In.empty(),It.now()),_h(n,d)&&(o=o.insert(c,d))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Rr(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:jD(s.bundledQuery),readTime:Rr(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.overlays=new it(me.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pi();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=Pi(),i=n.length+1,a=new me(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new it((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Pi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const o=Pi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>o.set(d,h)),!(o.size()>=s)););return H.resolve(o)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new cD(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ce(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this.Tr=new Bt(Rt.Er),this.dr=new Bt(Rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Rt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new me(new Xe([])),r=new Rt(n,e),s=new Rt(n,e+1),i=[];return this.dr.forEachInRange([r,s],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new me(new Xe([])),r=new Rt(n,e),s=new Rt(n,e+1);let i=Ce();return this.dr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new Rt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return me.comparator(e.key,n.key)||Fe(e.wr,n.wr)}static Ar(e,n){return Fe(e.wr,n.wr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Bt(Rt.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new lD(i,n,r,s);this.mutationQueue.push(a);for(const o of s)this.br=this.br.add(new Rt(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return H.resolve(a)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),s=new Rt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],a=>{const o=this.Dr(a.wr);i.push(o)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Fe);return n.forEach(s=>{const i=new Rt(s,0),a=new Rt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],o=>{r=r.add(o.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;me.isDocumentKey(i)||(i=i.child(""));const a=new Rt(new me(i),0);let o=new Bt(Fe);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(o=o.add(c.wr)),!0)},a),H.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){We(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,s=>{const i=new Rt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Rt(n,0),s=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.Mr=e,this.docs=function(){return new it(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=ss();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Jt.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ss();const a=n.path,o=new me(a.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||Sj(Tj(h),r)<=0||(s.has(h.key)||_h(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){we()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WD(this)}getSize(e){return H.resolve(this.size)}}class WD extends MD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.persistence=e,this.Nr=new ko(n=>$g(n),Bg),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Yg,this.targetCount=0,this.kr=so.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new so(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Lg(0),this.Kr=!1,this.Kr=!0,this.$r=new zD,this.referenceDelegate=e(this),this.Ur=new qD(this),this.indexManager=new DD,this.remoteDocumentCache=function(s){return new BD(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new PD(n),this.Gr=new UD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new $D(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const s=new GD(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class GD extends Ij{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.Jr=new Yg,this.Yr=null}static Zr(e){return new Xg(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const s=me.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ce(),s=Ce();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Zg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return VC()?8:Cj(tn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new KD;return this.Xi(e,n,a).next(o=>{if(i.result=o,this.zi)return this.es(e,n,a,o.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Ho()<=Ae.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",pa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(Ho()<=Ae.DEBUG&&ce("QueryEngine","Query:",pa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Ho()<=Ae.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",pa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(n))):H.resolve())}Yi(e,n){if(Nx(n))return H.resolve(null);let r=Ar(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Nd(n,null,"F"),r=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=Ce(...i);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,o);return this.ns(n,d,a,c.readTime)?this.Yi(e,Nd(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,s){return Nx(n)||s.isEqual(_e.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const a=this.ts(n,i);return this.ns(n,a,r,s)?H.resolve(null):(Ho()<=Ae.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pa(n)),this.rs(e,a,n,kj(s,-1)).next(o=>o))})}ts(e,n){let r=new Bt(BE(e));return n.forEach((s,i)=>{_h(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Ho()<=Ae.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",pa(n)),this.Ji.getDocumentsMatchingQuery(e,n,ti.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new it(Fe),this._s=new ko(i=>$g(i),Bg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function XD(t,e,n,r){return new YD(t,e,n,r)}async function uk(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],o=[];let c=Ce();for(const d of s){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:o}))})})}function ZD(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,c,d,h){const m=d.batch,p=m.keys();let g=H.resolve();return p.forEach(I=>{g=g.next(()=>h.getEntry(c,I)).next(C=>{const S=d.docVersions.get(I);We(S!==null),C.version.compareTo(S)<0&&(m.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),h.addEntry(C)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(c,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let c=Ce();for(let d=0;d<o.mutationResults.length;++d)o.mutationResults[d].transformResults.length>0&&(c=c.add(o.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function dk(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function JD(t,e){const n=ke(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const o=[];e.targetChanges.forEach((h,m)=>{const p=s.get(m);if(!p)return;o.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,m)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(qt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(m,g),function(C,S,k){return C.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(p,g,h)&&o.push(n.Ur.updateTargetData(i,g))});let c=ss(),d=Ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),o.push(e4(i,a,e.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!r.isEqual(_e.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(m=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));o.push(h)}return H.waitFor(o).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.os=s,i))}function e4(t,e,n){let r=Ce(),s=Ce();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=ss();return n.forEach((o,c)=>{const d=i.get(o);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(o)),c.isNoDocument()&&c.version.isEqual(_e.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):ce("LocalStore","Ignoring outdated watch update for ",o,". Current version:",d.version," Watch version:",c.version)}),{Ps:a,Is:s}})}function t4(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function n4(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Ur.allocateTargetId(r).next(a=>(s=new Os(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function np(t,e,n){const r=ke(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!_c(a))throw a;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Lx(t,e,n){const r=ke(t);let s=_e.min(),i=Ce();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,h){const m=ke(c),p=m._s.get(h);return p!==void 0?H.resolve(m.os.get(p)):m.Ur.getTargetData(d,h)}(r,a,Ar(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,o.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?s:_e.min(),n?i:Ce())).next(o=>(r4(r,Gj(e),o),{documents:o,Ts:i})))}function r4(t,e,n){let r=t.us.get(e)||_e.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Ux{constructor(){this.activeTargetIds=Jj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s4{constructor(){this.so=new Ux,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ux,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du=null;function jf(){return du===null?du=function(){return 268435456+Math.round(2147483648*Math.random())}():du++,"0x"+du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class l4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,a){const o=jf(),c=this.xo(n,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${o}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,a),this.No(n,c,d,s).then(h=>(ce("RestConnection",`Received RPC '${n}' ${o}: `,h),h),h=>{throw eo("RestConnection",`RPC '${n}' ${o} failed with error: `,h,"url: ",c,"request:",s),h})}Lo(n,r,s,i,a,o){return this.Mo(n,r,s,i,a)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),s&&s.headers.forEach((i,a)=>n[a]=i)}xo(n,r){const s=a4[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=jf();return new Promise((a,o)=>{const c=new TE;c.setWithCredentials(!0),c.listenOnce(SE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Mu.NO_ERROR:const h=c.getResponseJson();ce(Yt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),a(h);break;case Mu.TIMEOUT:ce(Yt,`RPC '${e}' ${i} timed out`),o(new re(B.DEADLINE_EXCEEDED,"Request time out"));break;case Mu.HTTP_ERROR:const m=c.getStatus();if(ce(Yt,`RPC '${e}' ${i} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const I=function(S){const k=S.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(k)>=0?k:B.UNKNOWN}(g.status);o(new re(I,g.message))}else o(new re(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else o(new re(B.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ce(Yt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);ce(Yt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=jf(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=CE(),o=IE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");ce(Yt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const m=a.createWebChannel(h,c);let p=!1,g=!1;const I=new o4({Io:S=>{g?ce(Yt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(ce(Yt,`Opening RPC '${e}' stream ${s} transport.`),m.open(),p=!0),ce(Yt,`RPC '${e}' stream ${s} sending:`,S),m.send(S))},To:()=>m.close()}),C=(S,k,x)=>{S.listen(k,w=>{try{x(w)}catch(j){setTimeout(()=>{throw j},0)}})};return C(m,il.EventType.OPEN,()=>{g||(ce(Yt,`RPC '${e}' stream ${s} transport opened.`),I.yo())}),C(m,il.EventType.CLOSE,()=>{g||(g=!0,ce(Yt,`RPC '${e}' stream ${s} transport closed`),I.So())}),C(m,il.EventType.ERROR,S=>{g||(g=!0,eo(Yt,`RPC '${e}' stream ${s} transport errored:`,S),I.So(new re(B.UNAVAILABLE,"The operation could not be completed")))}),C(m,il.EventType.MESSAGE,S=>{var k;if(!g){const x=S.data[0];We(!!x);const w=x,j=w.error||((k=w[0])===null||k===void 0?void 0:k.error);if(j){ce(Yt,`RPC '${e}' stream ${s} received error:`,j);const P=j.status;let O=function(E){const T=yt[E];if(T!==void 0)return ek(T)}(P),b=j.message;O===void 0&&(O=B.INTERNAL,b="Unknown error status: "+P+" with message "+j.message),g=!0,I.So(new re(O,b)),m.close()}else ce(Yt,`RPC '${e}' stream ${s} received:`,x),I.bo(x)}}),C(o,NE.STAT_EVENT,S=>{S.stat===Hm.PROXY?ce(Yt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Hm.NOPROXY&&ce(Yt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}}function Df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){return new yD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n,r,s,i,a,o,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hk(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(rs(n.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new re(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c4 extends fk{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=_D(this.serializer,e),r=function(i){if(!("targetChange"in i))return _e.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?_e.min():a.readTime?Rr(a.readTime):_e.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=tp(this.serializer),n.addTarget=function(i,a){let o;const c=a.target;if(o=Ym(c)?{documents:kD(i,c)}:{query:TD(i,c)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=rk(i,a.resumeToken);const d=Zm(i,a.expectedCount);d!==null&&(o.expectedCount=d)}else if(a.snapshotVersion.compareTo(_e.min())>0){o.readTime=Ad(i,a.snapshotVersion.toTimestamp());const d=Zm(i,a.expectedCount);d!==null&&(o.expectedCount=d)}return o}(this.serializer,e);const r=ND(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=tp(this.serializer),n.removeTarget=e,this.a_(n)}}class u4 extends fk{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=ED(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=tp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,Jm(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(B.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Jm(n,r),s,a,o,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new re(B.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class h4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(rs(n),this.D_=!1):ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{r.enqueueAndForget(async()=>{na(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=ke(c);d.L_.add(4),await kc(d),d.q_.set("Unknown"),d.L_.delete(4),await Sh(d)}(this))})}),this.q_=new h4(r,s)}}async function Sh(t){if(na(t))for(const e of t.B_)await e(!0)}async function kc(t){for(const e of t.B_)await e(!1)}function mk(t,e){const n=ke(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),nv(n)?tv(n):To(n).r_()&&ev(n,e))}function Jg(t,e){const n=ke(t),r=To(n);n.N_.delete(e),r.r_()&&pk(n,e),n.N_.size===0&&(r.r_()?r.o_():na(n)&&n.q_.set("Unknown"))}function ev(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(t).A_(e)}function pk(t,e){t.Q_.xe(e),To(t).R_(e)}function tv(t){t.Q_=new mD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),To(t).start(),t.q_.v_()}function nv(t){return na(t)&&!To(t).n_()&&t.N_.size>0}function na(t){return ke(t).L_.size===0}function gk(t){t.Q_=void 0}async function m4(t){t.q_.set("Online")}async function p4(t){t.N_.forEach((e,n)=>{ev(t,e)})}async function g4(t,e){gk(t),nv(t)?(t.q_.M_(e),tv(t)):t.q_.set("Unknown")}async function v4(t,e,n){if(t.q_.set("Online"),e instanceof nk&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const o of i.targetIds)s.N_.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.N_.delete(o),s.Q_.removeTarget(o))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rd(t,r)}else if(e instanceof Uu?t.Q_.Ke(e):e instanceof tk?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_e.min()))try{const r=await dk(t.localStore);n.compareTo(r)>=0&&await function(i,a){const o=i.Q_.rt(a);return o.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(c.resumeToken,a))}}),o.targetMismatches.forEach((c,d)=>{const h=i.N_.get(c);if(!h)return;i.N_.set(c,h.withResumeToken(qt.EMPTY_BYTE_STRING,h.snapshotVersion)),pk(i,c);const m=new Os(h.target,c,d,h.sequenceNumber);ev(i,m)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await Rd(t,r)}}async function Rd(t,e,n){if(!_c(e))throw e;t.L_.add(1),await kc(t),t.q_.set("Offline"),n||(n=()=>dk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Sh(t)})}function vk(t,e){return e().catch(n=>Rd(t,n,e))}async function Nh(t){const e=ke(t),n=ri(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;y4(e);)try{const s=await t4(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,x4(e,s)}catch(s){await Rd(e,s)}yk(e)&&xk(e)}function y4(t){return na(t)&&t.O_.length<10}function x4(t,e){t.O_.push(e);const n=ri(t);n.r_()&&n.V_&&n.m_(e.mutations)}function yk(t){return na(t)&&!ri(t).n_()&&t.O_.length>0}function xk(t){ri(t).start()}async function w4(t){ri(t).p_()}async function _4(t){const e=ri(t);for(const n of t.O_)e.m_(n.mutations)}async function b4(t,e,n){const r=t.O_.shift(),s=Gg.from(r,e,n);await vk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Nh(t)}async function E4(t,e){e&&ri(t).V_&&await async function(r,s){if(function(a){return dD(a)&&a!==B.ABORTED}(s.code)){const i=r.O_.shift();ri(r).s_(),await vk(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Nh(r)}}(t,e),yk(t)&&xk(t)}async function zx(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=na(n);n.L_.add(3),await kc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Sh(n)}async function k4(t,e){const n=ke(t);e?(n.L_.delete(2),await Sh(n)):e||(n.L_.add(2),await kc(n),n.q_.set("Unknown"))}function To(t){return t.K_||(t.K_=function(n,r,s){const i=ke(n);return i.w_(),new c4(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:m4.bind(null,t),Ro:p4.bind(null,t),mo:g4.bind(null,t),d_:v4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),nv(t)?tv(t):t.q_.set("Unknown")):(await t.K_.stop(),gk(t))})),t.K_}function ri(t){return t.U_||(t.U_=function(n,r,s){const i=ke(n);return i.w_(),new u4(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:w4.bind(null,t),mo:E4.bind(null,t),f_:_4.bind(null,t),g_:b4.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Nh(t)):(await t.U_.stop(),t.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,o=new rv(e,n,a,s,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sv(t,e){if(rs("AsyncQueue",`${e}: ${t}`),_c(t))return new re(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=al(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new $a(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $a;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.W_=new it(me.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class io{constructor(e,n,r,s,i,a,o,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new io(e,n,$a.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class S4{constructor(){this.queries=Bx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ke(n),i=s.queries;s.queries=Bx(),i.forEach((a,o)=>{for(const c of o.j_)c.onError(r)})})(this,new re(B.ABORTED,"Firestore shutting down"))}}function Bx(){return new ko(t=>$E(t),wh)}async function wk(t,e){const n=ke(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new T4,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=sv(a,`Initialization of query '${pa(e.query)}' failed`);return void e.onError(o)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&iv(n)}async function _k(t,e){const n=ke(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function N4(t,e){const n=ke(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const o of a.j_)o.X_(s)&&(r=!0);a.z_=s}}r&&iv(n)}function I4(t,e,n){const r=ke(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function iv(t){t.Y_.forEach(e=>{e.next()})}var rp,Wx;(Wx=rp||(rp={})).ea="default",Wx.Cache="cache";class bk{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.key=e}}class kk{constructor(e){this.key=e}}class C4{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ce(),this.mutatedKeys=Ce(),this.Aa=BE(e),this.Ra=new $a(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new $x,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,m)=>{const p=s.get(h),g=_h(this.query,m)?m:null,I=!!p&&this.mutatedKeys.has(p.key),C=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;p&&g?p.data.isEqual(g.data)?I!==C&&(r.track({type:3,doc:g}),S=!0):this.ga(p,g)||(r.track({type:2,doc:g}),S=!0,(c&&this.Aa(g,c)>0||d&&this.Aa(g,d)<0)&&(o=!0)):!p&&g?(r.track({type:0,doc:g}),S=!0):p&&!g&&(r.track({type:1,doc:p}),S=!0,(c||d)&&(o=!0)),S&&(g?(a=a.add(g),i=C?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:o,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,m)=>function(g,I){const C=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return C(g)-C(I)}(h.type,m.type)||this.Aa(h.doc,m.doc)),this.pa(r),s=s!=null&&s;const o=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,a.length!==0||d?{snapshot:new io(this.query,e.Ra,i,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $x,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new kk(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Ek(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return io.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class A4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class R4{constructor(e){this.key=e,this.va=!1}}class P4{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new ko(o=>$E(o),wh),this.Ma=new Map,this.xa=new Set,this.Oa=new it(me.comparator),this.Na=new Map,this.La=new Yg,this.Ba={},this.ka=new Map,this.qa=so.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function j4(t,e,n=!0){const r=Ak(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Tk(r,e,n,!0),s}async function D4(t,e){const n=Ak(t);await Tk(n,e,!0,!1)}async function Tk(t,e,n,r){const s=await n4(t.localStore,Ar(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await O4(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&mk(t.remoteStore,s),o}async function O4(t,e,n,r,s){t.Ka=(m,p,g)=>async function(C,S,k,x){let w=S.view.ma(k);w.ns&&(w=await Lx(C.localStore,S.query,!1).then(({documents:b})=>S.view.ma(b,w)));const j=x&&x.targetChanges.get(S.targetId),P=x&&x.targetMismatches.get(S.targetId)!=null,O=S.view.applyChanges(w,C.isPrimaryClient,j,P);return Hx(C,S.targetId,O.wa),O.snapshot}(t,m,p,g);const i=await Lx(t.localStore,e,!0),a=new C4(e,i.Ts),o=a.ma(i.documents),c=Ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(o,t.isPrimaryClient,c);Hx(t,n,d.wa);const h=new A4(e,n,a);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function M4(t,e,n){const r=ke(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(a=>!wh(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await np(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Jg(r.remoteStore,s.targetId),sp(r,s.targetId)}).catch(wc)):(sp(r,s.targetId),await np(r.localStore,s.targetId,!0))}async function V4(t,e){const n=ke(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jg(n.remoteStore,r.targetId))}async function L4(t,e,n){const r=q4(t);try{const s=await function(a,o){const c=ke(a),d=It.now(),h=o.reduce((g,I)=>g.add(I.key),Ce());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let I=ss(),C=Ce();return c.cs.getEntries(g,h).next(S=>{I=S,I.forEach((k,x)=>{x.isValidDocument()||(C=C.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,I)).next(S=>{m=S;const k=[];for(const x of o){const w=aD(x,m.get(x.key).overlayedDocument);w!=null&&k.push(new hi(x.key,w,DE(w.value.mapValue),Bn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,k,o)}).next(S=>{p=S;const k=S.applyToLocalDocumentSet(m,C);return c.documentOverlayCache.saveOverlays(g,S.batchId,k)})}).then(()=>({batchId:p.batchId,changes:qE(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,o,c){let d=a.Ba[a.currentUser.toKey()];d||(d=new it(Fe)),d=d.insert(o,c),a.Ba[a.currentUser.toKey()]=d}(r,s.batchId,n),await Tc(r,s.changes),await Nh(r.remoteStore)}catch(s){const i=sv(s,"Failed to persist write");n.reject(i)}}async function Sk(t,e){const n=ke(t);try{const r=await JD(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Na.get(i);a&&(We(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?We(a.va):s.removedDocuments.size>0&&(We(a.va),a.va=!1))}),await Tc(n,r,e)}catch(r){await wc(r)}}function qx(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,a)=>{const o=a.view.Z_(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const c=ke(a);c.onlineState=o;let d=!1;c.queries.forEach((h,m)=>{for(const p of m.j_)p.Z_(o)&&(d=!0)}),d&&iv(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function U4(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let a=new it(me.comparator);a=a.insert(i,Jt.newNoDocument(i,_e.min()));const o=Ce().add(i),c=new kh(_e.min(),new Map,new it(Fe),a,o);await Sk(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),av(r)}else await np(r.localStore,e,!1).then(()=>sp(r,e,n)).catch(wc)}async function F4(t,e){const n=ke(t),r=e.batch.batchId;try{const s=await ZD(n.localStore,e);Ik(n,r,null),Nk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tc(n,s)}catch(s){await wc(s)}}async function z4(t,e,n){const r=ke(t);try{const s=await function(a,o){const c=ke(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,o).next(m=>(We(m!==null),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);Ik(r,e,n),Nk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tc(r,s)}catch(s){await wc(s)}}function Nk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Ik(t,e,n){const r=ke(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function sp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Ck(t,r)})}function Ck(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Jg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),av(t))}function Hx(t,e,n){for(const r of n)r instanceof Ek?(t.La.addReference(r.key,e),$4(t,r)):r instanceof kk?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Ck(t,r.key)):we()}function $4(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),av(t))}function av(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new me(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new R4(n)),t.Oa=t.Oa.insert(n,r),mk(t.remoteStore,new Os(Ar(Wg(n.path)),r,"TargetPurposeLimboResolution",Lg.oe))}}async function Tc(t,e,n){const r=ke(t),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((o,c)=>{a.push(r.Ka(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){s.push(d);const m=Zg.Wi(c.targetId,d);i.push(m)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(c,d){const h=ke(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>H.forEach(d,p=>H.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(m,p.targetId,g)).next(()=>H.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(m,p.targetId,g)))))}catch(m){if(!_c(m))throw m;ce("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const g=h.os.get(p),I=g.snapshotVersion,C=g.withLastLimboFreeSnapshotVersion(I);h.os=h.os.insert(p,C)}}}(r.localStore,i))}async function B4(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await uk(n.localStore,e);n.currentUser=e,function(i,a){i.ka.forEach(o=>{o.forEach(c=>{c.reject(new re(B.CANCELLED,a))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tc(n,r.hs)}}function W4(t,e){const n=ke(t),r=n.Na.get(e);if(r&&r.va)return Ce().add(r.key);{let s=Ce();const i=n.Ma.get(e);if(!i)return s;for(const a of i){const o=n.Fa.get(a);s=s.unionWith(o.view.Va)}return s}}function Ak(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U4.bind(null,e),e.Ca.d_=N4.bind(null,e.eventManager),e.Ca.$a=I4.bind(null,e.eventManager),e}function q4(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z4.bind(null,e),e}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return XD(this.persistence,new QD,e.initialUser,this.serializer)}Ga(e){return new HD(Xg.Zr,this.serializer)}Wa(e){return new s4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B4.bind(null,this.syncEngine),await k4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S4}()}createDatastore(e){const n=Th(e.databaseInfo.databaseId),r=function(i){return new l4(i)}(e.databaseInfo);return function(i,a,o,c){return new d4(i,a,o,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,o){return new f4(r,s,i,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>qx(this.syncEngine,n,0),function(){return Fx.D()?new Fx:new i4}())}createSyncEngine(e,n){return function(s,i,a,o,c,d,h){const m=new P4(s,i,a,o,c,d);return h&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ke(s);ce("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await kc(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Xt.UNAUTHENTICATED,this.clientId=RE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{ce("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ce("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Of(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await uk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G4(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>zx(e.remoteStore,s)),t._onlineComponents=e}async function G4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Of(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await Of(t,new Pd)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Of(t,new Pd);return t._offlineComponents}async function Pk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await Gx(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await Gx(t,new ip))),t._onlineComponents}function K4(t){return Pk(t).then(e=>e.syncEngine)}async function jk(t){const e=await Pk(t),n=e.eventManager;return n.onListen=j4.bind(null,e.syncEngine),n.onUnlisten=M4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=D4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V4.bind(null,e.syncEngine),n}function Q4(t,e,n={}){const r=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,o,c,d){const h=new Rk({next:p=>{h.Za(),a.enqueueAndForget(()=>_k(i,m));const g=p.docs.has(o);!g&&p.fromCache?d.reject(new re(B.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?d.reject(new re(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new bk(Wg(o.path),h,{includeMetadataChanges:!0,_a:!0});return wk(i,m)}(await jk(t),t.asyncQueue,e,n,r)),r.promise}function Y4(t,e,n={}){const r=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,o,c,d){const h=new Rk({next:p=>{h.Za(),a.enqueueAndForget(()=>_k(i,m)),p.fromCache&&c.source==="server"?d.reject(new re(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new bk(o,h,{includeMetadataChanges:!0,_a:!0});return wk(i,m)}(await jk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t,e,n){if(!n)throw new re(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X4(t,e,n,r){if(e===!0&&r===!0)throw new re(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Qx(t){if(!me.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yx(t){if(me.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function dr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ih(t);throw new re(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Z4(t,e){if(e<=0)throw new re(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pj;switch(r.type){case"firstParty":return new xj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Kx.get(n);r&&(ce("ComponentProvider","Removing Datastore"),Kx.delete(n),r.terminate())}(this),Promise.resolve()}}function J4(t,e,n,r={}){var s;const i=(t=dr(t,Ch))._getSettings(),a=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let o,c;if(typeof r.mockUserToken=="string")o=r.mockUserToken,c=Xt.MOCK_USER;else{o=L1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new re(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Xt(d)}t._authCredentials=new gj(new AE(o,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class Qs extends fi{constructor(e,n,r){super(e,n,Wg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new me(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function nr(t,e,...n){if(t=ct(t),Ok("collection","path",e),t instanceof Ch){const r=Xe.fromString(e,...n);return Yx(r),new Qs(t,null,r)}{if(!(t instanceof on||t instanceof Qs))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return Yx(r),new Qs(t.firestore,null,r)}}function ir(t,e,...n){if(t=ct(t),arguments.length===1&&(e=RE.newId()),Ok("doc","path",e),t instanceof Ch){const r=Xe.fromString(e,...n);return Qx(r),new on(t,null,new me(r))}{if(!(t instanceof on||t instanceof Qs))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return Qx(r),new on(t.firestore,t instanceof Qs?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hk(this,"async_queue_retry"),this.Vu=()=>{const r=Df();r&&ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Df();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Df();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Yr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!_c(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw rs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=rv.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ra extends Ch{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Zx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zx(e),this._firestoreClient=void 0,await e}}}function eO(t,e){const n=typeof t=="object"?t:Ng(),r=typeof t=="string"?t:"(default)",s=ph(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=O1("firestore");i&&J4(s,...i)}return s}function ov(t){if(t._terminated)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tO(t),t._firestoreClient}function tO(t){var e,n,r;const s=t._freezeSettings(),i=function(o,c,d,h){return new Pj(o,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Dk(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new H4(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ao(qt.fromBase64String(e))}catch(n){throw new re(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ao(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=/^__.*__$/;class rO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new bc(e,this.data,n,this.fieldTransforms)}}class Mk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Vk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class dv{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new dv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Vk(this.Cu)&&nO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class sO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Th(e)}Qu(e,n,r,s=!1){return new dv({Cu:e,methodName:n,qu:r,path:zt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rh(t){const e=t._freezeSettings(),n=Th(t._databaseId);return new sO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Lk(t,e,n,r,s,i={}){const a=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);hv("Data must be an object, but it was:",a,r);const o=Uk(r,a);let c,d;if(i.merge)c=new In(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const m of i.mergeFields){const p=ap(e,m,n);if(!a.contains(p))throw new re(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);zk(h,p)||h.push(p)}c=new In(h),d=a.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=a.fieldTransforms;return new rO(new gn(o),c,d)}class Ph extends lv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}function iO(t,e,n,r){const s=t.Qu(1,e,n);hv("Data must be an object, but it was:",s,r);const i=[],a=gn.empty();ta(r,(c,d)=>{const h=fv(e,c,n);d=ct(d);const m=s.Nu(h);if(d instanceof Ph)i.push(h);else{const p=Sc(d,m);p!=null&&(i.push(h),a.set(h,p))}});const o=new In(i);return new Mk(a,o,s.fieldTransforms)}function aO(t,e,n,r,s,i){const a=t.Qu(1,e,n),o=[ap(e,r,n)],c=[s];if(i.length%2!=0)throw new re(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)o.push(ap(e,i[p])),c.push(i[p+1]);const d=[],h=gn.empty();for(let p=o.length-1;p>=0;--p)if(!zk(d,o[p])){const g=o[p];let I=c[p];I=ct(I);const C=a.Nu(g);if(I instanceof Ph)d.push(g);else{const S=Sc(I,C);S!=null&&(d.push(g),h.set(g,S))}}const m=new In(d);return new Mk(h,m,a.fieldTransforms)}function oO(t,e,n,r=!1){return Sc(n,t.Qu(r?4:3,e))}function Sc(t,e){if(Fk(t=ct(t)))return hv("Unsupported field value:",e,t),Uk(t,e);if(t instanceof lv)return function(r,s){if(!Vk(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const o of r){let c=Sc(o,s.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=It.fromDate(r);return{timestampValue:Ad(s.serializer,i)}}if(r instanceof It){const i=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ad(s.serializer,i)}}if(r instanceof cv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ao)return{bytesValue:rk(s.serializer,r._byteString)};if(r instanceof on){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Qg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof uv)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Bu("VectorValues must only contain numeric values.");return qg(o.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Ih(r)}`)}(t,e)}function Uk(t,e){const n={};return PE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(t,(r,s)=>{const i=Sc(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Fk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof cv||t instanceof ao||t instanceof on||t instanceof lv||t instanceof uv)}function hv(t,e,n){if(!Fk(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Ih(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ap(t,e,n){if((e=ct(e))instanceof Ah)return e._internalPath;if(typeof e=="string")return fv(t,e);throw jd("Field path arguments must be of type string or ",t,!1,void 0,n)}const lO=new RegExp("[~\\*/\\[\\]]");function fv(t,e,n){if(e.search(lO)>=0)throw jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ah(...e.split("."))._internalPath}catch{throw jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jd(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new re(B.INVALID_ARGUMENT,o+t+c)}function zk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cO extends $k{data(){return super.data()}}function jh(t,e){return typeof e=="string"?fv(t,e):e instanceof Ah?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mv{}class pv extends mv{}function Ms(t,e,...n){let r=[];e instanceof mv&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof gv).length,o=i.filter(c=>c instanceof Dh).length;if(a>1||a>0&&o>0)throw new re(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Dh extends pv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Dh(e,n,r)}_apply(e){const n=this._parse(e);return Wk(e._query,n),new fi(e.firestore,e.converter,Xm(e._query,n))}_parse(e){const n=Rh(e.firestore);return function(i,a,o,c,d,h,m){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new re(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ew(m,h);const g=[];for(const I of m)g.push(Jx(c,i,I));p={arrayValue:{values:g}}}else p=Jx(c,i,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ew(m,h),p=oO(o,a,m,h==="in"||h==="not-in");return bt.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gr(t,e,n){const r=e,s=jh("where",t);return Dh._create(s,r,n)}class gv extends mv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ur.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const o=i.getFlattenedFilters();for(const c of o)Wk(a,c),a=Xm(a,c)}(e._query,n),new fi(e.firestore,e.converter,Xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vv extends pv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vv(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tc(i,a)}(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Eo(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Dd(t,e="asc"){const n=e,r=jh("orderBy",t);return vv._create(r,n)}class yv extends pv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new yv(e,n,r)}_apply(e){return new fi(e.firestore,e.converter,Nd(e._query,this._limit,this._limitType))}}function Bk(t){return Z4("limit",t),yv._create("limit",t,"F")}function Jx(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zE(e)&&n.indexOf("/")!==-1)throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xe.fromString(n));if(!me.isDocumentKey(r))throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _x(t,new me(r))}if(n instanceof on)return _x(t,n._key);throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(n)}.`)}function ew(t,e){if(!Array.isArray(t)||t.length===0)throw new re(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Wk(t,e){const n=function(s,i){for(const a of s)for(const o of a.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dO{convertValue(e,n="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ta(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>ht(a.doubleValue));return new uv(i)}convertGeoPoint(e){return new cv(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=ni(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);We(ck(r));const s=new Jl(r.get(1),r.get(3)),i=new me(r.popFirst(5));return s.isEqual(n)||rs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hk extends $k{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fu extends Hk{data(e={}){return super.data(e)}}class hO{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ll(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fu(this._firestore,this._userDataWriter,r.key,r,new ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const c=new Fu(s._firestore,s._userDataWriter,o.doc.key,o.doc,new ll(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const c=new Fu(s._firestore,s._userDataWriter,o.doc.key,o.doc,new ll(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return o.type!==0&&(d=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:fO(o.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t){t=dr(t,on);const e=dr(t.firestore,ra);return Q4(ov(e),t._key).then(n=>gO(e,t,n))}class Gk extends dO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function sc(t){t=dr(t,fi);const e=dr(t.firestore,ra),n=ov(e),r=new Gk(e);return uO(t._query),Y4(n,t._query).then(s=>new hO(e,r,t,s))}function mO(t,e,n){t=dr(t,on);const r=dr(t.firestore,ra),s=qk(t.converter,e);return Oh(r,[Lk(Rh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Bn.none())])}function oo(t,e,n,...r){t=dr(t,on);const s=dr(t.firestore,ra),i=Rh(s);let a;return a=typeof(e=ct(e))=="string"||e instanceof Ah?aO(i,"updateDoc",t._key,e,n,r):iO(i,"updateDoc",t._key,e),Oh(s,[a.toMutation(t._key,Bn.exists(!0))])}function pO(t){return Oh(dr(t.firestore,ra),[new Hg(t._key,Bn.none())])}function Ba(t,e){const n=dr(t.firestore,ra),r=ir(t),s=qk(t.converter,e);return Oh(n,[Lk(Rh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function Oh(t,e){return function(r,s){const i=new Yr;return r.asyncQueue.enqueueAndForget(async()=>L4(await K4(r),s,i)),i.promise}(ov(t),e)}function gO(t,e,n){const r=n.docs.get(e._key),s=new Gk(t);return new Hk(t,s,e._key,r,new ll(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){bo=s})(Ji),Bi(new ei("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),o=new ra(new vj(r.getProvider("auth-internal")),new _j(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new re(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(d.options.projectId,h)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Nr(gx,"4.7.3",e),Nr(gx,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="firebasestorage.googleapis.com",Qk="storageBucket",vO=2*60*1e3,yO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends Or{constructor(e,n,r=0){super(Mf(e),`Firebase Storage: ${n} (${Mf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ut;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ut||(ut={}));function Mf(t){return"storage/"+t}function xv(){const t="An unknown error occurred, please check the error payload for server response.";return new dt(ut.UNKNOWN,t)}function xO(t){return new dt(ut.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function wO(t){return new dt(ut.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _O(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(ut.UNAUTHENTICATED,t)}function bO(){return new dt(ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function EO(t){return new dt(ut.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function kO(){return new dt(ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TO(){return new dt(ut.CANCELED,"User canceled the upload/download.")}function SO(t){return new dt(ut.INVALID_URL,"Invalid URL '"+t+"'.")}function NO(t){return new dt(ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function IO(){return new dt(ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Qk+"' property when initializing the app?")}function CO(){return new dt(ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function AO(){return new dt(ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function RO(t){return new dt(ut.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function op(t){return new dt(ut.INVALID_ARGUMENT,t)}function Yk(){return new dt(ut.APP_DELETED,"The Firebase app was deleted.")}function PO(t){return new dt(ut.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tl(t,e){return new dt(ut.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Go(t){throw new dt(ut.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cn.makeFromUrl(e,n)}catch{return new Cn(e,"")}if(r.path==="")return r;throw NO(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function d(j){j.path_=decodeURIComponent(j.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${h}/b/${s}/o${p}`,"i"),I={bucket:1,path:3},C=n===Kk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",k=new RegExp(`^https?://${C}/${s}/${S}`,"i"),w=[{regex:o,indices:c,postModify:i},{regex:g,indices:I,postModify:d},{regex:k,indices:{bucket:1,path:2},postModify:d}];for(let j=0;j<w.length;j++){const P=w[j],O=P.regex.exec(e);if(O){const b=O[P.indices.bucket];let y=O[P.indices.path];y||(y=""),r=new Cn(b,y),P.postModify(r);break}}if(r==null)throw SO(e);return r}}class jO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t,e,n){let r=1,s=null,i=null,a=!1,o=0;function c(){return o===2}let d=!1;function h(...S){d||(d=!0,e.apply(null,S))}function m(S){s=setTimeout(()=>{s=null,t(g,c())},S)}function p(){i&&clearTimeout(i)}function g(S,...k){if(d){p();return}if(S){p(),h.call(null,S,...k);return}if(c()||a){p(),h.call(null,S,...k);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,m(w)}let I=!1;function C(S){I||(I=!0,p(),!d&&(s!==null?(S||(o=2),clearTimeout(s),m(0)):S||(o=1)))}return m(0),i=setTimeout(()=>{a=!0,C(!0)},n),C}function OO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){return t!==void 0}function VO(t){return typeof t=="object"&&!Array.isArray(t)}function wv(t){return typeof t=="string"||t instanceof String}function nw(t){return _v()&&t instanceof Blob}function _v(){return typeof Blob<"u"}function rw(t,e,n,r){if(r<e)throw op(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw op(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Xk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Vi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vi||(Vi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n,r,s,i,a,o,c,d,h,m,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=m,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,I)=>{this.resolve_=g,this.reject_=I,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new hu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=o=>{const c=o.loaded,d=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const o=i.getErrorCode()===Vi.NO_ERROR,c=i.getStatus();if(!o||LO(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Vi.ABORT;r(!1,new hu(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new hu(d,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,o=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());MO(c)?i(c):i()}catch(c){a(c)}else if(o!==null){const c=xv();c.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,c)):a(c)}else if(s.canceled){const c=this.appDelete_?Yk():TO();a(c)}else{const c=kO();a(c)}};this.canceled_?n(!1,new hu(!1,null,!0)):this.backoffId_=DO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&OO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function FO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $O(t,e){e&&(t["X-Firebase-GMPID"]=e)}function BO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function WO(t,e,n,r,s,i,a=!0){const o=Xk(t.urlParams),c=t.url+o,d=Object.assign({},t.headers);return $O(d,e),FO(d,n),zO(d,i),BO(d,r),new UO(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function HO(...t){const e=qO();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(_v())return new Blob(t);throw new dt(ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function GO(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t){if(typeof atob>"u")throw RO("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vf{constructor(e,n){this.data=e,this.contentType=n||null}}function QO(t,e){switch(t){case kr.RAW:return new Vf(Zk(e));case kr.BASE64:case kr.BASE64URL:return new Vf(Jk(t,e));case kr.DATA_URL:return new Vf(XO(e),ZO(e))}throw xv()}function Zk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,a=t.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function YO(t){let e;try{e=decodeURIComponent(t)}catch{throw Tl(kr.DATA_URL,"Malformed data URL.")}return Zk(e)}function Jk(t,e){switch(t){case kr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Tl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case kr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Tl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=KO(e)}catch(s){throw s.message.includes("polyfill")?s:Tl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class eT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Tl(kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=JO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function XO(t){const e=new eT(t);return e.base64?Jk(kr.BASE64,e.rest):YO(e.rest)}function ZO(t){return new eT(t).contentType}function JO(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){let r=0,s="";nw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(nw(this.data_)){const r=this.data_,s=GO(r,e,n);return s===null?null:new As(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new As(r,!0)}}static getBlob(...e){if(_v()){const n=e.map(r=>r instanceof As?r.data_:r);return new As(HO.apply(null,n))}else{const n=e.map(a=>wv(a)?QO(kr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)s[i++]=a[o]}),new As(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){let e;try{e=JSON.parse(t)}catch{return null}return VO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function t5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function nT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t,e){return e}class nn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||n5}}let fu=null;function r5(t){return!wv(t)||t.length<2?t:nT(t)}function rT(){if(fu)return fu;const t=[];t.push(new nn("bucket")),t.push(new nn("generation")),t.push(new nn("metageneration")),t.push(new nn("name","fullPath",!0));function e(i,a){return r5(a)}const n=new nn("name");n.xform=e,t.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new nn("size");return s.xform=r,t.push(s),t.push(new nn("timeCreated")),t.push(new nn("updated")),t.push(new nn("md5Hash",null,!0)),t.push(new nn("cacheControl",null,!0)),t.push(new nn("contentDisposition",null,!0)),t.push(new nn("contentEncoding",null,!0)),t.push(new nn("contentLanguage",null,!0)),t.push(new nn("contentType",null,!0)),t.push(new nn("metadata","customMetadata",!0)),fu=t,fu}function s5(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Cn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function i5(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,e[a.server])}return s5(r,t),r}function sT(t,e,n){const r=tT(e);return r===null?null:i5(t,r,n)}function a5(t,e,n,r){const s=tT(e);if(s===null||!wv(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(d=>{const h=t.bucket,m=t.fullPath,p="/b/"+a(h)+"/o/"+a(m),g=bv(p,n,r),I=Xk({alt:"media",token:d});return g+I})[0]}function o5(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class iT{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){if(!t)throw xv()}function l5(t,e){function n(r,s){const i=sT(t,s,e);return aT(i!==null),i}return n}function c5(t,e){function n(r,s){const i=sT(t,s,e);return aT(i!==null),a5(i,s,t.host,t._protocol)}return n}function oT(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=bO():s=_O():n.getStatus()===402?s=wO(t.bucket):n.getStatus()===403?s=EO(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function u5(t){const e=oT(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=xO(t.path)),i.serverResponse=s.serverResponse,i}return n}function d5(t,e,n){const r=e.fullServerUrl(),s=bv(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,o=new iT(s,i,c5(t,n),a);return o.errorHandler=u5(e),o}function h5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function f5(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=h5(null,e)),r}function m5(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let j=0;j<2;j++)w=w+Math.random().toString().slice(2);return w}const c=o();a["Content-Type"]="multipart/related; boundary="+c;const d=f5(e,r,s),h=o5(d,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+c+"--",g=As.getBlob(m,r,p);if(g===null)throw CO();const I={name:d.fullPath},C=bv(i,t.host,t._protocol),S="POST",k=t.maxUploadRetryTime,x=new iT(C,S,l5(t,n),k);return x.urlParams=I,x.headers=a,x.body=g.uploadData(),x.errorHandler=oT(e),x}class p5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Go("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Go("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Go("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Go("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Go("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class g5 extends p5{initXhr(){this.xhr_.responseType="text"}}function lT(){return new g5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){this._service=e,n instanceof Cn?this._location=n:this._location=Cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qi(e,n)}get root(){const e=new Cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nT(this._location.path)}get storage(){return this._service}get parent(){const e=e5(this._location.path);if(e===null)return null;const n=new Cn(this._location.bucket,e);return new Qi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw PO(e)}}function v5(t,e,n){t._throwIfRoot("uploadBytes");const r=m5(t.storage,t._location,rT(),new As(e,!0),n);return t.storage.makeRequestWithTokens(r,lT).then(s=>({metadata:s,ref:t}))}function y5(t){t._throwIfRoot("getDownloadURL");const e=d5(t.storage,t._location,rT());return t.storage.makeRequestWithTokens(e,lT).then(n=>{if(n===null)throw AO();return n})}function x5(t,e){const n=t5(t._location.path,e),r=new Cn(t._location.bucket,n);return new Qi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){return/^[A-Za-z]+:\/\//.test(t)}function _5(t,e){return new Qi(t,e)}function cT(t,e){if(t instanceof Ev){const n=t;if(n._bucket==null)throw IO();const r=new Qi(n,n._bucket);return e!=null?cT(r,e):r}else return e!==void 0?x5(t,e):t}function b5(t,e){if(e&&w5(e)){if(t instanceof Ev)return _5(t,e);throw op("To use ref(service, url), the first argument must be a Storage instance.")}else return cT(t,e)}function sw(t,e){const n=e==null?void 0:e[Qk];return n==null?null:Cn.makeFromBucketSpec(n,t)}function E5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:L1(s,t.app.options.projectId))}class Ev{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Kk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vO,this._maxUploadRetryTime=yO,this._requests=new Set,s!=null?this._bucket=Cn.makeFromBucketSpec(s,this._host):this._bucket=sw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cn.makeFromBucketSpec(this._url,e):this._bucket=sw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new jO(Yk());{const a=WO(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const iw="@firebase/storage",aw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="storage";function k5(t,e,n){return t=ct(t),v5(t,e,n)}function T5(t){return t=ct(t),y5(t)}function S5(t,e){return t=ct(t),b5(t,e)}function N5(t=Ng(),e){t=ct(t);const r=ph(t,uT).getImmediate({identifier:e}),s=O1("storage");return s&&I5(r,...s),r}function I5(t,e,n,r={}){E5(t,e,n,r)}function C5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ev(n,r,s,e,Ji)}function A5(){Bi(new ei(uT,C5,"PUBLIC").setMultipleInstances(!0)),Nr(iw,aw,""),Nr(iw,aw,"esm2017")}A5();const R5={apiKey:"AIzaSyD9bcS2pNPKvmHTEWmyw4wpta9oHwdHfSQ",authDomain:"respect-pill.firebaseapp.com",projectId:"respect-pill",storageBucket:"respect-pill.firebasestorage.app",messagingSenderId:"1010603665326",appId:"1:1010603665326:web:bd4dab0f4edef85eb60a3f"},kv=z1(R5),mu=fj(kv),mt=eO(kv),P5=N5(kv);async function j5(t,e,n){const r=t.name.split(".").pop(),s=`${Date.now()}.${r}`,i=`${e}/${n}/${s}`,a=S5(P5,i);return await k5(a,t),{url:await T5(a),path:i}}async function D5(t,e){if(!t.type.startsWith("image/"))throw new Error("Only image files are allowed for avatars");if(t.size>5*1024*1024)throw new Error("Avatar image must be less than 5MB");return(await j5(t,"avatars",e)).url}const Hn=A1((t,e)=>({user:null,profile:null,loading:!0,initialized:!1,initialize:async()=>{try{tP(mu,async n=>{if(n){const r=ir(mt,"profiles",n.uid),s=await tw(r);let i=null;s.exists()&&(i={id:s.id,...s.data()}),t({user:{id:n.uid,email:n.email,name:n.displayName||"",emailVerified:n.emailVerified},profile:i,loading:!1,initialized:!0})}else t({user:null,profile:null,loading:!1,initialized:!0})})}catch(n){console.error("Auth initialization error:",n),t({loading:!1,initialized:!0})}},login:async(n,r)=>{try{await ZR(mu,n,r)}catch(s){throw console.error("Login error:",s),s}},register:async(n,r)=>{try{const i=(await XR(mu,n,r)).user,a={userId:i.uid,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await mO(ir(mt,"profiles",i.uid),a),t({user:{id:i.uid,email:i.email,name:"",emailVerified:i.emailVerified},profile:{id:i.uid,...a}})}catch(s){throw console.error("Register error:",s),s}},logout:async()=>{try{await nP(mu),t({user:null,profile:null})}catch(n){throw console.error("Logout error:",n),n}},loadProfile:async n=>{try{const r=ir(mt,"profiles",n),s=await tw(r);if(s.exists()){const i={id:s.id,...s.data()};t({profile:i})}}catch(r){throw console.error("Load profile error:",r),r}},updateProfile:async n=>{const{user:r,profile:s}=e();if(!(!r||!s))try{const i=ir(mt,"profiles",r.id);await oo(i,{...n,updatedAt:new Date().toISOString()}),t({profile:{...s,...n}})}catch(i){throw console.error("Update profile error:",i),i}},uploadAvatar:async n=>{const{user:r}=e();if(!r)throw new Error("User not authenticated");try{const s=await D5(n,r.id);await e().updateProfile({avatar:s})}catch(s){throw console.error("Upload avatar error:",s),s}}}));/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ge=(t,e)=>{const n=U.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,...d},h)=>U.createElement("svg",{ref:h,...O5,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${M5(t)}`,o].join(" "),...d},[...e.map(([m,p])=>U.createElement(m,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=ge("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=ge("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=ge("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=ge("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=ge("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ge("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ge("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=ge("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ge("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=ge("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=ge("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=ge("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=ge("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=ge("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ge("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=ge("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=ge("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=ge("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=ge("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=ge("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=ge("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=ge("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=ge("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=ge("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=ge("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=ge("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=ge("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ge("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=ge("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ge("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var aM=t=>{switch(t){case"success":return cM;case"info":return dM;case"warning":return uM;case"error":return hM;default:return null}},oM=Array(12).fill(0),lM=({visible:t,className:e})=>$.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},$.createElement("div",{className:"sonner-spinner"},oM.map((n,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),cM=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uM=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dM=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hM=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fM=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),mM=()=>{let[t,e]=$.useState(document.hidden);return $.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},hp=1,pM=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:hp++,i=this.toasts.find(o=>o.id===s),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(o=>o.id===s?(this.publish({...o,...t,id:s,title:n}),{...o,...t,id:s,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,a=r.then(async c=>{if(i=["resolve",c],$.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(vM(c)&&!c.ok){s=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:d,description:h})}else if(e.success!==void 0){s=!1;let d=typeof e.success=="function"?await e.success(c):e.success,h=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){s=!1;let d=typeof e.error=="function"?await e.error(c):e.error,h=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),o=()=>new Promise((c,d)=>a.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||hp++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},fn=new pM,gM=(t,e)=>{let n=(e==null?void 0:e.id)||hp++;return fn.addToast({title:t,...e,id:n}),n},vM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",yM=gM,xM=()=>fn.toasts,wM=()=>fn.getActiveToasts(),Ft=Object.assign(yM,{success:fn.success,info:fn.info,warning:fn.warning,error:fn.error,custom:fn.custom,message:fn.message,promise:fn.promise,dismiss:fn.dismiss,loading:fn.loading},{getHistory:xM,getToasts:wM});function _M(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}_M(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function pu(t){return t.label!==void 0}var bM=3,EM="32px",kM="16px",hw=4e3,TM=356,SM=14,NM=20,IM=200;function Zn(...t){return t.filter(Boolean).join(" ")}function CM(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var AM=t=>{var e,n,r,s,i,a,o,c,d,h,m;let{invert:p,toast:g,unstyled:I,interacting:C,setHeights:S,visibleToasts:k,heights:x,index:w,toasts:j,expanded:P,removeToast:O,defaultRichColors:b,closeButton:y,style:E,cancelButtonStyle:T,actionButtonStyle:A,className:R="",descriptionClassName:N="",duration:ie,position:te,gap:fe,loadingIcon:q,expandByDefault:W,classNames:L,icons:Y,closeButtonAriaLabel:le="Close toast",pauseWhenPageIsHidden:se}=t,[he,Te]=$.useState(null),[De,Ct]=$.useState(null),[Ie,cs]=$.useState(!1),[Kn,_n]=$.useState(!1),[On,fr]=$.useState(!1),[us,ds]=$.useState(!1),[hs,yi]=$.useState(!1),[So,oa]=$.useState(0),[xi,D]=$.useState(0),V=$.useRef(g.duration||ie||hw),z=$.useRef(null),J=$.useRef(null),X=w===0,K=w+1<=k,Z=g.type,pe=g.dismissible!==!1,Oe=g.className||"",Dt=g.descriptionClassName||"",Mn=$.useMemo(()=>x.findIndex(xe=>xe.toastId===g.id)||0,[x,g.id]),Vn=$.useMemo(()=>{var xe;return(xe=g.closeButton)!=null?xe:y},[g.closeButton,y]),mr=$.useMemo(()=>g.duration||ie||hw,[g.duration,ie]),pr=$.useRef(0),bn=$.useRef(0),fs=$.useRef(0),Qn=$.useRef(null),[No,ms]=te.split("-"),Io=$.useMemo(()=>x.reduce((xe,Me,qe)=>qe>=Mn?xe:xe+Me.height,0),[x,Mn]),Co=mM(),wi=g.invert||p,_i=Z==="loading";bn.current=$.useMemo(()=>Mn*fe+Io,[Mn,Io]),$.useEffect(()=>{V.current=mr},[mr]),$.useEffect(()=>{cs(!0)},[]),$.useEffect(()=>{let xe=J.current;if(xe){let Me=xe.getBoundingClientRect().height;return D(Me),S(qe=>[{toastId:g.id,height:Me,position:g.position},...qe]),()=>S(qe=>qe.filter(Ot=>Ot.toastId!==g.id))}},[S,g.id]),$.useLayoutEffect(()=>{if(!Ie)return;let xe=J.current,Me=xe.style.height;xe.style.height="auto";let qe=xe.getBoundingClientRect().height;xe.style.height=Me,D(qe),S(Ot=>Ot.find(dn=>dn.toastId===g.id)?Ot.map(dn=>dn.toastId===g.id?{...dn,height:qe}:dn):[{toastId:g.id,height:qe,position:g.position},...Ot])},[Ie,g.title,g.description,S,g.id]);let Ln=$.useCallback(()=>{_n(!0),oa(bn.current),S(xe=>xe.filter(Me=>Me.toastId!==g.id)),setTimeout(()=>{O(g)},IM)},[g,O,S,bn]);$.useEffect(()=>{if(g.promise&&Z==="loading"||g.duration===1/0||g.type==="loading")return;let xe;return P||C||se&&Co?(()=>{if(fs.current<pr.current){let Me=new Date().getTime()-pr.current;V.current=V.current-Me}fs.current=new Date().getTime()})():V.current!==1/0&&(pr.current=new Date().getTime(),xe=setTimeout(()=>{var Me;(Me=g.onAutoClose)==null||Me.call(g,g),Ln()},V.current)),()=>clearTimeout(xe)},[P,C,g,Z,se,Co,Ln]),$.useEffect(()=>{g.delete&&Ln()},[Ln,g.delete]);function Mr(){var xe,Me,qe;return Y!=null&&Y.loading?$.createElement("div",{className:Zn(L==null?void 0:L.loader,(xe=g==null?void 0:g.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":Z==="loading"},Y.loading):q?$.createElement("div",{className:Zn(L==null?void 0:L.loader,(Me=g==null?void 0:g.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":Z==="loading"},q):$.createElement(lM,{className:Zn(L==null?void 0:L.loader,(qe=g==null?void 0:g.classNames)==null?void 0:qe.loader),visible:Z==="loading"})}return $.createElement("li",{tabIndex:0,ref:J,className:Zn(R,Oe,L==null?void 0:L.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Z],(n=g==null?void 0:g.classNames)==null?void 0:n[Z]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:b,"data-styled":!(g.jsx||g.unstyled||I),"data-mounted":Ie,"data-promise":!!g.promise,"data-swiped":hs,"data-removed":Kn,"data-visible":K,"data-y-position":No,"data-x-position":ms,"data-index":w,"data-front":X,"data-swiping":On,"data-dismissible":pe,"data-type":Z,"data-invert":wi,"data-swipe-out":us,"data-swipe-direction":De,"data-expanded":!!(P||W&&Ie),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${Kn?So:bn.current}px`,"--initial-height":W?"auto":`${xi}px`,...E,...g.style},onDragEnd:()=>{fr(!1),Te(null),Qn.current=null},onPointerDown:xe=>{_i||!pe||(z.current=new Date,oa(bn.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(fr(!0),Qn.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Me,qe,Ot;if(us||!pe)return;Qn.current=null;let dn=Number(((xe=J.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Je=Number(((Me=J.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gr=new Date().getTime()-((qe=z.current)==null?void 0:qe.getTime()),Mt=he==="x"?dn:Je,hn=Math.abs(Mt)/gr;if(Math.abs(Mt)>=NM||hn>.11){oa(bn.current),(Ot=g.onDismiss)==null||Ot.call(g,g),Ct(he==="x"?dn>0?"right":"left":Je>0?"down":"up"),Ln(),ds(!0),yi(!1);return}fr(!1),Te(null)},onPointerMove:xe=>{var Me,qe,Ot,dn;if(!Qn.current||!pe||((Me=window.getSelection())==null?void 0:Me.toString().length)>0)return;let Je=xe.clientY-Qn.current.y,gr=xe.clientX-Qn.current.x,Mt=(qe=t.swipeDirections)!=null?qe:CM(te);!he&&(Math.abs(gr)>1||Math.abs(Je)>1)&&Te(Math.abs(gr)>Math.abs(Je)?"x":"y");let hn={x:0,y:0};he==="y"?(Mt.includes("top")||Mt.includes("bottom"))&&(Mt.includes("top")&&Je<0||Mt.includes("bottom")&&Je>0)&&(hn.y=Je):he==="x"&&(Mt.includes("left")||Mt.includes("right"))&&(Mt.includes("left")&&gr<0||Mt.includes("right")&&gr>0)&&(hn.x=gr),(Math.abs(hn.x)>0||Math.abs(hn.y)>0)&&yi(!0),(Ot=J.current)==null||Ot.style.setProperty("--swipe-amount-x",`${hn.x}px`),(dn=J.current)==null||dn.style.setProperty("--swipe-amount-y",`${hn.y}px`)}},Vn&&!g.jsx?$.createElement("button",{"aria-label":le,"data-disabled":_i,"data-close-button":!0,onClick:_i||!pe?()=>{}:()=>{var xe;Ln(),(xe=g.onDismiss)==null||xe.call(g,g)},className:Zn(L==null?void 0:L.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=Y==null?void 0:Y.close)!=null?i:fM):null,g.jsx||U.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:$.createElement($.Fragment,null,Z||g.icon||g.promise?$.createElement("div",{"data-icon":"",className:Zn(L==null?void 0:L.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Mr():null,g.type!=="loading"?g.icon||(Y==null?void 0:Y[Z])||aM(Z):null):null,$.createElement("div",{"data-content":"",className:Zn(L==null?void 0:L.content,(o=g==null?void 0:g.classNames)==null?void 0:o.content)},$.createElement("div",{"data-title":"",className:Zn(L==null?void 0:L.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?$.createElement("div",{"data-description":"",className:Zn(N,Dt,L==null?void 0:L.description,(d=g==null?void 0:g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),U.isValidElement(g.cancel)?g.cancel:g.cancel&&pu(g.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||T,onClick:xe=>{var Me,qe;pu(g.cancel)&&pe&&((qe=(Me=g.cancel).onClick)==null||qe.call(Me,xe),Ln())},className:Zn(L==null?void 0:L.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,U.isValidElement(g.action)?g.action:g.action&&pu(g.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||A,onClick:xe=>{var Me,qe;pu(g.action)&&((qe=(Me=g.action).onClick)==null||qe.call(Me,xe),!xe.defaultPrevented&&Ln())},className:Zn(L==null?void 0:L.actionButton,(m=g==null?void 0:g.classNames)==null?void 0:m.actionButton)},g.action.label):null))};function fw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function RM(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",o=i?kM:EM;function c(d){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${a}-${d}`]=o:n[`${a}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(o)}),n}var PM=U.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:c,mobileOffset:d,theme:h="light",richColors:m,duration:p,style:g,visibleToasts:I=bM,toastOptions:C,dir:S=fw(),gap:k=SM,loadingIcon:x,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:P}=t,[O,b]=$.useState([]),y=$.useMemo(()=>Array.from(new Set([r].concat(O.filter(se=>se.position).map(se=>se.position)))),[O,r]),[E,T]=$.useState([]),[A,R]=$.useState(!1),[N,ie]=$.useState(!1),[te,fe]=$.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=$.useRef(null),W=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=$.useRef(null),Y=$.useRef(!1),le=$.useCallback(se=>{b(he=>{var Te;return(Te=he.find(De=>De.id===se.id))!=null&&Te.delete||fn.dismiss(se.id),he.filter(({id:De})=>De!==se.id)})},[]);return $.useEffect(()=>fn.subscribe(se=>{if(se.dismiss){b(he=>he.map(Te=>Te.id===se.id?{...Te,delete:!0}:Te));return}setTimeout(()=>{qI.flushSync(()=>{b(he=>{let Te=he.findIndex(De=>De.id===se.id);return Te!==-1?[...he.slice(0,Te),{...he[Te],...se},...he.slice(Te+1)]:[se,...he]})})})}),[]),$.useEffect(()=>{if(h!=="system"){fe(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?fe("dark"):fe("light")),typeof window>"u")return;let se=window.matchMedia("(prefers-color-scheme: dark)");try{se.addEventListener("change",({matches:he})=>{fe(he?"dark":"light")})}catch{se.addListener(({matches:Te})=>{try{fe(Te?"dark":"light")}catch(De){console.error(De)}})}},[h]),$.useEffect(()=>{O.length<=1&&R(!1)},[O]),$.useEffect(()=>{let se=he=>{var Te,De;s.every(Ct=>he[Ct]||he.code===Ct)&&(R(!0),(Te=q.current)==null||Te.focus()),he.code==="Escape"&&(document.activeElement===q.current||(De=q.current)!=null&&De.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[s]),$.useEffect(()=>{if(q.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,Y.current=!1)}},[q.current]),$.createElement("section",{ref:e,"aria-label":`${j} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},y.map((se,he)=>{var Te;let[De,Ct]=se.split("-");return O.length?$.createElement("ol",{key:se,dir:S==="auto"?fw():S,tabIndex:-1,ref:q,className:o,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":De,"data-lifted":A&&O.length>1&&!i,"data-x-position":Ct,style:{"--front-toast-height":`${((Te=E[0])==null?void 0:Te.height)||0}px`,"--width":`${TM}px`,"--gap":`${k}px`,...g,...RM(c,d)},onBlur:Ie=>{Y.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(Y.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,L.current=Ie.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{N||R(!1)},onDragEnd:()=>R(!1),onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||ie(!0)},onPointerUp:()=>ie(!1)},O.filter(Ie=>!Ie.position&&he===0||Ie.position===se).map((Ie,cs)=>{var Kn,_n;return $.createElement(AM,{key:Ie.id,icons:w,index:cs,toast:Ie,defaultRichColors:m,duration:(Kn=C==null?void 0:C.duration)!=null?Kn:p,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:n,visibleToasts:I,closeButton:(_n=C==null?void 0:C.closeButton)!=null?_n:a,interacting:N,position:se,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,removeToast:le,toasts:O.filter(On=>On.position==Ie.position),heights:E.filter(On=>On.position==Ie.position),setHeights:T,expandByDefault:i,gap:k,loadingIcon:x,expanded:A,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const jM=[{name:"Dashboard",path:"/app/dashboard",icon:U5,color:"text-primary-400",bgColor:"bg-primary-500/10",hoverBg:"hover:bg-primary-500/20",border:"border-primary-500"},{name:"Corpo",path:"/app/corpo",icon:$u,color:"text-red-400",bgColor:"bg-red-500/10",hoverBg:"hover:bg-red-500/20",border:"border-red-500"},{name:"Mente",path:"/app/mente",icon:zu,color:"text-accent-400",bgColor:"bg-accent-500/10",hoverBg:"hover:bg-accent-500/20",border:"border-accent-500"},{name:"Postura e Presena",path:"/app/postura",icon:ic,color:"text-success-400",bgColor:"bg-success-500/10",hoverBg:"hover:bg-success-500/20",border:"border-success-500"},{name:"Vida Afetiva",path:"/app/vida-afetiva",icon:Wa,color:"text-pink-400",bgColor:"bg-pink-500/10",hoverBg:"hover:bg-pink-500/20",border:"border-pink-500"},{name:"Sexualidade",path:"/app/sexualidade",icon:cp,color:"text-orange-400",bgColor:"bg-orange-500/10",hoverBg:"hover:bg-orange-500/20",border:"border-orange-500"},{name:"Disciplina e Rotina",path:"/app/disciplina",icon:ls,color:"text-indigo-400",bgColor:"bg-indigo-500/10",hoverBg:"hover:bg-indigo-500/20",border:"border-indigo-500"},{name:"Propsito de Vida",path:"/app/carreira",icon:hT,color:"text-cyan-400",bgColor:"bg-cyan-500/10",hoverBg:"hover:bg-cyan-500/20",border:"border-cyan-500"},{name:"Desafios",path:"/app/challenges",icon:pT,color:"text-yellow-400",bgColor:"bg-yellow-500/10",hoverBg:"hover:bg-yellow-500/20",border:"border-yellow-500"},{name:"Comunidade",path:"/app/community",icon:ic,color:"text-zinc-400",bgColor:"bg-zinc-500/10",hoverBg:"hover:bg-zinc-500/20",border:"border-zinc-500"}];function DM(){const{user:t,logout:e}=Hn(),n=hh(),r=wo(),[s,i]=U.useState(!1),a=async()=>{try{await e(),Ft.success("Logout realizado com sucesso"),n("/login")}catch{Ft.error("Erro ao fazer logout")}};return l.jsxs("div",{className:"min-h-screen bg-dark-900",children:[l.jsx("header",{className:"bg-dark-850/80 backdrop-blur-xl border-b border-white/10 fixed top-0 left-0 right-0 z-20 shadow-lg shadow-black/20",children:l.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>i(!s),className:"lg:hidden text-zinc-400 hover:text-white p-2 transition-colors rounded-lg hover:bg-white/5",children:s?l.jsx(Nv,{className:"h-6 w-6"}):l.jsx(K5,{className:"h-6 w-6"})}),l.jsx(xl,{to:"/app/dashboard",className:"text-lg sm:text-xl font-bold text-white tracking-tight gradient-text",children:"Respect Pill"})]}),l.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:l.jsxs("div",{className:"relative group",children:[l.jsxs("button",{className:"flex items-center space-x-1 sm:space-x-2 text-zinc-300 hover:text-white px-3 py-2 rounded-lg transition-all hover:bg-white/5",children:[l.jsx(dp,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:(t==null?void 0:t.name)||"Usurio"})]}),l.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-dark-800 rounded-xl border border-white/10 shadow-2xl py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[l.jsxs(xl,{to:"/app/settings",className:"flex items-center space-x-2 px-4 py-3 text-sm text-zinc-300 hover:bg-white/5 hover:text-white transition-colors rounded-lg mx-1",children:[l.jsx(J5,{className:"h-4 w-4"}),l.jsx("span",{children:"Configuraes"})]}),l.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-4 py-3 text-sm text-zinc-300 hover:bg-white/5 hover:text-white w-full text-left transition-colors rounded-lg mx-1",children:[l.jsx(H5,{className:"h-4 w-4"}),l.jsx("span",{children:"Sair"})]})]})]})})]})})}),l.jsxs("div",{className:"flex pt-16",children:[s&&l.jsx("div",{className:"fixed inset-0 bg-black/60 z-30 lg:hidden backdrop-blur-sm",onClick:()=>i(!1)}),l.jsx("aside",{className:`
          w-64 bg-dark-850/50 backdrop-blur-xl border-r border-white/10 min-h-screen fixed left-0 top-16 overflow-y-auto z-30 transition-transform duration-300 ease-in-out
          lg:translate-x-0
          ${s?"translate-x-0":"-translate-x-full"}
        `,children:l.jsx("nav",{className:"p-4 space-y-2",children:jM.map(o=>{const c=o.icon,d=r.pathname===o.path;return l.jsxs(xl,{to:o.path,onClick:()=>i(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-xl transition-all border-l-4 ${d?`${o.bgColor} ${o.color} ${o.border} font-semibold shadow-lg shadow-${o.color}/10`:`text-zinc-400 hover:text-white ${o.hoverBg} border-transparent hover:border-zinc-700`}`,children:[l.jsx(c,{className:`h-5 w-5 ${d?o.color:"text-zinc-500"}`}),l.jsx("span",{className:"text-sm font-medium",children:o.name})]},o.path)})})}),l.jsx("main",{className:"flex-1 lg:ml-64 p-4 sm:p-6 lg:p-8 bg-dark-900",children:l.jsx(L2,{})})]})]})}const mi=A1((t,e)=>({trackers:[],plans:[],currentPlan:null,loading:!1,loadTrackers:async(n,r,s)=>{try{t({loading:!0});const i=nr(mt,"trackers");let a=Ms(i,Gr("userId","==",n));r&&(a=Ms(a,Gr("date",">=",r))),s&&(a=Ms(a,Gr("date","<=",s)));const o=await sc(a),c=[];o.forEach(d=>{const h=d.data();c.push({id:d.id,userId:h.userId,type:h.type,date:h.date,value:h.value,metadata:h.metadata||{},createdAt:h.createdAt,updatedAt:h.updatedAt})}),t({trackers:c,loading:!1})}catch(i){console.error("Load trackers error:",i),t({loading:!1})}},loadPlans:async n=>{try{const r=nr(mt,"plans"),s=Ms(r,Gr("userId","==",n),Dd("createdAt","desc")),i=await sc(s),a=[];i.forEach(c=>{const d=c.data();a.push({id:c.id,userId:d.userId,title:d.title,description:d.description,duration:d.duration,pillars:d.pillars||[],objectives:d.objectives||[],dailyTasks:d.dailyTasks||[],status:d.status,startDate:d.startDate,endDate:d.endDate,progress:d.progress||0,createdAt:d.createdAt,updatedAt:d.updatedAt})});const o=a.find(c=>c.status==="active")||null;t({plans:a,currentPlan:o})}catch(r){console.error("Load plans error:",r)}},createTracker:async n=>{try{const r=new Date().toISOString(),s={...n,createdAt:r,updatedAt:r},a={id:(await Ba(nr(mt,"trackers"),s)).id,...s};t(o=>({trackers:[...o.trackers,a]}))}catch(r){throw console.error("Create tracker error:",r),r}},updateTracker:async(n,r)=>{try{const s=new Date().toISOString(),i={...r,updatedAt:s},a=ir(mt,"trackers",n);await oo(a,i),t(o=>({trackers:o.trackers.map(c=>c.id===n?{...c,...i}:c)}))}catch(s){throw console.error("Update tracker error:",s),s}},deleteTracker:async n=>{try{await pO(ir(mt,"trackers",n)),t(r=>({trackers:r.trackers.filter(s=>s.id!==n)}))}catch(r){throw console.error("Delete tracker error:",r),r}},createPlan:async(n,r)=>{try{const s=new Date().toISOString(),i={userId:n,...r,status:"active",progress:0,startDate:s,endDate:new Date(Date.now()+r.duration*24*60*60*1e3).toISOString(),createdAt:s,updatedAt:s},o={id:(await Ba(nr(mt,"plans"),i)).id,...i};return t(c=>({plans:[o,...c.plans],currentPlan:o})),o}catch(s){throw console.error("Create plan error:",s),s}},updatePlanProgress:async(n,r)=>{try{const s=ir(mt,"plans",n);await oo(s,{progress:r}),t(i=>{var a;return{plans:i.plans.map(o=>o.id===n?{...o,progress:r}:o),currentPlan:((a=i.currentPlan)==null?void 0:a.id)===n?{...i.currentPlan,progress:r}:i.currentPlan}})}catch(s){throw console.error("Update plan progress error:",s),s}},getStreak:async(n,r)=>{const{trackers:s}=e(),i=s.filter(d=>d.userId===n&&d.type===r);if(i.length===0)return 0;const a=i.sort((d,h)=>new Date(h.date).getTime()-new Date(d.date).getTime());let o=0;const c=new Date;c.setHours(0,0,0,0);for(let d=0;d<a.length;d++){const h=new Date(a[d].date);h.setHours(0,0,0,0);const m=new Date(c);if(m.setDate(m.getDate()-d),h.getTime()===m.getTime())o++;else break}return o},saveTrackerValue:async(n,r,s,i)=>{try{const{trackers:a,updateTracker:o,createTracker:c}=e(),d=a.find(h=>h.userId===n&&h.date===r&&h.type===s);d?await o(d.id,{value:i}):await c({userId:n,type:s,date:r,value:i,metadata:{}})}catch(a){throw console.error("Save tracker value error:",a),a}},exportTrackers:async(n,r)=>{const{trackers:s}=e(),i=s.filter(a=>a.userId===n);if(r==="json")return JSON.stringify(i,null,2);{const a=["Date","Type","Value","Created At"],o=i.map(c=>[c.date,c.type,JSON.stringify(c.value),c.createdAt]);return[a,...o].map(c=>c.join(",")).join(`
`)}}}));function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function hr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Pe(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Re(t){Pe(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Vd(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function gT(t,e){Pe(2,arguments);var n=Re(t),r=hr(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function OM(t,e){Pe(2,arguments);var n=Re(t).getTime(),r=hr(e);return new Date(n+r)}var MM={};function sa(){return MM}function pi(t,e){var n,r,s,i,a,o,c,d;Pe(1,arguments);var h=sa(),m=hr((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Re(t),g=p.getDay(),I=(g<m?7:0)+g-m;return p.setDate(p.getDate()-I),p.setHours(0,0,0,0),p}function ac(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Ld(t){Pe(1,arguments);var e=Re(t);return e.setHours(0,0,0,0),e}var VM=864e5;function LM(t,e){Pe(2,arguments);var n=Ld(t),r=Ld(e),s=n.getTime()-ac(n),i=r.getTime()-ac(r);return Math.round((s-i)/VM)}function Wu(t,e){Pe(2,arguments);var n=Re(t),r=Re(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function ln(t,e){Pe(2,arguments);var n=Ld(t),r=Ld(e);return n.getTime()===r.getTime()}function UM(t){return Pe(1,arguments),t instanceof Date||Vd(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function FM(t){if(Pe(1,arguments),!UM(t)&&typeof t!="number")return!1;var e=Re(t);return!isNaN(Number(e))}function zM(t,e){Pe(2,arguments);var n=Re(t),r=Re(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function mw(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function $M(t,e){Pe(2,arguments);var n=Re(t),r=Re(e),s=mw(n,r),i=Math.abs(LM(n,r));n.setDate(n.getDate()-s*i);var a=+(mw(n,r)===-s),o=s*(i-a);return o===0?0:o}function BM(t,e){return Pe(2,arguments),Re(t).getTime()-Re(e).getTime()}var WM={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},qM="trunc";function HM(t){return WM[qM]}function GM(t){Pe(1,arguments);var e=Re(t);return e.setHours(23,59,59,999),e}function KM(t){Pe(1,arguments);var e=Re(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function QM(t){Pe(1,arguments);var e=Re(t);return GM(e).getTime()===KM(e).getTime()}function YM(t,e){Pe(2,arguments);var n=Re(t),r=Re(e),s=Wu(n,r),i=Math.abs(zM(n,r)),a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var o=Wu(n,r)===-s;QM(Re(t))&&i===1&&Wu(t,r)===1&&(o=!1),a=s*(i-Number(o))}return a===0?0:a}function XM(t,e,n){Pe(2,arguments);var r=BM(t,e)/1e3;return HM()(r)}function gi(t,e){var n;Pe(1,arguments);var r=t||{},s=Re(r.start),i=Re(r.end),a=i.getTime();if(!(s.getTime()<=a))throw new RangeError("Invalid interval");var o=[],c=s;c.setHours(0,0,0,0);var d=Number((n=void 0)!==null&&n!==void 0?n:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=a;)o.push(Re(c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return o}function vi(t,e){var n,r,s,i,a,o,c,d;Pe(1,arguments);var h=sa(),m=hr((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Re(t),g=p.getDay(),I=(g<m?-7:0)+6-(g-m);return p.setDate(p.getDate()+I),p.setHours(23,59,59,999),p}function ZM(t,e){Pe(2,arguments);var n=hr(e);return OM(t,-n)}var JM=864e5;function eV(t){Pe(1,arguments);var e=Re(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/JM)+1}function Ud(t){Pe(1,arguments);var e=1,n=Re(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function vT(t){Pe(1,arguments);var e=Re(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Ud(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=Ud(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function tV(t){Pe(1,arguments);var e=vT(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Ud(n);return r}var nV=6048e5;function rV(t){Pe(1,arguments);var e=Re(t),n=Ud(e).getTime()-tV(e).getTime();return Math.round(n/nV)+1}function Fd(t,e){var n,r,s,i,a,o,c,d;Pe(1,arguments);var h=sa(),m=hr((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Re(t),g=p.getUTCDay(),I=(g<m?7:0)+g-m;return p.setUTCDate(p.getUTCDate()-I),p.setUTCHours(0,0,0,0),p}function yT(t,e){var n,r,s,i,a,o,c,d;Pe(1,arguments);var h=Re(t),m=h.getUTCFullYear(),p=sa(),g=hr((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=new Date(0);I.setUTCFullYear(m+1,0,g),I.setUTCHours(0,0,0,0);var C=Fd(I,e),S=new Date(0);S.setUTCFullYear(m,0,g),S.setUTCHours(0,0,0,0);var k=Fd(S,e);return h.getTime()>=C.getTime()?m+1:h.getTime()>=k.getTime()?m:m-1}function sV(t,e){var n,r,s,i,a,o,c,d;Pe(1,arguments);var h=sa(),m=hr((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=yT(t,e),g=new Date(0);g.setUTCFullYear(p,0,m),g.setUTCHours(0,0,0,0);var I=Fd(g,e);return I}var iV=6048e5;function aV(t,e){Pe(1,arguments);var n=Re(t),r=Fd(n,e).getTime()-sV(n,e).getTime();return Math.round(r/iV)+1}function $e(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var ws={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return $e(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):$e(r+1,2)},d:function(e,n){return $e(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return $e(e.getUTCHours()%12||12,n.length)},H:function(e,n){return $e(e.getUTCHours(),n.length)},m:function(e,n){return $e(e.getUTCMinutes(),n.length)},s:function(e,n){return $e(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return $e(i,n.length)}},fa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oV={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return ws.y(e,n)},Y:function(e,n,r,s){var i=yT(e,s),a=i>0?i:1-i;if(n==="YY"){var o=a%100;return $e(o,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):$e(a,n.length)},R:function(e,n){var r=vT(e);return $e(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return $e(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return $e(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return $e(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return ws.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return $e(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=aV(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):$e(i,n.length)},I:function(e,n,r){var s=rV(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):$e(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):ws.d(e,n)},D:function(e,n,r){var s=eV(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):$e(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return $e(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return $e(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return $e(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=fa.noon:s===0?i=fa.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=fa.evening:s>=12?i=fa.afternoon:s>=4?i=fa.morning:i=fa.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return ws.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):ws.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):$e(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):$e(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):ws.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ws.s(e,n)},S:function(e,n){return ws.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return gw(a);case"XXXX":case"XX":return Ii(a);case"XXXXX":case"XXX":default:return Ii(a,":")}},x:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"x":return gw(a);case"xxxx":case"xx":return Ii(a);case"xxxxx":case"xxx":default:return Ii(a,":")}},O:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+pw(a,":");case"OOOO":default:return"GMT"+Ii(a,":")}},z:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+pw(a,":");case"zzzz":default:return"GMT"+Ii(a,":")}},t:function(e,n,r,s){var i=s._originalDate||e,a=Math.floor(i.getTime()/1e3);return $e(a,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,a=i.getTime();return $e(a,n.length)}};function pw(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var a=e;return n+String(s)+a+$e(i,2)}function gw(t,e){if(t%60===0){var n=t>0?"-":"+";return n+$e(Math.abs(t)/60,2)}return Ii(t,e)}function Ii(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=$e(Math.floor(s/60),2),a=$e(s%60,2);return r+i+n+a}var vw=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},xT=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},lV=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return vw(e,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",vw(s,n)).replace("{{time}}",xT(i,n))},cV={p:xT,P:lV},uV=["D","DD"],dV=["YY","YYYY"];function hV(t){return uV.indexOf(t)!==-1}function fV(t){return dV.indexOf(t)!==-1}function yw(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var mV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pV=function(e,n,r){var s,i=mV[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function qa(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var gV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xV={date:qa({formats:gV,defaultWidth:"full"}),time:qa({formats:vV,defaultWidth:"full"}),dateTime:qa({formats:yV,defaultWidth:"full"})},wV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_V=function(e,n,r,s){return wV[e]};function _r(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=t.formattingValues[a]||t.formattingValues[i]}else{var o=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[o]}var d=t.argumentCallback?t.argumentCallback(e):e;return s[d]}}var bV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},EV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},TV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},IV=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},CV={ordinalNumber:IV,era:_r({values:bV,defaultWidth:"wide"}),quarter:_r({values:EV,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:_r({values:kV,defaultWidth:"wide"}),day:_r({values:TV,defaultWidth:"wide"}),dayPeriod:_r({values:SV,defaultWidth:"wide",formattingValues:NV,defaultFormattingWidth:"wide"})};function br(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var a=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?RV(o,function(m){return m.test(a)}):AV(o,function(m){return m.test(a)}),d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var h=e.slice(a.length);return{value:d,rest:h}}}function AV(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function RV(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function wT(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var o=e.slice(s.length);return{value:a,rest:o}}}var PV=/^(\d+)(th|st|nd|rd)?/i,jV=/\d+/i,DV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},OV={any:[/^b/i,/^(a|c)/i]},MV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VV={any:[/1/i,/2/i,/3/i,/4/i]},LV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$V={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},WV={ordinalNumber:wT({matchPattern:PV,parsePattern:jV,valueCallback:function(e){return parseInt(e,10)}}),era:br({matchPatterns:DV,defaultMatchWidth:"wide",parsePatterns:OV,defaultParseWidth:"any"}),quarter:br({matchPatterns:MV,defaultMatchWidth:"wide",parsePatterns:VV,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:br({matchPatterns:LV,defaultMatchWidth:"wide",parsePatterns:UV,defaultParseWidth:"any"}),day:br({matchPatterns:FV,defaultMatchWidth:"wide",parsePatterns:zV,defaultParseWidth:"any"}),dayPeriod:br({matchPatterns:$V,defaultMatchWidth:"any",parsePatterns:BV,defaultParseWidth:"any"})},_T={code:"en-US",formatDistance:pV,formatLong:xV,formatRelative:_V,localize:CV,match:WV,options:{weekStartsOn:0,firstWeekContainsDate:1}},qV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GV=/^'([^]*?)'?$/,KV=/''/g,QV=/[a-zA-Z]/;function ye(t,e,n){var r,s,i,a,o,c,d,h,m,p,g,I,C,S,k,x,w,j;Pe(2,arguments);var P=String(e),O=sa(),b=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:O.locale)!==null&&r!==void 0?r:_T,y=hr((i=(a=(o=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(d=n.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:O.firstWeekContainsDate)!==null&&a!==void 0?a:(m=O.locale)===null||m===void 0||(p=m.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=hr((g=(I=(C=(S=n==null?void 0:n.weekStartsOn)!==null&&S!==void 0?S:n==null||(k=n.locale)===null||k===void 0||(x=k.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&C!==void 0?C:O.weekStartsOn)!==null&&I!==void 0?I:(w=O.locale)===null||w===void 0||(j=w.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&g!==void 0?g:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var T=Re(t);if(!FM(T))throw new RangeError("Invalid time value");var A=ac(T),R=ZM(T,A),N={firstWeekContainsDate:y,weekStartsOn:E,locale:b,_originalDate:T},ie=P.match(HV).map(function(te){var fe=te[0];if(fe==="p"||fe==="P"){var q=cV[fe];return q(te,b.formatLong)}return te}).join("").match(qV).map(function(te){if(te==="''")return"'";var fe=te[0];if(fe==="'")return YV(te);var q=oV[fe];if(q)return!(n!=null&&n.useAdditionalWeekYearTokens)&&fV(te)&&yw(te,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&hV(te)&&yw(te,e,String(t)),q(R,te,b.localize,N);if(fe.match(QV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+fe+"`");return te}).join("");return ie}function YV(t){var e=t.match(GV);return e?e[1].replace(KV,"'"):t}function bT(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function XV(t){return bT({},t)}var xw=1440,ZV=2520,Lf=43200,JV=86400;function eL(t,e,n){var r,s;Pe(2,arguments);var i=sa(),a=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:i.locale)!==null&&r!==void 0?r:_T;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Wu(t,e);if(isNaN(o))throw new RangeError("Invalid time value");var c=bT(XV(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:o}),d,h;o>0?(d=Re(e),h=Re(t)):(d=Re(t),h=Re(e));var m=XM(h,d),p=(ac(h)-ac(d))/1e3,g=Math.round((m-p)/60),I;if(g<2)return n!=null&&n.includeSeconds?m<5?a.formatDistance("lessThanXSeconds",5,c):m<10?a.formatDistance("lessThanXSeconds",10,c):m<20?a.formatDistance("lessThanXSeconds",20,c):m<40?a.formatDistance("halfAMinute",0,c):m<60?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",1,c):g===0?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",g,c);if(g<45)return a.formatDistance("xMinutes",g,c);if(g<90)return a.formatDistance("aboutXHours",1,c);if(g<xw){var C=Math.round(g/60);return a.formatDistance("aboutXHours",C,c)}else{if(g<ZV)return a.formatDistance("xDays",1,c);if(g<Lf){var S=Math.round(g/xw);return a.formatDistance("xDays",S,c)}else if(g<JV)return I=Math.round(g/Lf),a.formatDistance("aboutXMonths",I,c)}if(I=YM(h,d),I<12){var k=Math.round(g/Lf);return a.formatDistance("xMonths",k,c)}else{var x=I%12,w=Math.floor(I/12);return x<3?a.formatDistance("aboutXYears",w,c):x<9?a.formatDistance("overXYears",w,c):a.formatDistance("almostXYears",w+1,c)}}function fp(t,e){return Pe(1,arguments),eL(t,Date.now(),e)}function tL(t){return Pe(1,arguments),ln(t,Date.now())}function ia(t,e){Pe(2,arguments);var n=hr(e);return gT(t,-n)}const ww=[{text:"A disciplina  a ponte entre metas e realizaes.",author:"Jim Rohn"},{text:"O que fazemos na vida ecoa na eternidade.",author:"Maximus"},{text:"A dor  temporria. A glria  eterna.",author:"Desconhecido"},{text:"No conte os dias, faa os dias contarem.",author:"Muhammad Ali"},{text:"Seja a mudana que voc quer ver no mundo.",author:"Mahatma Gandhi"}];function nL(){const t=Math.floor((Date.now()-new Date(new Date().getFullYear(),0,0).getTime())/1e3/60/60/24),e=ww[t%ww.length];return l.jsxs("div",{className:"bg-dark-850 p-6 border border-white/10 relative overflow-hidden group hover:border-gold-500/30 transition-all duration-500",children:[l.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:l.jsx(Y5,{className:"h-16 w-16 text-gold-500"})}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx("div",{className:"h-px w-8 bg-gold-500"}),l.jsx("span",{className:"text-xs font-bold text-gold-500 uppercase tracking-widest",children:"Aforismo do Dia"})]}),l.jsx("blockquote",{className:"mb-4",children:l.jsxs("p",{className:"text-xl font-light text-white italic leading-relaxed",children:['"',e.text,'"']})}),l.jsxs("cite",{className:"text-sm text-zinc-400 font-normal not-italic",children:[" ",e.author]})]})]})}function rL({days:t,type:e="porn"}){const n=()=>{switch(e){case"porn":return"Sem Pornografia";case"alcohol":return"Sem lcool";case"drugs":return"Sem Drogas";default:return"Dias Limpos"}};return l.jsxs("div",{className:"bg-dark-850 p-6 border border-white/10 hover:border-cobalt-500/30 transition-all duration-300 group",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(mT,{className:"h-5 w-5 text-cobalt-400"}),l.jsx("span",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest",children:n()})]}),t>0&&l.jsxs("div",{className:"flex items-center space-x-1 text-xs text-green-500",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{children:"Ativo"})]})]}),l.jsxs("div",{className:"flex items-end space-x-2",children:[l.jsx("span",{className:"text-4xl font-light text-white tracking-tighter",children:t}),l.jsx("span",{className:"text-sm text-zinc-500 mb-1 font-light uppercase tracking-wide",children:t===1?"Dia":"Dias"})]}),l.jsx("div",{className:"mt-4 w-full bg-dark-900 h-1 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-cobalt-600 to-cobalt-400 transition-all duration-1000 ease-out",style:{width:`${Math.min(t,90)/90*100}%`}})}),l.jsx("p",{className:"mt-2 text-xs text-zinc-600 text-right",children:"Meta: 90 dias"})]})}function sL(){var C;const{user:t}=Hn(),{currentPlan:e,trackers:n,loadTrackers:r,loadPlans:s,getStreak:i}=mi();U.useEffect(()=>{t&&(r(t.id),s(t.id))},[t,r,s]);const a=new Date,o=pi(a,{weekStartsOn:1}),c=vi(a,{weekStartsOn:1}),d=gi({start:o,end:c}),h=n.filter(S=>S.date===ye(a,"yyyy-MM-dd")),m=h.filter(S=>{var k;return(k=S.value)==null?void 0:k.completed}).length,p=h.length,g={workout:0,reading:0,sleep:0};t&&(i(t.id,"workout").then(S=>g.workout=S),i(t.id,"reading").then(S=>g.reading=S),i(t.id,"sleep").then(S=>g.sleep=S));const I=S=>{const x=n.filter(w=>w.type===S).filter(w=>{var j;return(j=w.value)==null?void 0:j.completed}).length;return p>0?Math.round(x/Math.max(p,1)*100):0};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-stretch",children:[l.jsxs("div",{className:"flex-1 bg-gradient-to-br from-dark-800 to-dark-900 rounded-2xl p-8 border border-white/5 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:l.jsx(up,{className:"h-32 w-32 text-white"})}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Comando Central"}),l.jsx("p",{className:"text-zinc-400 mb-6 max-w-lg",children:e?`Dia ${Math.ceil((Date.now()-new Date(e.startDate).getTime())/(1e3*60*60*24))} do Protocolo de 90 Dias`:"Sua jornada de auto-domnio comea agora."}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs(xl,{to:"/app/disciplina",className:"bg-cobalt-600 hover:bg-cobalt-500 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 transition-all shadow-lg shadow-cobalt-500/20 hover:shadow-cobalt-500/40 hover:-translate-y-0.5",children:[l.jsx(Sv,{className:"h-5 w-5 fill-current"}),l.jsx("span",{children:"Iniciar Protocolo Dirio"})]}),l.jsxs(xl,{to:"/app/content",className:"px-6 py-3 rounded-lg font-medium text-zinc-300 hover:text-white hover:bg-white/5 transition-colors flex items-center space-x-2",children:[l.jsx("span",{children:"Ver Currculo"}),l.jsx(dT,{className:"h-4 w-4"})]})]})]})]}),l.jsx("div",{className:"md:w-1/3",children:l.jsx(nL,{})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-dark-850 p-6 rounded-2xl border border-white/10 hover:border-cobalt-500/30 transition-all group",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-2 bg-cobalt-500/10 rounded-lg group-hover:bg-cobalt-500/20 transition-colors",children:l.jsx(wt,{className:"h-6 w-6 text-cobalt-400"})}),l.jsx("span",{className:"text-xs text-zinc-500 uppercase font-medium tracking-wider",children:"Hoje"})]}),l.jsxs("div",{className:"text-3xl font-light text-white mb-1",children:[p>0?Math.round(m/p*100):0,"%"]}),l.jsx("p",{className:"text-sm text-zinc-400 mb-3",children:"Concluso de tarefas"}),l.jsx("div",{className:"bg-dark-900 rounded-full h-1.5 overflow-hidden",children:l.jsx("div",{className:"bg-cobalt-500 h-full rounded-full transition-all duration-500",style:{width:`${p>0?m/p*100:0}%`}})})]}),l.jsx(rL,{days:Math.max(g.workout,g.reading,g.sleep),type:"general"}),l.jsxs("div",{className:"bg-dark-850 p-6 rounded-2xl border border-white/10 hover:border-gold-500/30 transition-all group",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-2 bg-gold-500/10 rounded-lg group-hover:bg-gold-500/20 transition-colors",children:l.jsx(up,{className:"h-6 w-6 text-gold-400"})}),l.jsx("span",{className:"text-xs text-zinc-500 uppercase font-medium tracking-wider",children:"Plano"})]}),l.jsxs("div",{className:"text-3xl font-light text-white mb-1",children:[(e==null?void 0:e.progress)||0,"%"]}),l.jsx("p",{className:"text-sm text-zinc-400 mb-3",children:"Evoluo 90 dias"}),l.jsx("div",{className:"bg-dark-900 rounded-full h-1.5 overflow-hidden",children:l.jsx("div",{className:"bg-gold-500 h-full rounded-full transition-all duration-500",style:{width:`${(e==null?void 0:e.progress)||0}%`}})})]}),l.jsxs("div",{className:"bg-dark-850 p-6 rounded-2xl border border-white/10 hover:border-purple-500/30 transition-all group",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg group-hover:bg-purple-500/20 transition-colors",children:l.jsx(ic,{className:"h-6 w-6 text-purple-400"})}),l.jsx("span",{className:"text-xs text-zinc-500 uppercase font-medium tracking-wider",children:"Tribo"})]}),l.jsx("div",{className:"text-3xl font-light text-white mb-1",children:"1,247"}),l.jsx("p",{className:"text-sm text-zinc-400 mb-3",children:"Membros ativos"}),l.jsxs("div",{className:"flex -space-x-2",children:[[1,2,3,4].map(S=>l.jsx("div",{className:"w-6 h-6 rounded-full bg-dark-700 border border-dark-850 flex items-center justify-center text-[10px] text-zinc-400",children:String.fromCharCode(64+S)},S)),l.jsx("div",{className:"w-6 h-6 rounded-full bg-dark-800 border border-dark-850 flex items-center justify-center text-[10px] text-zinc-500",children:"+"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-light text-white tracking-tight",children:"Protocolo de Hoje"}),l.jsxs("div",{className:"text-sm text-zinc-500",children:[ye(a,"dd 'de' MMMM",{locale:void 0})," "]})]}),l.jsxs("div",{className:"space-y-3",children:[(C=e==null?void 0:e.dailyTasks)==null?void 0:C.filter(S=>S.date===ye(a,"yyyy-MM-dd")).map(S=>l.jsxs("div",{className:"group flex items-center p-4 bg-dark-850 border border-white/5 rounded-xl hover:border-cobalt-500/30 transition-all hover:bg-dark-800",children:[l.jsx("button",{className:`flex-shrink-0 w-6 h-6 rounded-full border-2 mr-4 flex items-center justify-center transition-colors ${S.completed?"bg-cobalt-500 border-cobalt-500":"border-zinc-600 group-hover:border-cobalt-400"}`,children:S.completed&&l.jsx(wt,{className:"h-4 w-4 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:`font-medium transition-colors ${S.completed?"text-zinc-500 line-through":"text-white group-hover:text-cobalt-100"}`,children:S.title}),l.jsx("p",{className:"text-sm text-zinc-500",children:S.description})]}),l.jsxs("div",{className:"flex items-center text-zinc-500 text-sm bg-dark-900 px-3 py-1 rounded-lg",children:[l.jsx(Tv,{className:"h-3 w-3 mr-2"}),S.duration,"min"]})]},S.id)),(!(e!=null&&e.dailyTasks)||e.dailyTasks.filter(S=>S.date===ye(a,"yyyy-MM-dd")).length===0)&&l.jsxs("div",{className:"text-center py-12 bg-dark-850 rounded-xl border border-white/5 border-dashed",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-dark-800 mb-4",children:l.jsx(wt,{className:"h-6 w-6 text-zinc-600"})}),l.jsx("p",{className:"text-zinc-400",children:"Nenhuma tarefa agendada para hoje."}),l.jsx("button",{className:"mt-4 text-cobalt-400 hover:text-cobalt-300 text-sm font-medium",children:"Adicionar tarefa manual"})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-dark-850 rounded-2xl p-6 border border-white/10",children:[l.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Consistncia Semanal"}),l.jsx("div",{className:"space-y-4",children:d.map(S=>{const k=n.filter(O=>O.date===ye(S,"yyyy-MM-dd")),x=k.filter(O=>{var b;return(b=O.value)==null?void 0:b.completed}).length,w=k.length,j=w>0?x/w*100:0,P=tL(S);return l.jsxs("div",{className:"flex items-center justify-between group",children:[l.jsx("span",{className:`text-sm w-8 ${P?"text-cobalt-400 font-bold":"text-zinc-500"}`,children:ye(S,"EEE")}),l.jsx("div",{className:"flex-1 mx-4 bg-dark-900 h-2 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${j===100?"bg-green-500":"bg-cobalt-500"}`,style:{width:`${j}%`}})}),l.jsxs("span",{className:"text-xs text-zinc-500 w-8 text-right",children:[Math.round(j),"%"]})]},S.toISOString())})})]}),l.jsxs("div",{className:"bg-gradient-to-br from-gold-900/20 to-dark-850 rounded-2xl p-6 border border-gold-500/10",children:[l.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Nvel de Disciplina"}),l.jsxs("div",{className:"flex items-end space-x-2 mb-4",children:[l.jsx("span",{className:"text-4xl font-bold text-gold-400",children:"Elite"}),l.jsx("span",{className:"text-sm text-gold-500/60 mb-1",children:"Top 5%"})]}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Sua consistncia nos ltimos 7 dias est acima da mdia da comunidade. Mantenha o foco."})]})]})]}),l.jsxs("div",{className:"bg-dark-850 p-6 border border-white/10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-light text-white tracking-tight",children:"Progresso por pilares"}),l.jsx(L5,{className:"h-5 w-5 text-neutral-500"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["workout","reading","sleep"].map(S=>{const k=I(S),x={workout:"Treino",reading:"Leitura",sleep:"Sono"};return l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"text-3xl font-light text-white",children:[k,"%"]}),l.jsx("div",{className:"text-sm text-neutral-400 font-light tracking-wide uppercase",children:x[S]})]}),l.jsx("div",{className:"bg-white/5 h-1",children:l.jsx("div",{className:"bg-gradient-to-r from-cobalt-500 to-gold-400 h-1 transition-all duration-300",style:{width:`${k}%`}})})]},S)})})]})]})}var Nc=t=>t.type==="checkbox",ji=t=>t instanceof Date,mn=t=>t==null;const ET=t=>typeof t=="object";var Et=t=>!mn(t)&&!Array.isArray(t)&&ET(t)&&!ji(t),iL=t=>Et(t)&&t.target?Nc(t.target)?t.target.checked:t.target.value:t,aL=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,oL=(t,e)=>t.has(aL(e)),lL=t=>{const e=t.constructor&&t.constructor.prototype;return Et(e)&&e.hasOwnProperty("isPrototypeOf")},Iv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function At(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Iv&&(t instanceof Blob||r))&&(n||Et(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!lL(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=At(t[s]));else return t;return e}var Mh=t=>/^\w*$/.test(t),ft=t=>t===void 0,Cv=t=>Array.isArray(t)?t.filter(Boolean):[],Av=t=>Cv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),oe=(t,e,n)=>{if(!e||!Et(t))return n;const r=(Mh(e)?[e]:Av(e)).reduce((s,i)=>mn(s)?s:s[i],t);return ft(r)||r===t?ft(t[e])?n:t[e]:r},xr=t=>typeof t=="boolean",Ge=(t,e,n)=>{let r=-1;const s=Mh(e)?[e]:Av(e),i=s.length,a=i-1;for(;++r<i;){const o=s[r];let c=n;if(r!==a){const d=t[o];c=Et(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const _w={BLUR:"blur",FOCUS_OUT:"focusout"},rr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ur={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},cL=$.createContext(null);cL.displayName="HookFormContext";var uL=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==rr.all&&(e._proxyFormState[a]=!r||rr.all),t[a]}});return s};const dL=typeof window<"u"?$.useLayoutEffect:$.useEffect;var Sn=t=>typeof t=="string",hL=(t,e,n,r,s)=>Sn(t)?(r&&e.watch.add(t),oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),oe(n,i))):(r&&(e.watchAll=!0),n),mp=t=>mn(t)||!ET(t);function Rs(t,e,n=new WeakSet){if(mp(t)||mp(e))return Object.is(t,e);if(ji(t)&&ji(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=e[i];if(ji(a)&&ji(o)||Et(a)&&Et(o)||Array.isArray(a)&&Array.isArray(o)?!Rs(a,o,n):!Object.is(a,o))return!1}}return!0}var kT=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Sl=t=>Array.isArray(t)?t:[t],bw=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function TT(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r],i=e[r];if(s&&Et(s)&&i){const a=TT(s,i);Et(a)&&(n[r]=a)}else t[r]&&(n[r]=i)}return n}var rn=t=>Et(t)&&!Object.keys(t).length,Rv=t=>t.type==="file",sr=t=>typeof t=="function",zd=t=>{if(!Iv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ST=t=>t.type==="select-multiple",Pv=t=>t.type==="radio",fL=t=>Pv(t)||Nc(t),Uf=t=>zd(t)&&t.isConnected;function mL(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ft(t)?r++:t[e[r++]];return t}function pL(t){for(const e in t)if(t.hasOwnProperty(e)&&!ft(t[e]))return!1;return!0}function vt(t,e){const n=Array.isArray(e)?e:Mh(e)?[e]:Av(e),r=n.length===1?t:mL(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Et(r)&&rn(r)||Array.isArray(r)&&pL(r))&&vt(t,n.slice(0,-1)),t}var gL=t=>{for(const e in t)if(sr(t[e]))return!0;return!1};function NT(t){return Array.isArray(t)||Et(t)&&!gL(t)}function pp(t,e={}){for(const n in t){const r=t[n];NT(r)?(e[n]=Array.isArray(r)?[]:{},pp(r,e[n])):ft(r)||(e[n]=!0)}return e}function ya(t,e,n){n||(n=pp(e));for(const r in t){const s=t[r];if(NT(s))ft(e)||mp(n[r])?n[r]=pp(s,Array.isArray(s)?[]:{}):ya(s,mn(e)?{}:e[r],n[r]);else{const i=e[r];n[r]=!Rs(s,i)}}return n}const Ew={value:!1,isValid:!1},kw={value:!0,isValid:!0};var IT=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ft(t[0].attributes.value)?ft(t[0].value)||t[0].value===""?kw:{value:t[0].value,isValid:!0}:kw:Ew}return Ew},CT=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ft(t)?t:e?t===""?NaN:t&&+t:n&&Sn(t)?new Date(t):r?r(t):t;const Tw={isValid:!1,value:null};var AT=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Tw):Tw;function Sw(t){const e=t.ref;return Rv(e)?e.files:Pv(e)?AT(t.refs).value:ST(e)?[...e.selectedOptions].map(({value:n})=>n):Nc(e)?IT(t.refs).value:CT(ft(e.value)?t.ref.value:e.value,t)}var vL=(t,e,n,r)=>{const s={};for(const i of t){const a=oe(e,i);a&&Ge(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},$d=t=>t instanceof RegExp,Ko=t=>ft(t)?t:$d(t)?t.source:Et(t)?$d(t.value)?t.value.source:t.value:t,Nw=t=>({isOnSubmit:!t||t===rr.onSubmit,isOnBlur:t===rr.onBlur,isOnChange:t===rr.onChange,isOnAll:t===rr.all,isOnTouch:t===rr.onTouched});const Iw="AsyncFunction";var yL=t=>!!t&&!!t.validate&&!!(sr(t.validate)&&t.validate.constructor.name===Iw||Et(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Iw)),xL=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Cw=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Nl=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=oe(t,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Nl(o,e))break}else if(Et(o)&&Nl(o,e))break}}};function Aw(t,e,n){const r=oe(t,n);if(r||Mh(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=oe(e,i),o=oe(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:n}}var wL=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return rn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||rr.all))},_L=(t,e,n)=>!t||!e||t===e||Sl(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),bL=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,EL=(t,e)=>!Cv(oe(t,e)).length&&vt(t,e),kL=(t,e,n)=>{const r=Sl(oe(t,n));return Ge(r,"root",e[n]),Ge(t,n,r),t};function Rw(t,e,n="validate"){if(Sn(t)||Array.isArray(t)&&t.every(Sn)||xr(t)&&!t)return{type:n,message:Sn(t)?t:"",ref:e}}var ma=t=>Et(t)&&!$d(t)?t:{value:t,message:""},Pw=async(t,e,n,r,s,i)=>{const{ref:a,refs:o,required:c,maxLength:d,minLength:h,min:m,max:p,pattern:g,validate:I,name:C,valueAsNumber:S,mount:k}=t._f,x=oe(n,C);if(!k||e.has(C))return{};const w=o?o[0]:a,j=R=>{s&&w.reportValidity&&(w.setCustomValidity(xr(R)?"":R||""),w.reportValidity())},P={},O=Pv(a),b=Nc(a),y=O||b,E=(S||Rv(a))&&ft(a.value)&&ft(x)||zd(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,T=kT.bind(null,C,r,P),A=(R,N,ie,te=Ur.maxLength,fe=Ur.minLength)=>{const q=R?N:ie;P[C]={type:R?te:fe,message:q,ref:a,...T(R?te:fe,q)}};if(i?!Array.isArray(x)||!x.length:c&&(!y&&(E||mn(x))||xr(x)&&!x||b&&!IT(o).isValid||O&&!AT(o).isValid)){const{value:R,message:N}=Sn(c)?{value:!!c,message:c}:ma(c);if(R&&(P[C]={type:Ur.required,message:N,ref:w,...T(Ur.required,N)},!r))return j(N),P}if(!E&&(!mn(m)||!mn(p))){let R,N;const ie=ma(p),te=ma(m);if(!mn(x)&&!isNaN(x)){const fe=a.valueAsNumber||x&&+x;mn(ie.value)||(R=fe>ie.value),mn(te.value)||(N=fe<te.value)}else{const fe=a.valueAsDate||new Date(x),q=Y=>new Date(new Date().toDateString()+" "+Y),W=a.type=="time",L=a.type=="week";Sn(ie.value)&&x&&(R=W?q(x)>q(ie.value):L?x>ie.value:fe>new Date(ie.value)),Sn(te.value)&&x&&(N=W?q(x)<q(te.value):L?x<te.value:fe<new Date(te.value))}if((R||N)&&(A(!!R,ie.message,te.message,Ur.max,Ur.min),!r))return j(P[C].message),P}if((d||h)&&!E&&(Sn(x)||i&&Array.isArray(x))){const R=ma(d),N=ma(h),ie=!mn(R.value)&&x.length>+R.value,te=!mn(N.value)&&x.length<+N.value;if((ie||te)&&(A(ie,R.message,N.message),!r))return j(P[C].message),P}if(g&&!E&&Sn(x)){const{value:R,message:N}=ma(g);if($d(R)&&!x.match(R)&&(P[C]={type:Ur.pattern,message:N,ref:a,...T(Ur.pattern,N)},!r))return j(N),P}if(I){if(sr(I)){const R=await I(x,n),N=Rw(R,w);if(N&&(P[C]={...N,...T(Ur.validate,N.message)},!r))return j(N.message),P}else if(Et(I)){let R={};for(const N in I){if(!rn(R)&&!r)break;const ie=Rw(await I[N](x,n),w,N);ie&&(R={...ie,...T(N,ie.message)},j(ie.message),r&&(P[C]=R))}if(!rn(R)&&(P[C]={ref:w,...R},!r))return P}}return j(!0),P};const TL={mode:rr.onSubmit,reValidateMode:rr.onChange,shouldFocusError:!0};function SL(t={}){let e={...TL,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:sr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Et(e.defaultValues)||Et(e.values)?At(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:At(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...h};const p={array:bw(),state:bw()},g=e.criteriaMode===rr.all,I=D=>V=>{clearTimeout(d),d=setTimeout(D,V)},C=async D=>{if(!e.disabled&&(h.isValid||m.isValid||D)){const V=e.resolver?rn((await b()).errors):await E(r,!0);V!==n.isValid&&p.state.next({isValid:V})}},S=(D,V)=>{!e.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&((D||Array.from(o.mount)).forEach(z=>{z&&(V?Ge(n.validatingFields,z,V):vt(n.validatingFields,z))}),p.state.next({validatingFields:n.validatingFields,isValidating:!rn(n.validatingFields)}))},k=(D,V=[],z,J,X=!0,K=!0)=>{if(J&&z&&!e.disabled){if(a.action=!0,K&&Array.isArray(oe(r,D))){const Z=z(oe(r,D),J.argA,J.argB);X&&Ge(r,D,Z)}if(K&&Array.isArray(oe(n.errors,D))){const Z=z(oe(n.errors,D),J.argA,J.argB);X&&Ge(n.errors,D,Z),EL(n.errors,D)}if((h.touchedFields||m.touchedFields)&&K&&Array.isArray(oe(n.touchedFields,D))){const Z=z(oe(n.touchedFields,D),J.argA,J.argB);X&&Ge(n.touchedFields,D,Z)}(h.dirtyFields||m.dirtyFields)&&(n.dirtyFields=ya(s,i)),p.state.next({name:D,isDirty:A(D,V),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ge(i,D,V)},x=(D,V)=>{Ge(n.errors,D,V),p.state.next({errors:n.errors})},w=D=>{n.errors=D,p.state.next({errors:n.errors,isValid:!1})},j=(D,V,z,J)=>{const X=oe(r,D);if(X){const K=oe(i,D,ft(z)?oe(s,D):z);ft(K)||J&&J.defaultChecked||V?Ge(i,D,V?K:Sw(X._f)):ie(D,K),a.mount&&!a.action&&C()}},P=(D,V,z,J,X)=>{let K=!1,Z=!1;const pe={name:D};if(!e.disabled){if(!z||J){(h.isDirty||m.isDirty)&&(Z=n.isDirty,n.isDirty=pe.isDirty=A(),K=Z!==pe.isDirty);const Oe=Rs(oe(s,D),V);Z=!!oe(n.dirtyFields,D),Oe?vt(n.dirtyFields,D):Ge(n.dirtyFields,D,!0),pe.dirtyFields=n.dirtyFields,K=K||(h.dirtyFields||m.dirtyFields)&&Z!==!Oe}if(z){const Oe=oe(n.touchedFields,D);Oe||(Ge(n.touchedFields,D,z),pe.touchedFields=n.touchedFields,K=K||(h.touchedFields||m.touchedFields)&&Oe!==z)}K&&X&&p.state.next(pe)}return K?pe:{}},O=(D,V,z,J)=>{const X=oe(n.errors,D),K=(h.isValid||m.isValid)&&xr(V)&&n.isValid!==V;if(e.delayError&&z?(c=I(()=>x(D,z)),c(e.delayError)):(clearTimeout(d),c=null,z?Ge(n.errors,D,z):vt(n.errors,D)),(z?!Rs(X,z):X)||!rn(J)||K){const Z={...J,...K&&xr(V)?{isValid:V}:{},errors:n.errors,name:D};n={...n,...Z},p.state.next(Z)}},b=async D=>{S(D,!0);const V=await e.resolver(i,e.context,vL(D||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S(D),V},y=async D=>{const{errors:V}=await b(D);if(D)for(const z of D){const J=oe(V,z);J?Ge(n.errors,z,J):vt(n.errors,z)}else n.errors=V;return V},E=async(D,V,z={valid:!0})=>{for(const J in D){const X=D[J];if(X){const{_f:K,...Z}=X;if(K){const pe=o.array.has(K.name),Oe=X._f&&yL(X._f);Oe&&h.validatingFields&&S([K.name],!0);const Dt=await Pw(X,o.disabled,i,g,e.shouldUseNativeValidation&&!V,pe);if(Oe&&h.validatingFields&&S([K.name]),Dt[K.name]&&(z.valid=!1,V))break;!V&&(oe(Dt,K.name)?pe?kL(n.errors,Dt,K.name):Ge(n.errors,K.name,Dt[K.name]):vt(n.errors,K.name))}!rn(Z)&&await E(Z,V,z)}}return z.valid},T=()=>{for(const D of o.unMount){const V=oe(r,D);V&&(V._f.refs?V._f.refs.every(z=>!Uf(z)):!Uf(V._f.ref))&&Ie(D)}o.unMount=new Set},A=(D,V)=>!e.disabled&&(D&&V&&Ge(i,D,V),!Rs(Y(),s)),R=(D,V,z)=>hL(D,o,{...a.mount?i:ft(V)?s:Sn(D)?{[D]:V}:V},z,V),N=D=>Cv(oe(a.mount?i:s,D,e.shouldUnregister?oe(s,D,[]):[])),ie=(D,V,z={})=>{const J=oe(r,D);let X=V;if(J){const K=J._f;K&&(!K.disabled&&Ge(i,D,CT(V,K)),X=zd(K.ref)&&mn(V)?"":V,ST(K.ref)?[...K.ref.options].forEach(Z=>Z.selected=X.includes(Z.value)):K.refs?Nc(K.ref)?K.refs.forEach(Z=>{(!Z.defaultChecked||!Z.disabled)&&(Array.isArray(X)?Z.checked=!!X.find(pe=>pe===Z.value):Z.checked=X===Z.value||!!X)}):K.refs.forEach(Z=>Z.checked=Z.value===X):Rv(K.ref)?K.ref.value="":(K.ref.value=X,K.ref.type||p.state.next({name:D,values:At(i)})))}(z.shouldDirty||z.shouldTouch)&&P(D,X,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&L(D)},te=(D,V,z)=>{for(const J in V){if(!V.hasOwnProperty(J))return;const X=V[J],K=D+"."+J,Z=oe(r,K);(o.array.has(D)||Et(X)||Z&&!Z._f)&&!ji(X)?te(K,X,z):ie(K,X,z)}},fe=(D,V,z={})=>{const J=oe(r,D),X=o.array.has(D),K=At(V);Ge(i,D,K),X?(p.array.next({name:D,values:At(i)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&z.shouldDirty&&p.state.next({name:D,dirtyFields:ya(s,i),isDirty:A(D,K)})):J&&!J._f&&!mn(K)?te(D,K,z):ie(D,K,z),Cw(D,o)&&p.state.next({...n,name:D}),p.state.next({name:a.mount?D:void 0,values:At(i)})},q=async D=>{a.mount=!0;const V=D.target;let z=V.name,J=!0;const X=oe(r,z),K=Oe=>{J=Number.isNaN(Oe)||ji(Oe)&&isNaN(Oe.getTime())||Rs(Oe,oe(i,z,Oe))},Z=Nw(e.mode),pe=Nw(e.reValidateMode);if(X){let Oe,Dt;const Mn=V.type?Sw(X._f):iL(D),Vn=D.type===_w.BLUR||D.type===_w.FOCUS_OUT,mr=!xL(X._f)&&!e.resolver&&!oe(n.errors,z)&&!X._f.deps||bL(Vn,oe(n.touchedFields,z),n.isSubmitted,pe,Z),pr=Cw(z,o,Vn);Ge(i,z,Mn),Vn?(!V||!V.readOnly)&&(X._f.onBlur&&X._f.onBlur(D),c&&c(0)):X._f.onChange&&X._f.onChange(D);const bn=P(z,Mn,Vn),fs=!rn(bn)||pr;if(!Vn&&p.state.next({name:z,type:D.type,values:At(i)}),mr)return(h.isValid||m.isValid)&&(e.mode==="onBlur"?Vn&&C():Vn||C()),fs&&p.state.next({name:z,...pr?{}:bn});if(!Vn&&pr&&p.state.next({...n}),e.resolver){const{errors:Qn}=await b([z]);if(K(Mn),J){const No=Aw(n.errors,r,z),ms=Aw(Qn,r,No.name||z);Oe=ms.error,z=ms.name,Dt=rn(Qn)}}else S([z],!0),Oe=(await Pw(X,o.disabled,i,g,e.shouldUseNativeValidation))[z],S([z]),K(Mn),J&&(Oe?Dt=!1:(h.isValid||m.isValid)&&(Dt=await E(r,!0)));J&&(X._f.deps&&(!Array.isArray(X._f.deps)||X._f.deps.length>0)&&L(X._f.deps),O(z,Dt,Oe,bn))}},W=(D,V)=>{if(oe(n.errors,V)&&D.focus)return D.focus(),1},L=async(D,V={})=>{let z,J;const X=Sl(D);if(e.resolver){const K=await y(ft(D)?D:X);z=rn(K),J=D?!X.some(Z=>oe(K,Z)):z}else D?(J=(await Promise.all(X.map(async K=>{const Z=oe(r,K);return await E(Z&&Z._f?{[K]:Z}:Z)}))).every(Boolean),!(!J&&!n.isValid)&&C()):J=z=await E(r);return p.state.next({...!Sn(D)||(h.isValid||m.isValid)&&z!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:z}:{},errors:n.errors}),V.shouldFocus&&!J&&Nl(r,W,D?X:o.mount),J},Y=(D,V)=>{let z={...a.mount?i:s};return V&&(z=TT(V.dirtyFields?n.dirtyFields:n.touchedFields,z)),ft(D)?z:Sn(D)?oe(z,D):D.map(J=>oe(z,J))},le=(D,V)=>({invalid:!!oe((V||n).errors,D),isDirty:!!oe((V||n).dirtyFields,D),error:oe((V||n).errors,D),isValidating:!!oe(n.validatingFields,D),isTouched:!!oe((V||n).touchedFields,D)}),se=D=>{D&&Sl(D).forEach(V=>vt(n.errors,V)),p.state.next({errors:D?n.errors:{}})},he=(D,V,z)=>{const J=(oe(r,D,{_f:{}})._f||{}).ref,X=oe(n.errors,D)||{},{ref:K,message:Z,type:pe,...Oe}=X;Ge(n.errors,D,{...Oe,...V,ref:J}),p.state.next({name:D,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&J&&J.focus&&J.focus()},Te=(D,V)=>sr(D)?p.state.subscribe({next:z=>"values"in z&&D(R(void 0,V),z)}):R(D,V,!0),De=D=>p.state.subscribe({next:V=>{_L(D.name,V.name,D.exact)&&wL(V,D.formState||h,So,D.reRenderRoot)&&D.callback({values:{...i},...n,...V,defaultValues:s})}}).unsubscribe,Ct=D=>(a.mount=!0,m={...m,...D.formState},De({...D,formState:m})),Ie=(D,V={})=>{for(const z of D?Sl(D):o.mount)o.mount.delete(z),o.array.delete(z),V.keepValue||(vt(r,z),vt(i,z)),!V.keepError&&vt(n.errors,z),!V.keepDirty&&vt(n.dirtyFields,z),!V.keepTouched&&vt(n.touchedFields,z),!V.keepIsValidating&&vt(n.validatingFields,z),!e.shouldUnregister&&!V.keepDefaultValue&&vt(s,z);p.state.next({values:At(i)}),p.state.next({...n,...V.keepDirty?{isDirty:A()}:{}}),!V.keepIsValid&&C()},cs=({disabled:D,name:V})=>{(xr(D)&&a.mount||D||o.disabled.has(V))&&(D?o.disabled.add(V):o.disabled.delete(V))},Kn=(D,V={})=>{let z=oe(r,D);const J=xr(V.disabled)||xr(e.disabled);return Ge(r,D,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:D}},name:D,mount:!0,...V}}),o.mount.add(D),z?cs({disabled:xr(V.disabled)?V.disabled:e.disabled,name:D}):j(D,!0,V.value),{...J?{disabled:V.disabled||e.disabled}:{},...e.progressive?{required:!!V.required,min:Ko(V.min),max:Ko(V.max),minLength:Ko(V.minLength),maxLength:Ko(V.maxLength),pattern:Ko(V.pattern)}:{},name:D,onChange:q,onBlur:q,ref:X=>{if(X){Kn(D,V),z=oe(r,D);const K=ft(X.value)&&X.querySelectorAll&&X.querySelectorAll("input,select,textarea")[0]||X,Z=fL(K),pe=z._f.refs||[];if(Z?pe.find(Oe=>Oe===K):K===z._f.ref)return;Ge(r,D,{_f:{...z._f,...Z?{refs:[...pe.filter(Uf),K,...Array.isArray(oe(s,D))?[{}]:[]],ref:{type:K.type,name:D}}:{ref:K}}}),j(D,!1,void 0,K)}else z=oe(r,D,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||V.shouldUnregister)&&!(oL(o.array,D)&&a.action)&&o.unMount.add(D)}}},_n=()=>e.shouldFocusError&&Nl(r,W,o.mount),On=D=>{xr(D)&&(p.state.next({disabled:D}),Nl(r,(V,z)=>{const J=oe(r,z);J&&(V.disabled=J._f.disabled||D,Array.isArray(J._f.refs)&&J._f.refs.forEach(X=>{X.disabled=J._f.disabled||D}))},0,!1))},fr=(D,V)=>async z=>{let J;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let X=At(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:K,values:Z}=await b();n.errors=K,X=At(Z)}else await E(r);if(o.disabled.size)for(const K of o.disabled)vt(X,K);if(vt(n.errors,"root"),rn(n.errors)){p.state.next({errors:{}});try{await D(X,z)}catch(K){J=K}}else V&&await V({...n.errors},z),_n(),setTimeout(_n);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:rn(n.errors)&&!J,submitCount:n.submitCount+1,errors:n.errors}),J)throw J},us=(D,V={})=>{oe(r,D)&&(ft(V.defaultValue)?fe(D,At(oe(s,D))):(fe(D,V.defaultValue),Ge(s,D,At(V.defaultValue))),V.keepTouched||vt(n.touchedFields,D),V.keepDirty||(vt(n.dirtyFields,D),n.isDirty=V.defaultValue?A(D,At(oe(s,D))):A()),V.keepError||(vt(n.errors,D),h.isValid&&C()),p.state.next({...n}))},ds=(D,V={})=>{const z=D?At(D):s,J=At(z),X=rn(D),K=X?s:J;if(V.keepDefaultValues||(s=z),!V.keepValues){if(V.keepDirtyValues){const Z=new Set([...o.mount,...Object.keys(ya(s,i))]);for(const pe of Array.from(Z))oe(n.dirtyFields,pe)?Ge(K,pe,oe(i,pe)):fe(pe,oe(K,pe))}else{if(Iv&&ft(D))for(const Z of o.mount){const pe=oe(r,Z);if(pe&&pe._f){const Oe=Array.isArray(pe._f.refs)?pe._f.refs[0]:pe._f.ref;if(zd(Oe)){const Dt=Oe.closest("form");if(Dt){Dt.reset();break}}}}if(V.keepFieldsRef)for(const Z of o.mount)fe(Z,oe(K,Z));else r={}}i=e.shouldUnregister?V.keepDefaultValues?At(s):{}:At(K),p.array.next({values:{...K}}),p.state.next({values:{...K}})}o={mount:V.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!V.keepIsValid||!!V.keepDirtyValues||!e.shouldUnregister&&!rn(K),a.watch=!!e.shouldUnregister,p.state.next({submitCount:V.keepSubmitCount?n.submitCount:0,isDirty:X?!1:V.keepDirty?n.isDirty:!!(V.keepDefaultValues&&!Rs(D,s)),isSubmitted:V.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:X?{}:V.keepDirtyValues?V.keepDefaultValues&&i?ya(s,i):n.dirtyFields:V.keepDefaultValues&&D?ya(s,D):V.keepDirty?n.dirtyFields:{},touchedFields:V.keepTouched?n.touchedFields:{},errors:V.keepErrors?n.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},hs=(D,V)=>ds(sr(D)?D(i):D,V),yi=(D,V={})=>{const z=oe(r,D),J=z&&z._f;if(J){const X=J.refs?J.refs[0]:J.ref;X.focus&&(X.focus(),V.shouldSelect&&sr(X.select)&&X.select())}},So=D=>{n={...n,...D}},xi={control:{register:Kn,unregister:Ie,getFieldState:le,handleSubmit:fr,setError:he,_subscribe:De,_runSchema:b,_focusError:_n,_getWatch:R,_getDirty:A,_setValid:C,_setFieldArray:k,_setDisabledField:cs,_setErrors:w,_getFieldArray:N,_reset:ds,_resetDefaultValues:()=>sr(e.defaultValues)&&e.defaultValues().then(D=>{hs(D,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:On,_subjects:p,_proxyFormState:h,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(D){a=D},get _defaultValues(){return s},get _names(){return o},set _names(D){o=D},get _formState(){return n},get _options(){return e},set _options(D){e={...e,...D}}},subscribe:Ct,trigger:L,register:Kn,handleSubmit:fr,watch:Te,setValue:fe,getValues:Y,reset:hs,resetField:us,clearErrors:se,unregister:Ie,setError:he,setFocus:yi,getFieldState:le};return{...xi,formControl:xi}}function Qo(t={}){const e=$.useRef(void 0),n=$.useRef(void 0),[r,s]=$.useState({isDirty:!1,isValidating:!1,isLoading:sr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:sr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!sr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=SL(t);e.current={...o,formState:r}}const i=e.current.control;return i._options=t,dL(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),$.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),$.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),$.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),$.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),$.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),$.useEffect(()=>{var a;t.values&&!Rs(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),$.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=uL(r,i),e.current}const jw=(t,e,n)=>{if(t&&"reportValidity"in t){const r=oe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},RT=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?jw(r.ref,n,t):r.refs&&r.refs.forEach(s=>jw(s,n,t))}},NL=(t,e)=>{e.shouldUseNativeValidation&&RT(t,e);const n={};for(const r in t){const s=oe(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(IL(e.names||Object.keys(t),r)){const a=Object.assign({},oe(n,r));Ge(a,"root",i),Ge(n,r,a)}else Ge(n,r,i)}return n},IL=(t,e)=>t.some(n=>n.startsWith(e+"."));var CL=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(m){return t.push(m)})}),e){var c=n[a].types,d=c&&c[r.code];n[a]=kT(a,e,n,s,d?[].concat(d,r.message):r.message)}t.shift()}return n},Yo=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,o){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return i.shouldUseNativeValidation&&RT({},i),{errors:{},values:n.raw?r:d}})}catch(d){return o(d)}return c&&c.then?c.then(void 0,o):c}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:NL(CL(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},ze;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ze||(ze={}));var Dw;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Dw||(Dw={}));const ue=ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Es=t=>{switch(typeof t){case"undefined":return ue.undefined;case"string":return ue.string;case"number":return Number.isNaN(t)?ue.nan:ue.number;case"boolean":return ue.boolean;case"function":return ue.function;case"bigint":return ue.bigint;case"symbol":return ue.symbol;case"object":return Array.isArray(t)?ue.array:t===null?ue.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ue.promise:typeof Map<"u"&&t instanceof Map?ue.map:typeof Set<"u"&&t instanceof Set?ue.set:typeof Date<"u"&&t instanceof Date?ue.date:ue.object;default:return ue.unknown}},Q=ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class is extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,c=0;for(;c<a.path.length;){const d=a.path[c];c===a.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(n(a))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return s(this),r}static assert(e){if(!(e instanceof is))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}is.create=t=>new is(t);const gp=(t,e)=>{let n;switch(t.code){case Q.invalid_type:t.received===ue.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ze.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:n=`Unrecognized key(s) in object: ${ze.joinValues(t.keys,", ")}`;break;case Q.invalid_union:n="Invalid input";break;case Q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ze.joinValues(t.options)}`;break;case Q.invalid_enum_value:n=`Invalid enum value. Expected ${ze.joinValues(t.options)}, received '${t.received}'`;break;case Q.invalid_arguments:n="Invalid function arguments";break;case Q.invalid_return_type:n="Invalid function return type";break;case Q.invalid_date:n="Invalid date";break;case Q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ze.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Q.custom:n="Invalid input";break;case Q.invalid_intersection_types:n="Intersection results could not be merged";break;case Q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Q.not_finite:n="Number must be finite";break;default:n=e.defaultError,ze.assertNever(t)}return{message:n}};let AL=gp;function RL(){return AL}const PL=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)o=d(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}};function ne(t,e){const n=RL(),r=PL({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===gp?void 0:gp].filter(s=>!!s)});t.common.issues.push(r)}class Pn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return be;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return Pn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return be;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const be=Object.freeze({status:"aborted"}),cl=t=>({status:"dirty",value:t}),Gn=t=>({status:"valid",value:t}),Ow=t=>t.status==="aborted",Mw=t=>t.status==="dirty",lo=t=>t.status==="valid",Bd=t=>typeof Promise<"u"&&t instanceof Promise;var de;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(de||(de={}));class si{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Vw=(t,e)=>{if(lo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new is(t.common.issues);return this._error=n,this._error}}};function Se(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:c??n??o.defaultError}},description:s}}class Le{get description(){return this._def.description}_getType(e){return Es(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Es(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pn,ctx:{common:e.parent.common,data:e.data,parsedType:Es(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Bd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Es(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Vw(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Es(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return lo(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>lo(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Es(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Bd(s)?s:Promise.resolve(s));return Vw(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:Q.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new ho({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ys.create(this,this._def)}nullable(){return fo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pr.create(this)}promise(){return Gd.create(this,this._def)}or(e){return qd.create([this,e],this._def)}and(e){return Hd.create(this,e,this._def)}transform(e){return new ho({...Se(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new xp({...Se(this._def),innerType:this,defaultValue:n,typeName:Ee.ZodDefault})}brand(){return new t3({typeName:Ee.ZodBranded,type:this,...Se(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new wp({...Se(this._def),innerType:this,catchValue:n,typeName:Ee.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return jv.create(this,e)}readonly(){return _p.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const jL=/^c[^\s-]{8,}$/i,DL=/^[0-9a-z]+$/,OL=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ML=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,VL=/^[a-z0-9_-]{21}$/i,LL=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,UL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,FL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,zL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ff;const $L=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,BL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,WL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,qL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,HL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,GL=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,PT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",KL=new RegExp(`^${PT}$`);function jT(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function QL(t){return new RegExp(`^${jT(t)}$`)}function YL(t){let e=`${PT}T${jT(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function XL(t,e){return!!((e==="v4"||!e)&&$L.test(t)||(e==="v6"||!e)&&WL.test(t))}function ZL(t,e){if(!LL.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function JL(t,e){return!!((e==="v4"||!e)&&BL.test(t)||(e==="v6"||!e)&&qL.test(t))}class Vs extends Le{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ue.string){const i=this._getOrReturnCtx(e);return ne(i,{code:Q.invalid_type,expected:ue.string,received:i.parsedType}),be}const r=new Pn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?ne(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&ne(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")FL.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"email",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Ff||(Ff=new RegExp(zL,"u")),Ff.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"emoji",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")ML.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"uuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")VL.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"nanoid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")jL.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")DL.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cuid2",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")OL.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"ulid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ne(s,{validation:"url",code:Q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"regex",code:Q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?YL(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?KL.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?QL(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?UL.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"duration",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?XL(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"ip",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?ZL(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"jwt",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?JL(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cidr",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?HL.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"base64",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?GL.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"base64url",code:Q.invalid_string,message:i.message}),r.dirty()):ze.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Q.invalid_string,...de.errToObj(r)})}_addCheck(e){return new Vs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...de.errToObj(e)})}url(e){return this._addCheck({kind:"url",...de.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...de.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...de.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...de.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...de.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...de.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...de.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...de.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...de.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...de.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...de.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...de.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...de.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...de.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...de.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...de.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...de.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...de.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...de.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...de.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...de.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...de.errToObj(n)})}nonempty(e){return this.min(1,de.errToObj(e))}trim(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Vs.create=t=>new Vs({checks:[],typeName:Ee.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Se(t)});function e3(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class co extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ue.number){const i=this._getOrReturnCtx(e);return ne(i,{code:Q.invalid_type,expected:ue.number,received:i.parsedType}),be}let r;const s=new Pn;for(const i of this._def.checks)i.kind==="int"?ze.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?e3(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.not_finite,message:i.message}),s.dirty()):ze.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,s){return new co({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(s)}]})}_addCheck(e){return new co({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ze.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}co.create=t=>new co({checks:[],typeName:Ee.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class oc extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ue.bigint)return this._getInvalidInput(e);let r;const s=new Pn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ze.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ne(n,{code:Q.invalid_type,expected:ue.bigint,received:n.parsedType}),be}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,s){return new oc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(s)}]})}_addCheck(e){return new oc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}oc.create=t=>new oc({checks:[],typeName:Ee.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Se(t)});class vp extends Le{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ue.boolean){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ue.boolean,received:r.parsedType}),be}return Gn(e.data)}}vp.create=t=>new vp({typeName:Ee.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Wd extends Le{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ue.date){const i=this._getOrReturnCtx(e);return ne(i,{code:Q.invalid_type,expected:ue.date,received:i.parsedType}),be}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ne(i,{code:Q.invalid_date}),be}const r=new Pn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ze.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Wd({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Wd.create=t=>new Wd({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ee.ZodDate,...Se(t)});class Lw extends Le{_parse(e){if(this._getType(e)!==ue.symbol){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ue.symbol,received:r.parsedType}),be}return Gn(e.data)}}Lw.create=t=>new Lw({typeName:Ee.ZodSymbol,...Se(t)});class Uw extends Le{_parse(e){if(this._getType(e)!==ue.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ue.undefined,received:r.parsedType}),be}return Gn(e.data)}}Uw.create=t=>new Uw({typeName:Ee.ZodUndefined,...Se(t)});class Fw extends Le{_parse(e){if(this._getType(e)!==ue.null){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ue.null,received:r.parsedType}),be}return Gn(e.data)}}Fw.create=t=>new Fw({typeName:Ee.ZodNull,...Se(t)});class zw extends Le{constructor(){super(...arguments),this._any=!0}_parse(e){return Gn(e.data)}}zw.create=t=>new zw({typeName:Ee.ZodAny,...Se(t)});class $w extends Le{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Gn(e.data)}}$w.create=t=>new $w({typeName:Ee.ZodUnknown,...Se(t)});class ii extends Le{_parse(e){const n=this._getOrReturnCtx(e);return ne(n,{code:Q.invalid_type,expected:ue.never,received:n.parsedType}),be}}ii.create=t=>new ii({typeName:Ee.ZodNever,...Se(t)});class Bw extends Le{_parse(e){if(this._getType(e)!==ue.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ue.void,received:r.parsedType}),be}return Gn(e.data)}}Bw.create=t=>new Bw({typeName:Ee.ZodVoid,...Se(t)});class Pr extends Le{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ue.array)return ne(n,{code:Q.invalid_type,expected:ue.array,received:n.parsedType}),be;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(a||o)&&(ne(n,{code:a?Q.too_big:Q.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ne(n,{code:Q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ne(n,{code:Q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>s.type._parseAsync(new si(n,a,n.path,o)))).then(a=>Pn.mergeArray(r,a));const i=[...n.data].map((a,o)=>s.type._parseSync(new si(n,a,n.path,o)));return Pn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Pr({...this._def,minLength:{value:e,message:de.toString(n)}})}max(e,n){return new Pr({...this._def,maxLength:{value:e,message:de.toString(n)}})}length(e,n){return new Pr({...this._def,exactLength:{value:e,message:de.toString(n)}})}nonempty(e){return this.min(1,e)}}Pr.create=(t,e)=>new Pr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...Se(e)});function xa(t){if(t instanceof xt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ys.create(xa(r))}return new xt({...t._def,shape:()=>e})}else return t instanceof Pr?new Pr({...t._def,type:xa(t.element)}):t instanceof Ys?Ys.create(xa(t.unwrap())):t instanceof fo?fo.create(xa(t.unwrap())):t instanceof Yi?Yi.create(t.items.map(e=>xa(e))):t}class xt extends Le{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ze.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ue.object){const d=this._getOrReturnCtx(e);return ne(d,{code:Q.invalid_type,expected:ue.object,received:d.parsedType}),be}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof ii&&this._def.unknownKeys==="strip"))for(const d in s.data)a.includes(d)||o.push(d);const c=[];for(const d of a){const h=i[d],m=s.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new si(s,m,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof ii){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of o)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(d==="strict")o.length>0&&(ne(s,{code:Q.unrecognized_keys,keys:o}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of o){const m=s.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new si(s,m,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const m=await h.key,p=await h.value;d.push({key:m,value:p,alwaysSet:h.alwaysSet})}return d}).then(d=>Pn.mergeObjectSync(r,d)):Pn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new xt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:de.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new xt({...this._def,unknownKeys:"strip"})}passthrough(){return new xt({...this._def,unknownKeys:"passthrough"})}extend(e){return new xt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ee.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new xt({...this._def,catchall:e})}pick(e){const n={};for(const r of ze.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new xt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ze.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new xt({...this._def,shape:()=>n})}deepPartial(){return xa(this)}partial(e){const n={};for(const r of ze.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new xt({...this._def,shape:()=>n})}required(e){const n={};for(const r of ze.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ys;)i=i._def.innerType;n[r]=i}return new xt({...this._def,shape:()=>n})}keyof(){return DT(ze.objectKeys(this.shape))}}xt.create=(t,e)=>new xt({shape:()=>t,unknownKeys:"strip",catchall:ii.create(),typeName:Ee.ZodObject,...Se(e)});xt.strictCreate=(t,e)=>new xt({shape:()=>t,unknownKeys:"strict",catchall:ii.create(),typeName:Ee.ZodObject,...Se(e)});xt.lazycreate=(t,e)=>new xt({shape:t,unknownKeys:"strip",catchall:ii.create(),typeName:Ee.ZodObject,...Se(e)});class qd extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new is(o.ctx.common.issues));return ne(n,{code:Q.invalid_union,unionErrors:a}),be}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(c=>new is(c));return ne(n,{code:Q.invalid_union,unionErrors:o}),be}}get options(){return this._def.options}}qd.create=(t,e)=>new qd({options:t,typeName:Ee.ZodUnion,...Se(e)});function yp(t,e){const n=Es(t),r=Es(e);if(t===e)return{valid:!0,data:t};if(n===ue.object&&r===ue.object){const s=ze.objectKeys(e),i=ze.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const c=yp(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===ue.array&&r===ue.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],c=yp(a,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===ue.date&&r===ue.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Hd extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(Ow(i)||Ow(a))return be;const o=yp(i.value,a.value);return o.valid?((Mw(i)||Mw(a))&&n.dirty(),{status:n.value,value:o.data}):(ne(r,{code:Q.invalid_intersection_types}),be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Hd.create=(t,e,n)=>new Hd({left:t,right:e,typeName:Ee.ZodIntersection,...Se(n)});class Yi extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.array)return ne(r,{code:Q.invalid_type,expected:ue.array,received:r.parsedType}),be;if(r.data.length<this._def.items.length)return ne(r,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),be;!this._def.rest&&r.data.length>this._def.items.length&&(ne(r,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new si(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Pn.mergeArray(n,a)):Pn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Yi({...this._def,rest:e})}}Yi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Yi({items:t,typeName:Ee.ZodTuple,rest:null,...Se(e)})};class Ww extends Le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.map)return ne(r,{code:Q.invalid_type,expected:ue.map,received:r.parsedType}),be;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([o,c],d)=>({key:s._parse(new si(r,o,r.path,[d,"key"])),value:i._parse(new si(r,c,r.path,[d,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return be;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),o.set(d.value,h.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of a){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return be;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),o.set(d.value,h.value)}return{status:n.value,value:o}}}}Ww.create=(t,e,n)=>new Ww({valueType:e,keyType:t,typeName:Ee.ZodMap,...Se(n)});class lc extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.set)return ne(r,{code:Q.invalid_type,expected:ue.set,received:r.parsedType}),be;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ne(r,{code:Q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ne(r,{code:Q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const d=new Set;for(const h of c){if(h.status==="aborted")return be;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const o=[...r.data.values()].map((c,d)=>i._parse(new si(r,c,r.path,d)));return r.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,n){return new lc({...this._def,minSize:{value:e,message:de.toString(n)}})}max(e,n){return new lc({...this._def,maxSize:{value:e,message:de.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}lc.create=(t,e)=>new lc({valueType:t,minSize:null,maxSize:null,typeName:Ee.ZodSet,...Se(e)});class qw extends Le{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}qw.create=(t,e)=>new qw({getter:t,typeName:Ee.ZodLazy,...Se(e)});class Hw extends Le{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ne(n,{received:n.data,code:Q.invalid_literal,expected:this._def.value}),be}return{status:"valid",value:e.data}}get value(){return this._def.value}}Hw.create=(t,e)=>new Hw({value:t,typeName:Ee.ZodLiteral,...Se(e)});function DT(t,e){return new uo({values:t,typeName:Ee.ZodEnum,...Se(e)})}class uo extends Le{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ne(n,{expected:ze.joinValues(r),received:n.parsedType,code:Q.invalid_type}),be}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ne(n,{received:n.data,code:Q.invalid_enum_value,options:r}),be}return Gn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return uo.create(e,{...this._def,...n})}exclude(e,n=this._def){return uo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}uo.create=DT;class Gw extends Le{_parse(e){const n=ze.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ue.string&&r.parsedType!==ue.number){const s=ze.objectValues(n);return ne(r,{expected:ze.joinValues(s),received:r.parsedType,code:Q.invalid_type}),be}if(this._cache||(this._cache=new Set(ze.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ze.objectValues(n);return ne(r,{received:r.data,code:Q.invalid_enum_value,options:s}),be}return Gn(e.data)}get enum(){return this._def.values}}Gw.create=(t,e)=>new Gw({values:t,typeName:Ee.ZodNativeEnum,...Se(e)});class Gd extends Le{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ue.promise&&n.common.async===!1)return ne(n,{code:Q.invalid_type,expected:ue.promise,received:n.parsedType}),be;const r=n.parsedType===ue.promise?n.data:Promise.resolve(n.data);return Gn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Gd.create=(t,e)=>new Gd({type:t,typeName:Ee.ZodPromise,...Se(e)});class ho extends Le{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{ne(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return be;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?be:c.status==="dirty"||n.value==="dirty"?cl(c.value):c});{if(n.value==="aborted")return be;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?be:o.status==="dirty"||n.value==="dirty"?cl(o.value):o}}if(s.type==="refinement"){const a=o=>{const c=s.refinement(o,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?be:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?be:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!lo(a))return be;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>lo(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:n.value,value:o})):be);ze.assertNever(s)}}ho.create=(t,e,n)=>new ho({schema:t,typeName:Ee.ZodEffects,effect:e,...Se(n)});ho.createWithPreprocess=(t,e,n)=>new ho({schema:e,effect:{type:"preprocess",transform:t},typeName:Ee.ZodEffects,...Se(n)});class Ys extends Le{_parse(e){return this._getType(e)===ue.undefined?Gn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ys.create=(t,e)=>new Ys({innerType:t,typeName:Ee.ZodOptional,...Se(e)});class fo extends Le{_parse(e){return this._getType(e)===ue.null?Gn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fo.create=(t,e)=>new fo({innerType:t,typeName:Ee.ZodNullable,...Se(e)});class xp extends Le{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ue.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}xp.create=(t,e)=>new xp({innerType:t,typeName:Ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});class wp extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Bd(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new is(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new is(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}wp.create=(t,e)=>new wp({innerType:t,typeName:Ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});class Kw extends Le{_parse(e){if(this._getType(e)!==ue.nan){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ue.nan,received:r.parsedType}),be}return{status:"valid",value:e.data}}}Kw.create=t=>new Kw({typeName:Ee.ZodNaN,...Se(t)});class t3 extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class jv extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?be:i.status==="dirty"?(n.dirty(),cl(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?be:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new jv({in:e,out:n,typeName:Ee.ZodPipeline})}}class _p extends Le{_parse(e){const n=this._def.innerType._parse(e),r=s=>(lo(s)&&(s.value=Object.freeze(s.value)),s);return Bd(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}_p.create=(t,e)=>new _p({innerType:t,typeName:Ee.ZodReadonly,...Se(e)});var Ee;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));const Xs=Vs.create,Il=co.create,gu=vp.create;ii.create;const bp=Pr.create,Ic=xt.create;qd.create;Hd.create;Yi.create;const Ep=uo.create;Gd.create;Ys.create;fo.create;async function n3(t){await new Promise(r=>setTimeout(r,2e3));const e=[],n=new Date;for(let r=0;r<90;r++){const s=new Date(n);s.setDate(s.getDate()+r);const i=s.toISOString().split("T")[0];e.push({id:`task-${r}-1`,date:i,title:"Banho Gelado",description:"3 minutos de gua fria para ativar o sistema nervoso",pillar:"corpo",duration:5,completed:!1}),r%2===0&&e.push({id:`task-${r}-2`,date:i,title:"Treino de Fora",description:"Seguir o plano de treino personalizado",pillar:"corpo",duration:60,completed:!1}),e.push({id:`task-${r}-3`,date:i,title:"Leitura Diria",description:"20 pginas de desenvolvimento pessoal",pillar:"mente",duration:30,completed:!1}),e.push({id:`task-${r}-4`,date:i,title:"Meditao",description:"10 minutos de meditao guiada",pillar:"mente",duration:10,completed:!1}),r%7===0&&e.push({id:`task-${r}-5`,date:i,title:"Reviso Semanal",description:"Avaliar progresso e ajustar metas",pillar:"disciplina",duration:30,completed:!1})}return e}const r3=Ic({name:Xs().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Xs().email("Email invlido"),password:Xs().min(8,"Senha deve ter pelo menos 8 caracteres"),age:Il().min(18,"Voc deve ter pelo menos 18 anos").max(100,"Idade invlida")}),s3=Ic({goals:bp(Xs()).min(1,"Selecione pelo menos um objetivo"),priorityGoals:bp(Xs()).length(3,"Selecione exatamente 3 prioridades"),experienceLevel:Ep(["beginner","intermediate","advanced"])}),i3=Ic({weight:Il().min(30,"Peso invlido").max(300,"Peso invlido"),height:Il().min(100,"Altura invlida").max(250,"Altura invlida"),activityLevel:Ep(["sedentary","light","moderate","active","very_active"]),sleepHours:Il().min(4,"Mnimo 4 horas").max(12,"Mximo 12 horas"),workSchedule:Ep(["morning","afternoon","evening","night","flexible"])}),a3=Ic({dailyTimePreference:Il().min(15,"Mnimo 15 minutos").max(120,"Mximo 120 minutos"),restrictions:bp(Xs()),allergies:Xs(),injuries:Xs()}),o3=Ic({consentData:gu().refine(t=>t===!0,{message:"Voc deve aceitar o uso de dados"}),consentPhotos:gu(),consentSensitiveContent:gu(),consentAgeVerification:gu().refine(t=>t===!0,{message:"Voc deve confirmar ser maior de idade"})}),Qw=[{id:"aesthetics",label:"Melhorar esttica corporal",icon:""},{id:"strength",label:"Aumentar fora fsica",icon:""},{id:"voice_presence",label:"Desenvolver voz e presena",icon:""},{id:"relationships",label:"Melhorar relacionamentos",icon:""},{id:"stop_porn",label:"Parar com pornografia",icon:""},{id:"reading",label:"Aumentar leitura",icon:""},{id:"sleep",label:"Melhorar sono",icon:""},{id:"social_skills",label:"Desenvolver habilidades sociais",icon:""}],l3=[{value:"sedentary",label:"Sedentrio",description:"Trabalho sentado, pouca atividade"},{value:"light",label:"Leve",description:"Caminhadas ocasionais"},{value:"moderate",label:"Moderado",description:"Exerccio 2-3x por semana"},{value:"active",label:"Ativo",description:"Exerccio 4-5x por semana"},{value:"very_active",label:"Muito ativo",description:"Exerccio dirio ou trabalho fsico"}];function c3(){const[t,e]=U.useState(1),[n,r]=U.useState(!1),s=hh(),{register:i}=Hn(),a=Qo({resolver:Yo(r3),defaultValues:{name:"",email:"",password:"",age:18}}),o=Qo({resolver:Yo(s3),defaultValues:{goals:[],priorityGoals:[],experienceLevel:"beginner"}}),c=Qo({resolver:Yo(i3),defaultValues:{weight:70,height:170,activityLevel:"moderate",sleepHours:7,workSchedule:"morning"}}),d=Qo({resolver:Yo(a3),defaultValues:{dailyTimePreference:30,restrictions:[],allergies:"",injuries:""}}),h=Qo({resolver:Yo(o3),defaultValues:{consentData:!1,consentPhotos:!1,consentSensitiveContent:!1,consentAgeVerification:!1}}),m=5,p=async()=>{let S=!1;switch(t){case 1:S=await a.trigger();break;case 2:S=await o.trigger();break;case 3:S=await c.trigger();break;case 4:S=await d.trigger();break;case 5:S=await h.trigger();break}S&&t<m&&e(t+1)},g=()=>{t>1&&e(t-1)},I=async()=>{r(!0);try{const S=a.getValues(),k=o.getValues(),x=c.getValues(),w=d.getValues(),j=h.getValues(),P={...S,...k,...x,...w,...j};await i(P.email,P.password);const O={age:P.age,weight:P.weight,height:P.height,activityLevel:P.activityLevel,goals:P.goals,priorityGoals:P.priorityGoals,experienceLevel:P.experienceLevel,dailyTimePreference:String(P.dailyTimePreference),workSchedule:P.workSchedule,sleepHours:P.sleepHours,restrictions:P.restrictions,allergies:P.allergies?[P.allergies]:[],injuries:P.injuries?[P.injuries]:[],consentFlags:{terms:P.consentData,privacy:P.consentData,marketing:P.consentPhotos}};Ft.info("Gerando seu plano personalizado de 90 dias...");const b=await n3(O),y=new Date().toISOString();await Ba(nr(mt,"plans"),{userId:P.email,title:"Plano de 90 Dias - Respect Pill",description:"Plano personalizado baseado em suas metas e perfil",duration:90,pillars:P.goals.slice(0,3),objectives:P.priorityGoals,dailyTasks:b,status:"active",startDate:y,endDate:new Date(Date.now()+90*24*60*60*1e3).toISOString(),progress:0,createdAt:y,updatedAt:y}),Ft.success("Bem-vindo ao Respect Pill! Seu plano de 90 dias foi criado."),s("/app/dashboard")}catch(S){console.error("Onboarding error:",S),Ft.error("Erro ao criar conta. Tente novamente.")}finally{r(!1)}},C=()=>{switch(t){case 1:return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Vamos comear"}),l.jsx("p",{className:"text-gray-600",children:"Informaes bsicas para criar sua conta"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome completo"}),l.jsx("input",{...a.register("name"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Seu nome"}),a.formState.errors.name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.formState.errors.name.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l.jsx("input",{...a.register("email"),type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"}),a.formState.errors.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.formState.errors.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),l.jsx("input",{...a.register("password"),type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mnimo 8 caracteres"}),a.formState.errors.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.formState.errors.password.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Idade"}),l.jsx("input",{...a.register("age",{valueAsNumber:!0}),type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"18",max:"100"}),a.formState.errors.age&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.formState.errors.age.message})]})]})]});case 2:return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Seus objetivos"}),l.jsx("p",{className:"text-gray-600",children:"O que voc quer alcanar nos prximos 90 dias?"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Selecione seus objetivos"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Qw.map(S=>l.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[l.jsx("input",{type:"checkbox",...o.register("goals"),value:S.id,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-2xl",children:S.icon}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:S.label})]},S.id))}),o.formState.errors.goals&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.formState.errors.goals.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Priorize suas 3 principais metas"}),l.jsx("div",{className:"space-y-2",children:[1,2,3].map(S=>l.jsxs("select",{...o.register(`priorityGoals.${S-1}`),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsxs("option",{value:"",children:["Selecione a prioridade ",S]}),Qw.map(k=>l.jsxs("option",{value:k.id,children:[k.icon," ",k.label]},k.id))]},S))}),o.formState.errors.priorityGoals&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.formState.errors.priorityGoals.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Seu nvel de experincia"}),l.jsx("div",{className:"space-y-2",children:["beginner","intermediate","advanced"].map(S=>l.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[l.jsx("input",{type:"radio",...o.register("experienceLevel"),value:S,className:"border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[S==="beginner"&&"Iniciante",S==="intermediate"&&"Intermedirio",S==="advanced"&&"Avanado"]})]},S))}),o.formState.errors.experienceLevel&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.formState.errors.experienceLevel.message})]})]})]});case 3:return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sua sade e rotina"}),l.jsx("p",{className:"text-gray-600",children:"Informaes para personalizar seu plano"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Peso (kg)"}),l.jsx("input",{...c.register("weight",{valueAsNumber:!0}),type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),c.formState.errors.weight&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.formState.errors.weight.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Altura (cm)"}),l.jsx("input",{...c.register("height",{valueAsNumber:!0}),type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),c.formState.errors.height&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.formState.errors.height.message})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Nvel de atividade fsica"}),l.jsx("div",{className:"space-y-2",children:l3.map(S=>l.jsxs("label",{className:"flex items-start space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[l.jsx("input",{type:"radio",...c.register("activityLevel"),value:S.value,className:"mt-1 border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-700",children:S.label}),l.jsx("div",{className:"text-xs text-gray-500",children:S.description})]})]},S.value))}),c.formState.errors.activityLevel&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.formState.errors.activityLevel.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horas de sono desejadas"}),l.jsx("input",{...c.register("sleepHours",{valueAsNumber:!0}),type:"number",min:"4",max:"12",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),c.formState.errors.sleepHours&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.formState.errors.sleepHours.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horrio de trabalho"}),l.jsxs("select",{...c.register("workSchedule"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"morning",children:"Manh"}),l.jsx("option",{value:"afternoon",children:"Tarde"}),l.jsx("option",{value:"evening",children:"Noite"}),l.jsx("option",{value:"night",children:"Madrugada"}),l.jsx("option",{value:"flexible",children:"Flexvel"})]}),c.formState.errors.workSchedule&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.formState.errors.workSchedule.message})]})]})]});case 4:return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Preferncias e restries"}),l.jsx("p",{className:"text-gray-600",children:"Ajude-nos a personalizar ainda mais seu plano"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo dirio disponvel (minutos)"}),l.jsx("input",{...d.register("dailyTimePreference",{valueAsNumber:!0}),type:"number",min:"15",max:"120",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),d.formState.errors.dailyTimePreference&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.formState.errors.dailyTimePreference.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alergias alimentares"}),l.jsx("textarea",{...d.register("allergies"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,placeholder:"Ex: lactose, glten, amendoim..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Leses ou limitaes fsicas"}),l.jsx("textarea",{...d.register("injuries"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,placeholder:"Ex: dor no joelho, problema nas costas..."})]})]})]});case 5:return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Termos e condies"}),l.jsx("p",{className:"text-gray-600",children:"ltimas confirmaes antes de comear"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg",children:[l.jsx("input",{type:"checkbox",...h.register("consentData"),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Aceito o uso de dados"}),l.jsx("div",{className:"text-gray-600",children:"Concordo com o processamento dos meus dados para personalizao do plano"})]})]}),h.formState.errors.consentData&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.formState.errors.consentData.message}),l.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg",children:[l.jsx("input",{type:"checkbox",...h.register("consentPhotos"),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Aceito receber comunicaes"}),l.jsx("div",{className:"text-gray-600",children:"Quero receber dicas e atualizaes sobre meu progresso"})]})]}),l.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg",children:[l.jsx("input",{type:"checkbox",...h.register("consentSensitiveContent"),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Aceito contedo sensvel"}),l.jsx("div",{className:"text-gray-600",children:"Estou ciente que o contedo pode abordar temas sensveis"})]})]}),l.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg",children:[l.jsx("input",{type:"checkbox",...h.register("consentAgeVerification"),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Confirmo ser maior de idade"}),l.jsx("div",{className:"text-gray-600",children:"Tenho 18 anos ou mais"})]})]}),h.formState.errors.consentAgeVerification&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.formState.errors.consentAgeVerification.message})]})]});default:return null}};return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"flex justify-between mb-2",children:[1,2,3,4,5].map(S=>l.jsx("div",{className:`w-full h-2 rounded-full mx-1 ${S<=t?"bg-blue-600":"bg-gray-200"}`},S))}),l.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["Passo ",t," de ",m]})]}),C(),l.jsxs("div",{className:"flex justify-between mt-8",children:[l.jsx("button",{onClick:g,disabled:t===1,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Voltar"}),t<m?l.jsx("button",{onClick:p,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Prximo"}):l.jsx("button",{onClick:I,disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Criando conta...":"Finalizar"})]})]})})}function u3(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-white",children:"Perfil"}),l.jsx("p",{className:"text-zinc-400",children:"Em construo..."})]})}function d3(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-white",children:"Configuraes"}),l.jsx("p",{className:"text-zinc-400",children:"Em construo..."})]})}function h3(){const{user:t,profile:e}=Hn(),[n,r]=U.useState({profileVisibility:"private",showProgress:!0,showGoals:!1,allowMessages:!1,dataSharing:!1,marketingEmails:!1,sensitiveContent:!1}),[s,i]=U.useState({exportInProgress:!1,exportFormat:"json"}),[a,o]=U.useState({showConfirmation:!1,password:"",reason:""}),c=async(p,g)=>{try{if(r(I=>({...I,[p]:g})),e!=null&&e.id){const I=ir(mt,"profiles",e.id);await oo(I,{[`privacy.${p}`]:g}),Ft.success("Configurao de privacidade atualizada")}}catch(I){console.error("Error updating privacy setting:",I),Ft.error("Erro ao atualizar configurao")}},d=async()=>{try{i(k=>({...k,exportInProgress:!0}));const p={profile:e,privacySettings:n,exportDate:new Date().toISOString(),format:s.exportFormat},g=s.exportFormat==="json"?JSON.stringify(p,null,2):h(p),I=new Blob([g],{type:s.exportFormat==="json"?"application/json":"text/csv"}),C=URL.createObjectURL(I),S=document.createElement("a");S.href=C,S.download=`respect-pill-data-${new Date().toISOString().split("T")[0]}.${s.exportFormat}`,S.click(),URL.revokeObjectURL(C),i(k=>({...k,exportInProgress:!1,lastExportDate:new Date().toISOString()})),Ft.success("Dados exportados com sucesso!")}catch(p){console.error("Error exporting data:",p),i(g=>({...g,exportInProgress:!1})),Ft.error("Erro ao exportar dados")}},h=p=>{var I,C;return[["Campo","Valor"],["Nome",((I=p.profile)==null?void 0:I.name)||""],["Email",(t==null?void 0:t.email)||""],["Idade",((C=p.profile)==null?void 0:C.age)||""],["Data de Exportao",p.exportDate]].map(S=>S.join(",")).join(`
`)},m=async()=>{if(!a.password){Ft.error("Por favor, insira sua senha");return}try{Ft.success("Solicitao de excluso enviada. Voc receber um email de confirmao."),o({showConfirmation:!1,password:"",reason:""})}catch(p){console.error("Error deleting account:",p),Ft.error("Erro ao processar excluso")}};return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Privacidade e Segurana"}),l.jsx("p",{className:"text-gray-600",children:"Controle seus dados e configuraes de privacidade conforme a LGPD"})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx(mT,{className:"h-6 w-6 text-blue-600 mr-3"}),l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Configuraes de Privacidade"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visibilidade do Perfil"}),l.jsxs("select",{value:n.profileVisibility,onChange:p=>c("profileVisibility",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"private",children:"Privado - Apenas eu"}),l.jsx("option",{value:"connections",children:"Conexes - Amigos e comunidade"}),l.jsx("option",{value:"public",children:"Pblico - Qualquer pessoa"})]}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Quem pode ver seu perfil e progresso"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-medium text-gray-900",children:"Mostrar Progresso"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Compartilhar seu progresso com outros usurios"})]}),l.jsx("button",{onClick:()=>c("showProgress",!n.showProgress),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.showProgress?"bg-blue-600":"bg-gray-200"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.showProgress?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-medium text-gray-900",children:"Mostrar Metas"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Compartilhar suas metas pessoais"})]}),l.jsx("button",{onClick:()=>c("showGoals",!n.showGoals),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.showGoals?"bg-blue-600":"bg-gray-200"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.showGoals?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-medium text-gray-900",children:"Permitir Mensagens"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Outros usurios podem te enviar mensagens"})]}),l.jsx("button",{onClick:()=>c("allowMessages",!n.allowMessages),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.allowMessages?"bg-blue-600":"bg-gray-200"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.allowMessages?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-medium text-gray-900",children:"Compartilhamento de Dados"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Usar dados para melhorar a plataforma (anonimizado)"})]}),l.jsx("button",{onClick:()=>c("dataSharing",!n.dataSharing),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.dataSharing?"bg-blue-600":"bg-gray-200"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.dataSharing?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-medium text-gray-900",children:"Emails de Marketing"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Receber emails sobre novidades e promoes"})]}),l.jsx("button",{onClick:()=>c("marketingEmails",!n.marketingEmails),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.marketingEmails?"bg-blue-600":"bg-gray-200"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.marketingEmails?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-medium text-gray-900",children:"Contedo Sensvel"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Acessar contedo sobre sexualidade e relacionamentos"})]}),l.jsx("button",{onClick:()=>c("sensitiveContent",!n.sensitiveContent),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.sensitiveContent?"bg-blue-600":"bg-gray-200"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.sensitiveContent?"translate-x-6":"translate-x-1"}`})})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx(lw,{className:"h-6 w-6 text-green-600 mr-3"}),l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Exportao de Dados (LGPD)"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-gray-600",children:"De acordo com a LGPD, voc tem o direito de receber todos os seus dados pessoais em formato porttil."}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("select",{value:s.exportFormat,onChange:p=>i(g=>({...g,exportFormat:p.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"json",children:"JSON"}),l.jsx("option",{value:"csv",children:"CSV"})]}),l.jsxs("button",{onClick:d,disabled:s.exportInProgress,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[l.jsx(lw,{className:"h-4 w-4"}),l.jsx("span",{children:s.exportInProgress?"Exportando...":"Exportar Dados"})]})]}),s.lastExportDate&&l.jsxs("p",{className:"text-sm text-gray-500",children:["ltima exportao: ",new Date(s.lastExportDate).toLocaleString("pt-BR")]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-6",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx(rM,{className:"h-6 w-6 text-red-600 mr-3"}),l.jsx("h2",{className:"text-xl font-bold text-red-900",children:"Excluir Conta"})]}),a.showConfirmation?l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-red-700 font-medium",children:"Confirme sua identidade para prosseguir com a excluso:"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha atual"}),l.jsx("input",{type:"password",value:a.password,onChange:p=>o(g=>({...g,password:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Digite sua senha para confirmar"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo (opcional)"}),l.jsx("textarea",{value:a.reason,onChange:p=>o(g=>({...g,reason:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Por que est deixando o Respect Pill?"})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>o({showConfirmation:!1,password:"",reason:""}),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:m,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Confirmar Excluso"})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-red-700",children:"Ateno: Esta ao  irreversvel. Todos os seus dados sero permanentemente excludos."}),l.jsx("button",{onClick:()=>o(p=>({...p,showConfirmation:!0})),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Solicitar Excluso de Conta"})]})]})]})]})}const f3=["Respeito acima de tudo - sem discurso de dio","Contedo construtivo e voltado para evoluo","Sem misoginia, machismo txico ou discurso de dio","Contedo sexual apenas em reas apropriadas","Mantenha o foco em crescimento pessoal"],OT=["Introduo","Progresso","Dvida","Motivao","Relacionamentos","Treino","Alimentao","Sono","Leitura","Desafio","Vitria","Frustrao","Reflexo","Agradecimento","Pedido de Ajuda"];function m3(){const{user:t}=Hn(),[e,n]=U.useState([]),[r,s]=U.useState(!0),[i,a]=U.useState(!1),[o,c]=U.useState(null),[d,h]=U.useState([]),[m,p]=U.useState(""),[g,I]=U.useState("");U.useEffect(()=>{C()},[g]);const C=async()=>{try{s(!0);const P=nr(mt,"posts");let O=Ms(P,Gr("isActive","==",!0),Dd("createdAt","desc"),Bk(20));g&&(O=Ms(O,Gr("tags","array-contains",g)));const b=await sc(O),y=[];b.forEach(E=>{const T=E.data();y.push({id:E.id,userId:T.userId,userName:T.userName||"Usurio Annimo",userAvatar:T.userAvatar,title:T.title,content:T.content,images:T.images||[],tags:T.tags||[],likes:T.likes||0,comments:T.comments||0,isLiked:!1,isActive:T.isActive,createdAt:T.createdAt,updatedAt:T.updatedAt})}),n(y)}catch(P){console.error("Error loading posts:",P),n([])}finally{s(!1)}},S=async P=>{try{const O=nr(mt,"comments"),b=Ms(O,Gr("postId","==",P),Gr("isActive","==",!0),Dd("createdAt","asc")),y=await sc(b),E=[];y.forEach(T=>{const A=T.data();E.push({id:T.id,postId:A.postId,userId:A.userId,userName:A.userName||"Usurio Annimo",userAvatar:A.userAvatar,content:A.content,likes:A.likes||0,isLiked:!1,isActive:A.isActive,createdAt:A.createdAt,updatedAt:A.updatedAt})}),h(E)}catch(O){console.error("Error loading comments:",O)}},k=async P=>{try{const O=new Date().toISOString(),b={userId:(t==null?void 0:t.id)||"guest",userName:(t==null?void 0:t.name)||"Usurio Annimo",title:P.title,content:P.content,images:[],tags:P.tags,likes:0,comments:0,isActive:!0,createdAt:O,updatedAt:O},E={id:(await Ba(nr(mt,"posts"),b)).id,...b,isLiked:!1};n([E,...e]),a(!1),Ft.success("Post criado com sucesso!")}catch(O){console.error("Error creating post:",O),Ft.error("Erro ao criar post. Tente novamente.")}},x=async P=>{try{const O=e.find(T=>T.id===P);if(!O)return;const b=O.isLiked?O.likes-1:O.likes+1,y=!O.isLiked,E=ir(mt,"posts",P);await oo(E,{likes:b}),n(e.map(T=>T.id===P?{...T,likes:b,isLiked:y}:T))}catch(O){console.error("Error liking post:",O)}},w=async()=>{if(!(!t||!o||!m.trim()))try{const P=new Date().toISOString(),O={postId:o.id,userId:t.id,userName:t.name,content:m.trim(),likes:0,isActive:!0,createdAt:P,updatedAt:P},y={id:(await Ba(nr(mt,"comments"),O)).id,...O};h([...d,y]),p("");const E=ir(mt,"posts",o.id);await oo(E,{comments:o.comments+1}),n(e.map(T=>T.id===o.id?{...T,comments:T.comments+1}:T)),c({...o,comments:o.comments+1})}catch(P){console.error("Error creating comment:",P)}},j=async(P,O)=>{if(t)try{await Ba(nr(mt,"reports"),{reporterId:t.id,targetId:O,targetType:P,reason:"inappropriate",status:"pending",createdAt:new Date().toISOString()}),alert("Contedo reportado. Obrigado por ajudar a manter a comunidade segura.")}catch(b){console.error("Error reporting content:",b)}};return r?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Carregando comunidade..."})]})}):l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"mb-6 sm:mb-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6 space-y-4 sm:space-y-0",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-3",children:[l.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:l.jsx(ic,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Comunidade e Identidade Masculina"}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Conecte-se com outros homens na jornada de evoluo"})]})]}),l.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm sm:text-base w-full sm:w-auto justify-center",children:[l.jsx(Bu,{className:"h-4 w-4"}),l.jsx("span",{children:"Criar post"})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{onClick:()=>I(""),className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium transition-colors ${g===""?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todos"}),OT.map(P=>l.jsx("button",{onClick:()=>I(P),className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium transition-colors ${g===P?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:P},P))]})]}),l.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.map(P=>l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-blue-600 font-semibold",children:P.userName.charAt(0).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:P.userName}),l.jsx("div",{className:"text-sm text-gray-500",children:fp(new Date(P.createdAt),{addSuffix:!0})})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("button",{onClick:()=>j("post",P.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:l.jsx(fT,{className:"h-4 w-4"})})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:P.title}),l.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:P.content}),P.tags.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:P.tags.map(O=>l.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:O},O))})]}),l.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:()=>x(P.id),className:`flex items-center space-x-2 transition-colors ${P.isLiked?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:[l.jsx(Wa,{className:`h-4 w-4 ${P.isLiked?"fill-current":""}`}),l.jsx("span",{className:"text-sm",children:P.likes})]}),l.jsxs("button",{onClick:()=>{c(P),S(P.id)},className:"flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-colors",children:[l.jsx(Bu,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:P.comments})]}),l.jsxs("button",{className:"flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-colors",children:[l.jsx(eM,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Compartilhar"})]})]})})]},P.id)),e.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx(Bu,{className:"h-16 w-16 mx-auto"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum post ainda"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Seja o primeiro a compartilhar sua jornada!"}),l.jsx("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Criar primeiro post"})]})]}),i&&l.jsx(p3,{onClose:()=>a(!1),onSubmit:k}),o&&l.jsx(g3,{post:o,comments:d,newComment:m,onClose:()=>c(null),onLikePost:x,onCreateComment:w,onSetNewComment:p,onReportContent:j}),l.jsx("div",{className:"mt-12 pt-6 border-t border-gray-200",children:l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-2",children:"Regras da Comunidade"}),l.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:f3.map((P,O)=>l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("span",{className:"text-gray-400 mt-0.5",children:""}),l.jsx("span",{children:P})]},O))})]})})]})}function p3({onClose:t,onSubmit:e}){const[n,r]=U.useState(""),[s,i]=U.useState(""),[a,o]=U.useState([]),[c,d]=U.useState(!1),h=async p=>{if(p.preventDefault(),!n.trim()||!s.trim()){alert("Por favor, preencha ttulo e contedo");return}d(!0);try{await e({title:n.trim(),content:s.trim(),tags:a,images:[]})}catch(g){console.error("Error submitting post:",g),alert("Erro ao criar post. Tente novamente.")}finally{d(!1)}},m=p=>{o(g=>g.includes(p)?g.filter(I=>I!==p):[...g,p])};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Criar novo post"}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Nv,{className:"h-6 w-6"})})]})}),l.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo"}),l.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"D um ttulo para seu post...",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contedo"}),l.jsx("textarea",{value:s,onChange:p=>i(p.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Compartilhe sua experincia, dvida ou reflexo...",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (opcional)"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:OT.map(p=>l.jsx("button",{type:"button",onClick:()=>m(p),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${a.includes(p)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p},p))})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Publicando...":"Publicar"})]})]})]})})}function g3({post:t,comments:e,newComment:n,onClose:r,onLikePost:s,onCreateComment:i,onSetNewComment:a,onReportContent:o}){return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Discusso"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Nv,{className:"h-6 w-6"})})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-blue-600 font-semibold",children:t.userName.charAt(0).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:t.userName}),l.jsx("div",{className:"text-sm text-gray-500",children:fp(new Date(t.createdAt),{addSuffix:!0})})]})]}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),l.jsx("p",{className:"text-gray-700 whitespace-pre-wrap mb-4",children:t.content}),t.tags.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.tags.map(c=>l.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:c},c))}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:()=>s(t.id),className:`flex items-center space-x-2 transition-colors ${t.isLiked?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:[l.jsx(Wa,{className:`h-4 w-4 ${t.isLiked?"fill-current":""}`}),l.jsx("span",{className:"text-sm",children:t.likes})]}),l.jsxs("button",{onClick:()=>o("post",t.id),className:"flex items-center space-x-2 text-gray-500 hover:text-red-500 transition-colors",children:[l.jsx(fT,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Reportar"})]})]})]}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("h4",{className:"font-semibold text-gray-900",children:["Comentrios (",e.length,")"]}),e.map(c=>l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-blue-600 text-sm font-semibold",children:c.userName.charAt(0).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900 text-sm",children:c.userName}),l.jsx("div",{className:"text-xs text-gray-500",children:fp(new Date(c.createdAt),{addSuffix:!0})})]})]}),l.jsx("p",{className:"text-gray-700 text-sm mb-2",children:c.content}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"text-xs text-gray-500 hover:text-red-500 transition-colors",children:"Curtir"}),l.jsx("button",{onClick:()=>o("comment",c.id),className:"text-xs text-gray-500 hover:text-red-500 transition-colors",children:"Reportar"})]})]},c.id)),e.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Bu,{className:"h-8 w-8 mx-auto mb-2"}),l.jsx("p",{children:"Seja o primeiro a comentar!"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:n,onChange:c=>a(c.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Escreva um comentrio..."})}),l.jsx("button",{onClick:i,disabled:!n.trim(),className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsx(Z5,{className:"h-5 w-5"})})]})]})]})})}const v3={video:Sv,audio:W5,text:cw,pdf:cw,quiz:Od},vu={body:{label:"Corpo",color:"text-red-400",bg:"bg-red-500/10",border:"border-red-500/20"},mind:{label:"Mente",color:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/20"},posture:{label:"Postura & Presena",color:"text-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/20"},affective:{label:"Vida Afetiva",color:"text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20"},sexuality:{label:"Sexualidade",color:"text-purple-400",bg:"bg-purple-500/10",border:"border-purple-500/20"},discipline:{label:"Disciplina & Rotina",color:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20"},career:{label:"Propsito de Vida",color:"text-cyan-400",bg:"bg-cyan-500/10",border:"border-cyan-500/20"},community:{label:"Comunidade & Identidade",color:"text-indigo-400",bg:"bg-indigo-500/10",border:"border-indigo-500/20"}};function y3(){const[t,e]=U.useState([]),[n,r]=U.useState(null),[s,i]=U.useState(!0);U.useEffect(()=>{a()},[]);const a=async()=>{var p;try{i(!0);const g=nr(mt,"content"),I=Ms(g,Gr("isActive","==",!0),Dd("order","asc"),Bk(100)),C=await sc(I),S=[];C.forEach(w=>{const j=w.data();S.push({id:w.id,title:j.title,description:j.description,type:j.type,duration:j.duration,level:j.level,pillar:j.pillar,thumbnailUrl:j.thumbnailUrl,contentUrl:j.contentUrl,isLocked:j.isLocked||!1,prerequisites:j.prerequisites||[],order:j.order||0,tags:j.tags||[]})});const k={};S.forEach(w=>{k[w.pillar]||(k[w.pillar]={}),k[w.pillar][w.level]||(k[w.pillar][w.level]=[]),k[w.pillar][w.level].push(w)});const x=[];Object.entries(k).forEach(([w,j])=>{Object.entries(j).forEach(([P,O])=>{const b=O.reduce((E,T)=>E+T.duration,0),y=Math.round(O.filter(E=>!E.isLocked).length/O.length*100);x.push({id:`${w}-${P}`,title:`${o(w)} - ${c(P)}`,description:d(w),pillar:w,level:P,modules:O.sort((E,T)=>E.order-T.order),totalDuration:b,progress:y,isActive:y>0&&y<100})})}),x.length===0&&Object.keys(vu).forEach(w=>{x.push({id:`${w}-beginner`,title:`${o(w)}`,description:d(w),pillar:w,level:"beginner",modules:[],totalDuration:0,progress:0,isActive:!1})}),e(x),r(((p=x[0])==null?void 0:p.id)||null)}catch(g){console.error("Error loading content:",g)}finally{i(!1)}},o=p=>{var g;return((g=vu[p])==null?void 0:g.label)||p},c=p=>({beginner:"Iniciante",intermediate:"Intermedirio",advanced:"Avanado"})[p]||p,d=p=>({body:"Domine sua biologia, nutrio e performance fsica.",mind:"Desenvolva resilincia, foco e clareza mental.",posture:"Construa uma presena magntica e linguagem corporal poderosa.",affective:"Cultive relacionamentos saudveis e inteligncia emocional.",sexuality:"Explore a energia sexual como fonte de vitalidade e conexo.",discipline:"Estabelea rotinas inquebrveis e autodisciplina.",career:"Acelere seu crescimento profissional e habilidades de comunicao.",community:"Encontre seu propsito e contribua para algo maior."})[p]||"Trilha de aprendizado personalizada",h=p=>{p.isLocked||console.log("Opening module:",p.id)};if(s)return l.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cobalt-500 mx-auto mb-4"}),l.jsx("p",{className:"text-zinc-400",children:"Carregando trilhas..."})]})});const m=t.find(p=>p.id===n);return l.jsxs("div",{className:"space-y-8",children:[l.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Currculo"}),l.jsx("p",{className:"text-zinc-400",children:"O mapa completo para sua evoluo nas 8 reas fundamentais."})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[l.jsxs("div",{className:"lg:col-span-4 space-y-4",children:[l.jsx("h3",{className:"text-sm font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Trilhas Disponveis"}),l.jsx("div",{className:"space-y-2",children:t.map(p=>{const g=vu[p.pillar]||vu.body,I=n===p.id;return l.jsxs("button",{onClick:()=>r(p.id),className:`w-full text-left p-4 rounded-xl border transition-all duration-300 group ${I?`bg-dark-800 ${g.border} shadow-lg shadow-black/20`:"bg-dark-850 border-white/5 hover:bg-dark-800 hover:border-white/10"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:`text-sm font-medium ${I?g.color:"text-zinc-400 group-hover:text-zinc-300"}`,children:o(p.pillar)}),p.progress>0&&l.jsxs("span",{className:"text-xs text-zinc-500",children:[p.progress,"%"]})]}),l.jsx("h4",{className:`font-medium mb-1 ${I?"text-white":"text-zinc-300"}`,children:c(p.level)}),l.jsx("div",{className:"w-full bg-dark-900 h-1 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${I?"bg-white":"bg-zinc-700"}`,style:{width:`${p.progress}%`}})})]},p.id)})})]}),l.jsx("div",{className:"lg:col-span-8",children:m?l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-8 border-b border-white/10 bg-gradient-to-br from-dark-800 to-dark-900 relative",children:[l.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:l.jsx(nM,{className:"h-32 w-32 text-white"})}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-white/5 text-white border border-white/10",children:c(m.level)}),l.jsxs("div",{className:"flex items-center text-zinc-400 text-xs",children:[l.jsx(Tv,{className:"h-3 w-3 mr-1"}),Math.ceil(m.totalDuration/60),"h total"]})]}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:m.title}),l.jsx("p",{className:"text-zinc-400 leading-relaxed max-w-2xl",children:m.description})]})]}),l.jsx("div",{className:"p-6",children:m.modules.length>0?l.jsx("div",{className:"space-y-4",children:m.modules.map(p=>{const g=v3[p.type];return l.jsxs("div",{onClick:()=>h(p),className:`group relative flex items-center p-4 rounded-xl border transition-all duration-300 ${p.isLocked?"bg-dark-900/50 border-white/5 opacity-50 cursor-not-allowed":"bg-dark-800 border-white/5 hover:border-cobalt-500/30 hover:bg-dark-750 cursor-pointer"}`,children:[l.jsx("div",{className:"flex-shrink-0 mr-4",children:l.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center border ${p.isLocked?"bg-dark-900 border-white/5 text-zinc-600":"bg-cobalt-500/10 border-cobalt-500/20 text-cobalt-400 group-hover:text-cobalt-300"}`,children:p.isLocked?l.jsx(q5,{className:"h-5 w-5"}):l.jsx(g,{className:"h-5 w-5"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("h3",{className:`font-medium truncate ${p.isLocked?"text-zinc-500":"text-white group-hover:text-cobalt-100"}`,children:p.title}),!p.isLocked&&l.jsx("span",{className:"text-[10px] uppercase tracking-wider px-2 py-0.5 rounded bg-white/5 text-zinc-400 border border-white/5",children:p.type})]}),l.jsx("p",{className:"text-sm text-zinc-500 truncate",children:p.description})]}),l.jsx("div",{className:"flex-shrink-0 ml-4 flex items-center",children:!p.isLocked&&l.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(dT,{className:"h-4 w-4 text-white"})})})]},p.id)})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-dark-800 mb-4",children:l.jsx(Od,{className:"h-8 w-8 text-zinc-600"})}),l.jsx("h3",{className:"text-white font-medium mb-2",children:"Em Breve"}),l.jsx("p",{className:"text-zinc-500 max-w-sm mx-auto",children:"Os mdulos desta trilha esto sendo preparados pelos nossos especialistas."})]})})]}):l.jsx("div",{className:"flex items-center justify-center h-full min-h-[400px] text-zinc-500",children:"Selecione uma trilha para comear"})})]})]})}var MT="https://js.stripe.com/v3",x3=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var w3=function(){for(var e=document.querySelectorAll('script[src^="'.concat(MT,'"]')),n=0;n<e.length;n++){var r=e[n];if(x3.test(r.src))return r}return null},Yw=function(e){var n="",r=document.createElement("script");r.src="".concat(MT).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},_3=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:n})},Xo=null,yu=null,xu=null,b3=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},E3=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},k3=function(e){return Xo!==null?Xo:(Xo=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var s=w3();if(!(s&&e)){if(!s)s=Yw(e);else if(s&&xu!==null&&yu!==null){var i;s.removeEventListener("load",xu),s.removeEventListener("error",yu),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=Yw(e)}}xu=E3(n,r),yu=b3(r),s.addEventListener("load",xu),s.addEventListener("error",yu)}catch(a){r(a);return}}),Xo.catch(function(n){return Xo=null,Promise.reject(n)}))},T3=function(e,n,r){if(e===null)return null;var s=e.apply(void 0,n);return _3(s,r),s},Zo,VT=!1,LT=function(){return Zo||(Zo=k3(null).catch(function(e){return Zo=null,Promise.reject(e)}),Zo)};Promise.resolve().then(function(){return LT()}).catch(function(t){VT||console.warn(t)});var S3=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];VT=!0;var s=Date.now();return LT().then(function(i){return T3(i,n,s)})},UT={exports:{}},N3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",I3=N3,C3=I3;function FT(){}function zT(){}zT.resetWarningCache=FT;var A3=function(){function t(r,s,i,a,o,c){if(c!==C3){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zT,resetWarningCache:FT};return n.PropTypes=n,n};UT.exports=A3();var R3=UT.exports;const tt=Kd(R3);function Xw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Zw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xw(Object(n),!0).forEach(function(r){$T(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qu(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qu=function(e){return typeof e}:qu=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function $T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BT(t,e){return P3(t)||j3(t,e)||D3(t,e)||O3()}function P3(t){if(Array.isArray(t))return t}function j3(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],s=!0,i=!1,a,o;try{for(n=n.call(t);!(s=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(c){i=!0,o=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw o}}return r}}function D3(t,e){if(t){if(typeof t=="string")return Jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jw(t,e)}}function Jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var kn=function(e,n,r){var s=!!r,i=$.useRef(r);$.useEffect(function(){i.current=r},[r]),$.useEffect(function(){if(!s||!e)return function(){};var a=function(){i.current&&i.current.apply(i,arguments)};return e.on(n,a),function(){e.off(n,a)}},[s,n,e,i])},kp=function(e){var n=$.useRef(e);return $.useEffect(function(){n.current=e},[e]),n.current},mo=function(e){return e!==null&&qu(e)==="object"},M3=function(e){return mo(e)&&typeof e.then=="function"},V3=function(e){return mo(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},e_="[object Object]",L3=function t(e,n){if(!mo(e)||!mo(n))return e===n;var r=Array.isArray(e),s=Array.isArray(n);if(r!==s)return!1;var i=Object.prototype.toString.call(e)===e_,a=Object.prototype.toString.call(n)===e_;if(i!==a)return!1;if(!i&&!r)return e===n;var o=Object.keys(e),c=Object.keys(n);if(o.length!==c.length)return!1;for(var d={},h=0;h<o.length;h+=1)d[o[h]]=!0;for(var m=0;m<c.length;m+=1)d[c[m]]=!0;var p=Object.keys(d);if(p.length!==o.length)return!1;var g=e,I=n,C=function(k){return t(g[k],I[k])};return p.every(C)},WT=function(e,n,r){return mo(e)?Object.keys(e).reduce(function(s,i){var a=!mo(n)||!L3(e[i],n[i]);return r.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):a?Zw(Zw({},s||{}),{},$T({},i,e[i])):s},null):null},qT="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",t_=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qT;if(e===null||V3(e))return e;throw new Error(n)},U3=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qT;if(M3(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return t_(s,n)})};var r=t_(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},F3=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},Vh=$.createContext(null);Vh.displayName="ElementsContext";var HT=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},GT=function(e){var n=e.stripe,r=e.options,s=e.children,i=$.useMemo(function(){return U3(n)},[n]),a=$.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),o=BT(a,2),c=o[0],d=o[1];$.useEffect(function(){var p=!0,g=function(C){d(function(S){return S.stripe?S:{stripe:C,elements:C.elements(r)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(I){I&&p&&g(I)}):i.tag==="sync"&&!c.stripe&&g(i.stripe),function(){p=!1}},[i,c,r]);var h=kp(n);$.useEffect(function(){h!==null&&h!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,n]);var m=kp(r);return $.useEffect(function(){if(c.elements){var p=WT(r,m,["clientSecret","fonts"]);p&&c.elements.update(p)}},[r,m,c.elements]),$.useEffect(function(){F3(c.stripe)},[c.stripe]),$.createElement(Vh.Provider,{value:c},s)};GT.propTypes={stripe:tt.any,options:tt.object};var z3=function(e){var n=$.useContext(Vh);return HT(n,e)},$3=function(){var e=z3("calls useElements()"),n=e.elements;return n};tt.func.isRequired;var KT=$.createContext(null);KT.displayName="CustomCheckoutSdkContext";var B3=function(e,n){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CustomCheckoutProvider> provider."));return e},W3=$.createContext(null);W3.displayName="CustomCheckoutContext";tt.any,tt.shape({clientSecret:tt.string.isRequired,elementsOptions:tt.object}).isRequired;var Tp=function(e){var n=$.useContext(KT),r=$.useContext(Vh);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?B3(n,e):HT(r,e)},q3=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},kt=function(e,n){var r="".concat(q3(e),"Element"),s=function(c){var d=c.id,h=c.className,m=c.options,p=m===void 0?{}:m,g=c.onBlur,I=c.onFocus,C=c.onReady,S=c.onChange,k=c.onEscape,x=c.onClick,w=c.onLoadError,j=c.onLoaderStart,P=c.onNetworksChange,O=c.onConfirm,b=c.onCancel,y=c.onShippingAddressChange,E=c.onShippingRateChange,T=Tp("mounts <".concat(r,">")),A="elements"in T?T.elements:null,R="customCheckoutSdk"in T?T.customCheckoutSdk:null,N=$.useState(null),ie=BT(N,2),te=ie[0],fe=ie[1],q=$.useRef(null),W=$.useRef(null);kn(te,"blur",g),kn(te,"focus",I),kn(te,"escape",k),kn(te,"click",x),kn(te,"loaderror",w),kn(te,"loaderstart",j),kn(te,"networkschange",P),kn(te,"confirm",O),kn(te,"cancel",b),kn(te,"shippingaddresschange",y),kn(te,"shippingratechange",E),kn(te,"change",S);var L;C&&(e==="expressCheckout"?L=C:L=function(){C(te)}),kn(te,"ready",L),$.useLayoutEffect(function(){if(q.current===null&&W.current!==null&&(A||R)){var le=null;R?le=R.createElement(e,p):A&&(le=A.create(e,p)),q.current=le,fe(le),le&&le.mount(W.current)}},[A,R,p]);var Y=kp(p);return $.useEffect(function(){if(q.current){var le=WT(p,Y,["paymentRequest"]);le&&"update"in q.current&&q.current.update(le)}},[p,Y]),$.useLayoutEffect(function(){return function(){if(q.current&&typeof q.current.destroy=="function")try{q.current.destroy(),q.current=null}catch{}}},[]),$.createElement("div",{id:d,className:h,ref:W})},i=function(c){Tp("mounts <".concat(r,">"));var d=c.id,h=c.className;return $.createElement("div",{id:d,className:h})},a=n?i:s;return a.propTypes={id:tt.string,className:tt.string,onChange:tt.func,onBlur:tt.func,onFocus:tt.func,onReady:tt.func,onEscape:tt.func,onClick:tt.func,onLoadError:tt.func,onLoaderStart:tt.func,onNetworksChange:tt.func,onConfirm:tt.func,onCancel:tt.func,onShippingAddressChange:tt.func,onShippingRateChange:tt.func,options:tt.object},a.displayName=r,a.__elementType=e,a},Tt=typeof window>"u",H3=$.createContext(null);H3.displayName="EmbeddedCheckoutProviderContext";var G3=function(){var e=Tp("calls useStripe()"),n=e.stripe;return n};kt("auBankAccount",Tt);var n_=kt("card",Tt);kt("cardNumber",Tt);kt("cardExpiry",Tt);kt("cardCvc",Tt);kt("fpxBank",Tt);kt("iban",Tt);kt("idealBank",Tt);kt("p24Bank",Tt);kt("epsBank",Tt);kt("payment",Tt);kt("expressCheckout",Tt);kt("currencySelector",Tt);kt("paymentRequestButton",Tt);kt("linkAuthentication",Tt);kt("address",Tt);kt("shippingAddress",Tt);kt("paymentMethodMessaging",Tt);kt("affirmMessage",Tt);kt("afterpayClearpayMessage",Tt);const K3=S3("your-stripe-publishable-key"),Q3=[{id:"basic-monthly",name:"Bsico",description:"Comece sua jornada com recursos essenciais",price:49,currency:"BRL",interval:"month",features:["Acesso s trilhas iniciantes","Trackers bsicos","Comunidade pblica","Suporte por email","Plano de 90 dias bsico"]},{id:"premium-monthly",name:"Premium",description:"Acesso completo para transformao acelerada",price:79,currency:"BRL",interval:"month",isPopular:!0,features:["Acesso a todas as trilhas","Trackers avanados","Comunidade premium","Suporte prioritrio","Plano de 90 dias personalizado","IA para gerao de dietas","Anlise de treinos por PDF","Contedo exclusivo mensal"]},{id:"premium-yearly",name:"Premium Anual",description:"Economize 2 meses com plano anual",price:790,currency:"BRL",interval:"year",features:["Tudo do Premium Mensal","2 meses grtis","Sesses Q&A mensais","Acesso antecipado a novos recursos","Desafios exclusivos com prmios"]}];function Y3({plan:t,onSuccess:e}){const n=G3(),r=$3(),[s,i]=U.useState(!1),[a,o]=U.useState(null),c=async d=>{var h;if(d.preventDefault(),!(!n||!r)){i(!0),o(null);try{const m=await fetch("/api/create-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:t.id,price:t.price,currency:t.currency,interval:t.interval})}),{clientSecret:p}=await m.json(),g=await n.confirmCardPayment(p,{payment_method:{card:r.getElement(n_),billing_details:{name:"Nome do Usurio",email:"usuario@email.com"}}});g.error?(o(g.error.message||"Erro no pagamento"),Ft.error("Erro no pagamento: "+g.error.message)):((h=g.paymentIntent)==null?void 0:h.status)==="succeeded"&&(Ft.success("Assinatura criada com sucesso!"),e())}catch(m){o(m.message||"Erro ao processar pagamento"),Ft.error("Erro ao processar pagamento")}finally{i(!1)}}};return l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dados do carto"}),l.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-white",children:l.jsx(n_,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})})]}),a&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[l.jsx(V5,{className:"h-5 w-5"}),l.jsx("span",{className:"text-sm",children:a})]}),l.jsx("button",{type:"submit",disabled:!n||s,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"Processando..."})]}):l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx($5,{className:"h-4 w-4"}),l.jsxs("span",{children:["Assinar por ",t.currency==="BRL"?"R$":"$",t.price,"/",t.interval==="month"?"ms":"ano"]})]})})]})}function X3(){const[t,e]=U.useState(null),[n,r]=U.useState(!1),s=a=>{e(a),r(!0)},i=()=>{r(!1),e(null),window.location.href="/dashboard?subscription=success"};return n&&t?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"max-w-md w-full",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("button",{onClick:()=>r(!1),className:"text-blue-600 hover:text-blue-700 text-sm font-medium mb-4",children:" Voltar para planos"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Finalizar assinatura"}),l.jsxs("p",{className:"text-gray-600",children:["Plano selecionado: ",l.jsx("span",{className:"font-medium",children:t.name})]})]}),l.jsx(GT,{stripe:K3,children:l.jsx(Y3,{plan:t,onSuccess:i})}),l.jsxs("div",{className:"mt-6 text-xs text-gray-500 text-center",children:[l.jsx("p",{children:"Seus dados esto protegidos com criptografia SSL."}),l.jsx("p",{children:"Voc pode cancelar a qualquer momento."})]})]})})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Escolha seu plano"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Comece sua jornada de evoluo com o plano que melhor se adapta s suas necessidades"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:Q3.map(a=>l.jsxs("div",{className:`relative bg-white rounded-xl shadow-lg p-8 border-2 transition-all hover:shadow-xl ${a.isPopular?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:[a.isPopular&&l.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:l.jsx("span",{className:"bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Mais popular"})}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:a.name}),l.jsx("p",{className:"text-gray-600 mb-4",children:a.description}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:[a.currency==="BRL"?"R$":"$",a.price]}),l.jsxs("span",{className:"text-gray-600",children:["/",a.interval==="month"?"ms":"ano"]})]})]}),l.jsx("ul",{className:"space-y-3 mb-8",children:a.features.map((o,c)=>l.jsxs("li",{className:"flex items-start space-x-3",children:[l.jsx(F5,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),l.jsx("span",{className:"text-gray-700",children:o})]},c))}),l.jsx("button",{onClick:()=>s(a),className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${a.isPopular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:"Escolher plano"})]},a.id))}),l.jsxs("div",{className:"mt-16 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Perguntas frequentes"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto text-left",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Posso cancelar a qualquer momento?"}),l.jsx("p",{className:"text-gray-600",children:"Sim! Voc pode cancelar sua assinatura a qualquer momento sem multas ou taxas adicionais."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"H perodo de teste?"}),l.jsx("p",{className:"text-gray-600",children:"Oferecemos 7 dias grtis para novos usurios experimentarem todas as funcionalidades."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Como funciona o plano anual?"}),l.jsx("p",{className:"text-gray-600",children:"O plano anual oferece 2 meses grtis - voc paga por 10 meses e usa por 12."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Posso mudar de plano depois?"}),l.jsx("p",{className:"text-gray-600",children:"Sim! Voc pode fazer upgrade ou downgrade do seu plano a qualquer momento."})]})]})]})]})})}var Z3={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},J3=function(e,n,r){var s,i=Z3[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",String(n)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+s:"h "+s:s},e6={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},t6={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},n6={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},r6={date:qa({formats:e6,defaultWidth:"full"}),time:qa({formats:t6,defaultWidth:"full"}),dateTime:qa({formats:n6,defaultWidth:"full"})},s6={lastWeek:function(e){var n=e.getUTCDay(),r=n===0||n===6?"ltimo":"ltima";return"'"+r+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},i6=function(e,n,r,s){var i=s6[e];return typeof i=="function"?i(n):i},a6={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},o6={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},l6={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},c6={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},u6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},d6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},h6=function(e,n){var r=Number(e);return(n==null?void 0:n.unit)==="week"?r+"":r+""},f6={ordinalNumber:h6,era:_r({values:a6,defaultWidth:"wide"}),quarter:_r({values:o6,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:_r({values:l6,defaultWidth:"wide"}),day:_r({values:c6,defaultWidth:"wide"}),dayPeriod:_r({values:u6,defaultWidth:"wide",formattingValues:d6,defaultFormattingWidth:"wide"})},m6=/^(\d+)[o]?/i,p6=/\d+/i,g6={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},v6={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},y6={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},x6={any:[/1/i,/2/i,/3/i,/4/i]},w6={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},_6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},b6={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},E6={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},k6={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},T6={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},S6={ordinalNumber:wT({matchPattern:m6,parsePattern:p6,valueCallback:function(e){return parseInt(e,10)}}),era:br({matchPatterns:g6,defaultMatchWidth:"wide",parsePatterns:v6,defaultParseWidth:"any"}),quarter:br({matchPatterns:y6,defaultMatchWidth:"wide",parsePatterns:x6,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:br({matchPatterns:w6,defaultMatchWidth:"wide",parsePatterns:_6,defaultParseWidth:"any"}),day:br({matchPatterns:b6,defaultMatchWidth:"wide",parsePatterns:E6,defaultParseWidth:"any"}),dayPeriod:br({matchPatterns:k6,defaultMatchWidth:"any",parsePatterns:T6,defaultParseWidth:"any"})},aa={code:"pt-BR",formatDistance:J3,formatLong:r6,formatRelative:i6,localize:f6,match:S6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function N6(){var O,b,y,E,T,A,R,N,ie,te,fe;const{user:t}=Hn(),{trackers:e,loadTrackers:n,saveTrackerValue:r}=mi(),[s,i]=U.useState(new Date),[a,o]=U.useState(""),[c,d]=U.useState(""),[h,m]=U.useState("");U.useEffect(()=>{t&&n(t.id)},[t,n]);const p=ye(s,"yyyy-MM-dd"),g=e.find(q=>q.date===p&&q.type==="workout"),I=e.find(q=>q.date===p&&q.type==="sleep"),C=e.find(q=>q.date===p&&q.type==="diet"),S=async()=>{!t||!a||!c||(await r(t.id,p,"workout",{completed:!0,type:a,duration:parseInt(c),timestamp:new Date().toISOString()}),o(""),d(""))},k=async()=>{!t||!h||(await r(t.id,p,"sleep",{completed:!0,hours:parseFloat(h),timestamp:new Date().toISOString()}),m(""))},x=async q=>{t&&await r(t.id,p,"diet",{completed:q!=="none",status:q,timestamp:new Date().toISOString()})},w=pi(new Date,{weekStartsOn:1}),j=vi(new Date,{weekStartsOn:1}),P=gi({start:w,end:j});return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Corpo & Vitalidade"}),l.jsx("p",{className:"text-zinc-400",children:"Monitore e otimize sua mquina biolgica."})]}),l.jsx("div",{className:"flex items-center space-x-2 bg-dark-850 p-1 rounded-lg border border-white/10",children:[-2,-1,0].map(q=>{const W=ia(new Date,Math.abs(q)),L=ln(W,s);return l.jsx("button",{onClick:()=>i(W),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${L?"bg-dark-700 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:q===0?"Hoje":ye(W,"dd/MM")},q)})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg",children:l.jsx($u,{className:"h-5 w-5 text-red-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Treino"})]}),((O=g==null?void 0:g.value)==null?void 0:O.completed)&&l.jsx(wt,{className:"h-5 w-5 text-green-500"})]}),l.jsx("div",{className:"p-6",children:(b=g==null?void 0:g.value)!=null&&b.completed?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-500/10 mb-4",children:l.jsx($u,{className:"h-8 w-8 text-green-500"})}),l.jsx("h3",{className:"text-white font-medium mb-1",children:g.value.type}),l.jsxs("p",{className:"text-zinc-500",children:[g.value.duration," minutos"]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Tipo de Treino"}),l.jsxs("select",{value:a,onChange:q=>o(q.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 outline-none transition-all",children:[l.jsx("option",{value:"",children:"Selecione..."}),l.jsx("option",{value:"Musculao",children:"Musculao"}),l.jsx("option",{value:"Cardio",children:"Cardio"}),l.jsx("option",{value:"HIIT",children:"HIIT"}),l.jsx("option",{value:"Artes Marciais",children:"Artes Marciais"}),l.jsx("option",{value:"Yoga/Mobilidade",children:"Yoga/Mobilidade"}),l.jsx("option",{value:"Esporte",children:"Esporte"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Durao (minutos)"}),l.jsx("input",{type:"number",value:c,onChange:q=>d(q.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 outline-none transition-all",placeholder:"Ex: 45"})]}),l.jsxs("button",{onClick:S,disabled:!a||!c,className:"w-full bg-red-600 hover:bg-red-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[l.jsx(Dr,{className:"h-4 w-4"}),l.jsx("span",{children:"Registrar Treino"})]})]})})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:l.jsx(iM,{className:"h-5 w-5 text-green-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Nutrio"})]}),((y=C==null?void 0:C.value)==null?void 0:y.completed)&&l.jsx(wt,{className:"h-5 w-5 text-green-500"})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Como foi sua alimentao hoje em relao ao planejado?"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>x("full"),className:`w-full p-4 rounded-xl border text-left transition-all flex items-center justify-between ${((E=C==null?void 0:C.value)==null?void 0:E.status)==="full"?"bg-green-500/10 border-green-500/50 text-white":"bg-dark-900 border-white/5 text-zinc-400 hover:bg-dark-800"}`,children:[l.jsx("span",{children:"100% Limpo"}),((T=C==null?void 0:C.value)==null?void 0:T.status)==="full"&&l.jsx(wt,{className:"h-4 w-4 text-green-500"})]}),l.jsxs("button",{onClick:()=>x("partial"),className:`w-full p-4 rounded-xl border text-left transition-all flex items-center justify-between ${((A=C==null?void 0:C.value)==null?void 0:A.status)==="partial"?"bg-yellow-500/10 border-yellow-500/50 text-white":"bg-dark-900 border-white/5 text-zinc-400 hover:bg-dark-800"}`,children:[l.jsx("span",{children:"Parcial / Deslize Leve"}),((R=C==null?void 0:C.value)==null?void 0:R.status)==="partial"&&l.jsx(wt,{className:"h-4 w-4 text-yellow-500"})]}),l.jsxs("button",{onClick:()=>x("none"),className:`w-full p-4 rounded-xl border text-left transition-all flex items-center justify-between ${((N=C==null?void 0:C.value)==null?void 0:N.status)==="none"?"bg-red-500/10 border-red-500/50 text-white":"bg-dark-900 border-white/5 text-zinc-400 hover:bg-dark-800"}`,children:[l.jsx("span",{children:"Fora do Plano"}),((ie=C==null?void 0:C.value)==null?void 0:ie.status)==="none"&&l.jsx(wt,{className:"h-4 w-4 text-red-500"})]})]})]})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-indigo-500/10 rounded-lg",children:l.jsx(uw,{className:"h-5 w-5 text-indigo-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Sono"})]}),((te=I==null?void 0:I.value)==null?void 0:te.completed)&&l.jsx(wt,{className:"h-5 w-5 text-green-500"})]}),l.jsx("div",{className:"p-6",children:(fe=I==null?void 0:I.value)!=null&&fe.completed?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-indigo-500/10 mb-4",children:l.jsx(uw,{className:"h-8 w-8 text-indigo-500"})}),l.jsxs("h3",{className:"text-white font-medium mb-1",children:[I.value.hours," horas"]}),l.jsx("p",{className:"text-zinc-500",children:"Registrado"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Horas de Sono"}),l.jsx("input",{type:"number",step:"0.5",value:h,onChange:q=>m(q.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 outline-none transition-all",placeholder:"Ex: 7.5"})]}),l.jsxs("button",{onClick:k,disabled:!h,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[l.jsx(Dr,{className:"h-4 w-4"}),l.jsx("span",{children:"Registrar Sono"})]})]})})]})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-medium text-white",children:"Consistncia Semanal"}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-zinc-500",children:[l.jsx(ls,{className:"h-4 w-4"}),l.jsxs("span",{children:[ye(w,"dd/MM")," - ",ye(j,"dd/MM")]})]})]}),l.jsx("div",{className:"grid grid-cols-7 gap-2",children:P.map(q=>{var le,se;const W=ye(q,"yyyy-MM-dd"),L=e.find(he=>he.date===W&&he.type==="workout"),Y=ln(q,new Date);return l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("span",{className:`text-xs ${Y?"text-white font-bold":"text-zinc-500"}`,children:ye(q,"EEE",{locale:aa}).slice(0,3)}),l.jsx("div",{className:`w-full aspect-square rounded-lg flex items-center justify-center border transition-all ${(le=L==null?void 0:L.value)!=null&&le.completed?"bg-red-500/20 border-red-500/50 text-red-400":"bg-dark-900 border-white/5 text-zinc-700"}`,children:((se=L==null?void 0:L.value)==null?void 0:se.completed)&&l.jsx($u,{className:"h-4 w-4"})})]},W)})})]})]})}function I6(){var N,ie,te,fe,q,W;const{user:t}=Hn(),{trackers:e,loadTrackers:n,saveTrackerValue:r}=mi(),[s,i]=U.useState(new Date),[a,o]=U.useState(""),[c,d]=U.useState(""),[h,m]=U.useState(10*60),[p,g]=U.useState(10*60),[I,C]=U.useState(!1);U.useEffect(()=>{t&&n(t.id)},[t,n]),U.useEffect(()=>{let L;return I&&p>0?L=setInterval(()=>{g(Y=>Y-1)},1e3):p===0&&(C(!1),j()),()=>clearInterval(L)},[I,p]);const S=ye(s,"yyyy-MM-dd"),k=e.find(L=>L.date===S&&L.type==="meditation"),x=e.find(L=>L.date===S&&L.type==="reading"),w=e.find(L=>L.date===S&&L.type==="journal"),j=async()=>{if(!t)return;const L=Math.floor(h/60);await r(t.id,S,"meditation",{completed:!0,duration:L,timestamp:new Date().toISOString()})},P=async()=>{!t||!a||(await r(t.id,S,"reading",{completed:!0,pages:parseInt(a),timestamp:new Date().toISOString()}),o(""))},O=async()=>{!t||!c||(await r(t.id,S,"journal",{completed:!0,content:c,timestamp:new Date().toISOString()}),d(""))},b=L=>{const Y=Math.floor(L/60),le=L%60;return`${Y}:${le.toString().padStart(2,"0")}`},y=()=>C(!I),E=()=>{C(!1),g(h)},T=pi(new Date,{weekStartsOn:1}),A=vi(new Date,{weekStartsOn:1}),R=gi({start:T,end:A});return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Mente & Intelecto"}),l.jsx("p",{className:"text-zinc-400",children:"Expanda sua conscincia e capacidade cognitiva."})]}),l.jsx("div",{className:"flex items-center space-x-2 bg-dark-850 p-1 rounded-lg border border-white/10",children:[-2,-1,0].map(L=>{const Y=ia(new Date,Math.abs(L)),le=ln(Y,s);return l.jsx("button",{onClick:()=>i(Y),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${le?"bg-dark-700 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:L===0?"Hoje":ye(Y,"dd/MM")},L)})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:l.jsx(zu,{className:"h-5 w-5 text-blue-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Meditao"})]}),((N=k==null?void 0:k.value)==null?void 0:N.completed)&&l.jsx(wt,{className:"h-5 w-5 text-green-500"})]}),l.jsx("div",{className:"p-6",children:(ie=k==null?void 0:k.value)!=null&&ie.completed?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-500/10 mb-4",children:l.jsx(zu,{className:"h-8 w-8 text-blue-500"})}),l.jsx("h3",{className:"text-white font-medium mb-1",children:"Concludo"}),l.jsxs("p",{className:"text-zinc-500",children:[k.value.duration," minutos de foco"]})]}):l.jsxs("div",{className:"text-center space-y-6",children:[l.jsx("div",{className:"text-5xl font-mono font-light text-white tracking-wider",children:b(p)}),l.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[l.jsx("button",{onClick:y,className:`p-4 rounded-full transition-all ${I?"bg-dark-800 text-zinc-400 hover:bg-dark-700":"bg-blue-600 text-white hover:bg-blue-500 shadow-lg shadow-blue-500/20"}`,children:I?l.jsx(Q5,{className:"h-6 w-6"}):l.jsx(Sv,{className:"h-6 w-6 ml-1"})}),l.jsx("button",{onClick:E,className:"p-4 rounded-full bg-dark-800 text-zinc-400 hover:bg-dark-700 transition-all",children:l.jsx(X5,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"flex justify-center space-x-2",children:[5,10,15,20].map(L=>l.jsxs("button",{onClick:()=>{m(L*60),g(L*60),C(!1)},className:`px-3 py-1 rounded text-xs font-medium transition-all ${h===L*60?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-dark-900 text-zinc-500 border border-white/5 hover:border-white/10"}`,children:[L,"min"]},L))})]})})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg",children:l.jsx(Od,{className:"h-5 w-5 text-amber-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Leitura"})]}),((te=x==null?void 0:x.value)==null?void 0:te.completed)&&l.jsx(wt,{className:"h-5 w-5 text-green-500"})]}),l.jsx("div",{className:"p-6",children:(fe=x==null?void 0:x.value)!=null&&fe.completed?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-amber-500/10 mb-4",children:l.jsx(Od,{className:"h-8 w-8 text-amber-500"})}),l.jsxs("h3",{className:"text-white font-medium mb-1",children:[x.value.pages," pginas"]}),l.jsx("p",{className:"text-zinc-500",children:"Conhecimento absorvido"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Pginas Lidas"}),l.jsx("input",{type:"number",value:a,onChange:L=>o(L.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500/50 outline-none transition-all",placeholder:"Ex: 20"})]}),l.jsxs("button",{onClick:P,disabled:!a,className:"w-full bg-amber-600 hover:bg-amber-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[l.jsx(Dr,{className:"h-4 w-4"}),l.jsx("span",{children:"Registrar Leitura"})]})]})})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:l.jsx(Md,{className:"h-5 w-5 text-emerald-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Dirio"})]}),((q=w==null?void 0:w.value)==null?void 0:q.completed)&&l.jsx(wt,{className:"h-5 w-5 text-green-500"})]}),l.jsx("div",{className:"p-6",children:(W=w==null?void 0:w.value)!=null&&W.completed?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-emerald-500/10 mb-4",children:l.jsx(Md,{className:"h-8 w-8 text-emerald-500"})}),l.jsx("h3",{className:"text-white font-medium mb-1",children:"Reflexo Registrada"}),l.jsxs("p",{className:"text-zinc-500 line-clamp-2 px-4 italic",children:['"',w.value.content,'"']})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Reflexo do Dia"}),l.jsx("textarea",{value:c,onChange:L=>d(L.target.value),rows:4,className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 outline-none transition-all resize-none",placeholder:"Como est sua mente hoje? O que voc aprendeu?"})]}),l.jsxs("button",{onClick:O,disabled:!c,className:"w-full bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[l.jsx(Dr,{className:"h-4 w-4"}),l.jsx("span",{children:"Salvar Reflexo"})]})]})})]})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-medium text-white",children:"Consistncia Mental"}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-zinc-500",children:[l.jsx(ls,{className:"h-4 w-4"}),l.jsxs("span",{children:[ye(T,"dd/MM")," - ",ye(A,"dd/MM")]})]})]}),l.jsx("div",{className:"grid grid-cols-7 gap-2",children:R.map(L=>{var he,Te;const Y=ye(L,"yyyy-MM-dd"),le=e.find(De=>De.date===Y&&De.type==="meditation"),se=ln(L,new Date);return l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("span",{className:`text-xs ${se?"text-white font-bold":"text-zinc-500"}`,children:ye(L,"EEE",{locale:aa}).slice(0,3)}),l.jsx("div",{className:`w-full aspect-square rounded-lg flex items-center justify-center border transition-all ${(he=le==null?void 0:le.value)!=null&&he.completed?"bg-blue-500/20 border-blue-500/50 text-blue-400":"bg-dark-900 border-white/5 text-zinc-700"}`,children:((Te=le==null?void 0:le.value)==null?void 0:Te.completed)&&l.jsx(zu,{className:"h-4 w-4"})})]},Y)})})]})]})}function C6(){var C,S,k,x,w;const{user:t}=Hn(),{trackers:e,loadTrackers:n,saveTrackerValue:r}=mi(),[s,i]=U.useState(new Date),[a,o]=U.useState("");U.useEffect(()=>{t&&n(t.id)},[t,n]);const c=ye(s,"yyyy-MM-dd"),d=e.find(j=>j.date===c&&j.type==="posture"),h=async()=>{var O,b;if(!t)return;const j=((O=d==null?void 0:d.value)==null?void 0:O.checks)||0,P=((b=d==null?void 0:d.value)==null?void 0:b.stretchingDuration)||0;await r(t.id,c,"posture",{completed:!0,checks:j+1,stretchingDuration:P,timestamp:new Date().toISOString()})},m=async()=>{var P;if(!t||!a)return;const j=((P=d==null?void 0:d.value)==null?void 0:P.checks)||0;await r(t.id,c,"posture",{completed:!0,checks:j,stretchingDuration:parseInt(a),timestamp:new Date().toISOString()}),o("")},p=pi(new Date,{weekStartsOn:1}),g=vi(new Date,{weekStartsOn:1}),I=gi({start:p,end:g});return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Postura & Presena"}),l.jsx("p",{className:"text-zinc-400",children:"Sua linguagem corporal define sua realidade."})]}),l.jsx("div",{className:"flex items-center space-x-2 bg-dark-850 p-1 rounded-lg border border-white/10",children:[-2,-1,0].map(j=>{const P=ia(new Date,Math.abs(j)),O=ln(P,s);return l.jsx("button",{onClick:()=>i(P),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${O?"bg-dark-700 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:j===0?"Hoje":ye(P,"dd/MM")},j)})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg",children:l.jsx(dp,{className:"h-5 w-5 text-amber-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Check de Postura"})]}),(((C=d==null?void 0:d.value)==null?void 0:C.checks)||0)>0&&l.jsxs("div",{className:"flex items-center space-x-1 text-amber-500",children:[l.jsx("span",{className:"font-bold text-lg",children:(S=d==null?void 0:d.value)==null?void 0:S.checks}),l.jsx("span",{className:"text-xs uppercase",children:"checks"})]})]}),l.jsxs("div",{className:"p-6 text-center",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-amber-500/10 mb-4 relative group cursor-pointer",onClick:h,children:[l.jsx("div",{className:"absolute inset-0 rounded-full bg-amber-500/20 animate-ping opacity-0 group-hover:opacity-100 transition-opacity duration-1000"}),l.jsx(lp,{className:"h-10 w-10 text-amber-500 transform group-hover:-translate-y-1 transition-transform duration-300"})]}),l.jsx("h3",{className:"text-white font-medium mb-1",children:"Corrija sua Postura"}),l.jsx("p",{className:"text-zinc-500 text-sm max-w-xs mx-auto",children:"Coluna ereta, ombros para trs, peito aberto. Respire fundo."})]}),l.jsxs("button",{onClick:h,className:"w-full bg-amber-600 hover:bg-amber-500 text-white font-medium py-3 rounded-xl transition-all shadow-lg shadow-amber-500/20 flex items-center justify-center space-x-2",children:[l.jsx(wt,{className:"h-5 w-5"}),l.jsx("span",{children:"Registrar Check (+1)"})]})]})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:l.jsx(ow,{className:"h-5 w-5 text-emerald-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Alongamento"})]}),(((k=d==null?void 0:d.value)==null?void 0:k.stretchingDuration)||0)>0&&l.jsx(wt,{className:"h-5 w-5 text-green-500"})]}),l.jsx("div",{className:"p-6",children:(((x=d==null?void 0:d.value)==null?void 0:x.stretchingDuration)||0)>0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-emerald-500/10 mb-4",children:l.jsx(ow,{className:"h-8 w-8 text-emerald-500"})}),l.jsxs("h3",{className:"text-white font-medium mb-1",children:[(w=d==null?void 0:d.value)==null?void 0:w.stretchingDuration," minutos"]}),l.jsx("p",{className:"text-zinc-500",children:"Flexibilidade trabalhada"}),l.jsx("button",{onClick:()=>o(""),className:"mt-4 text-xs text-zinc-500 hover:text-white underline",children:"Atualizar"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Durao (minutos)"}),l.jsx("input",{type:"number",value:a,onChange:j=>o(j.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 outline-none transition-all",placeholder:"Ex: 15"})]}),l.jsxs("button",{onClick:m,disabled:!a,className:"w-full bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[l.jsx(Dr,{className:"h-4 w-4"}),l.jsx("span",{children:"Registrar Sesso"})]})]})})]})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-medium text-white",children:"Consistncia Postural"}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-zinc-500",children:[l.jsx(ls,{className:"h-4 w-4"}),l.jsxs("span",{children:[ye(p,"dd/MM")," - ",ye(g,"dd/MM")]})]})]}),l.jsx("div",{className:"grid grid-cols-7 gap-2",children:I.map(j=>{var E,T;const P=ye(j,"yyyy-MM-dd"),O=e.find(A=>A.date===P&&A.type==="posture"),b=ln(j,new Date),y=(((E=O==null?void 0:O.value)==null?void 0:E.checks)||0)>0||(((T=O==null?void 0:O.value)==null?void 0:T.stretchingDuration)||0)>0;return l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("span",{className:`text-xs ${b?"text-white font-bold":"text-zinc-500"}`,children:ye(j,"EEE",{locale:aa}).slice(0,3)}),l.jsx("div",{className:`w-full aspect-square rounded-lg flex items-center justify-center border transition-all ${y?"bg-amber-500/20 border-amber-500/50 text-amber-400":"bg-dark-900 border-white/5 text-zinc-700"}`,children:y&&l.jsx(dp,{className:"h-4 w-4"})})]},P)})})]})]})}function A6(){var x,w,j,P,O,b,y,E,T;const{user:t}=Hn(),{trackers:e,loadTrackers:n,saveTrackerValue:r}=mi(),[s,i]=U.useState(new Date),[a,o]=U.useState(null),[c,d]=U.useState("");U.useEffect(()=>{t&&n(t.id)},[t,n]);const h=ye(s,"yyyy-MM-dd"),m=e.find(A=>A.date===h&&A.type==="affective"),p=async A=>{var ie,te;if(!t)return;const R=((ie=m==null?void 0:m.value)==null?void 0:ie.journal)||"",N=((te=m==null?void 0:m.value)==null?void 0:te.dateNight)||!1;await r(t.id,h,"affective",{completed:!0,emotionalState:A,journal:R,dateNight:N,timestamp:new Date().toISOString()}),o(A)},g=async()=>{var N,ie;if(!t||!c)return;const A=((N=m==null?void 0:m.value)==null?void 0:N.emotionalState)||a,R=((ie=m==null?void 0:m.value)==null?void 0:ie.dateNight)||!1;await r(t.id,h,"affective",{completed:!0,emotionalState:A,journal:c,dateNight:R,timestamp:new Date().toISOString()}),d("")},I=async()=>{var ie,te,fe;if(!t)return;const A=((ie=m==null?void 0:m.value)==null?void 0:ie.emotionalState)||a,R=((te=m==null?void 0:m.value)==null?void 0:te.journal)||"",N=((fe=m==null?void 0:m.value)==null?void 0:fe.dateNight)||!1;await r(t.id,h,"affective",{completed:!0,emotionalState:A,journal:R,dateNight:!N,timestamp:new Date().toISOString()})},C=pi(new Date,{weekStartsOn:1}),S=vi(new Date,{weekStartsOn:1}),k=gi({start:C,end:S});return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Vida Afetiva"}),l.jsx("p",{className:"text-zinc-400",children:"Cultive conexes profundas e inteligncia emocional."})]}),l.jsx("div",{className:"flex items-center space-x-2 bg-dark-850 p-1 rounded-lg border border-white/10",children:[-2,-1,0].map(A=>{const R=ia(new Date,Math.abs(A)),N=ln(R,s);return l.jsx("button",{onClick:()=>i(R),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${N?"bg-dark-700 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:A===0?"Hoje":ye(R,"dd/MM")},A)})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-pink-500/10 rounded-lg",children:l.jsx(tM,{className:"h-5 w-5 text-pink-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Estado Emocional"})]}),((x=m==null?void 0:m.value)==null?void 0:x.emotionalState)&&l.jsxs("div",{className:"flex items-center space-x-1 text-pink-500",children:[l.jsx("span",{className:"font-bold text-lg",children:m.value.emotionalState}),l.jsx("span",{className:"text-xs",children:"/10"})]})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("p",{className:"text-zinc-400 text-sm mb-6 text-center",children:"Como voc se sente hoje? (1-10)"}),l.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5,6,7,8,9,10].map(A=>{var N;const R=((N=m==null?void 0:m.value)==null?void 0:N.emotionalState)===A;return l.jsx("button",{onClick:()=>p(A),className:`aspect-square rounded-lg font-medium transition-all ${R?"bg-pink-500 text-white shadow-lg shadow-pink-500/30":"bg-dark-900 text-zinc-500 hover:bg-dark-800 hover:text-pink-400"}`,children:A},A)})})]})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg",children:l.jsx(Wa,{className:"h-5 w-5 text-red-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Tempo de Qualidade"})]}),((w=m==null?void 0:m.value)==null?void 0:w.dateNight)&&l.jsx(wt,{className:"h-5 w-5 text-green-500"})]}),l.jsxs("div",{className:"p-6 text-center",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:`inline-flex items-center justify-center w-24 h-24 rounded-full mb-4 relative group cursor-pointer transition-all ${(j=m==null?void 0:m.value)!=null&&j.dateNight?"bg-red-500/20":"bg-dark-900 hover:bg-dark-800"}`,onClick:I,children:l.jsx(Wa,{className:`h-10 w-10 transition-all ${(P=m==null?void 0:m.value)!=null&&P.dateNight?"text-red-500 fill-red-500":"text-zinc-600 group-hover:text-red-400"}`})}),l.jsx("h3",{className:"text-white font-medium mb-1",children:(O=m==null?void 0:m.value)!=null&&O.dateNight?"Conexo Registrada":"Registrar Conexo"}),l.jsx("p",{className:"text-zinc-500 text-sm max-w-xs mx-auto",children:"Date night, conversa profunda ou tempo de qualidade com quem importa."})]}),l.jsx("button",{onClick:I,className:`w-full font-medium py-3 rounded-xl transition-all flex items-center justify-center space-x-2 ${(b=m==null?void 0:m.value)!=null&&b.dateNight?"bg-dark-900 text-zinc-400 hover:bg-dark-800":"bg-red-600 hover:bg-red-500 text-white shadow-lg shadow-red-500/20"}`,children:(y=m==null?void 0:m.value)!=null&&y.dateNight?l.jsx(l.Fragment,{children:l.jsx("span",{children:"Desmarcar"})}):l.jsxs(l.Fragment,{children:[l.jsx(wt,{className:"h-5 w-5"}),l.jsx("span",{children:"Marcar como Feito"})]})})]})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:l.jsx(Md,{className:"h-5 w-5 text-purple-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Dirio Afetivo"})]}),((E=m==null?void 0:m.value)==null?void 0:E.journal)&&l.jsx(wt,{className:"h-5 w-5 text-green-500"})]}),l.jsx("div",{className:"p-6",children:(T=m==null?void 0:m.value)!=null&&T.journal?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-purple-500/10 mb-4",children:l.jsx(Md,{className:"h-8 w-8 text-purple-500"})}),l.jsx("h3",{className:"text-white font-medium mb-1",children:"Registro Salvo"}),l.jsxs("p",{className:"text-zinc-500 line-clamp-3 px-4 italic",children:['"',m.value.journal,'"']})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Notas sobre Relacionamentos"}),l.jsx("textarea",{value:c,onChange:A=>d(A.target.value),rows:4,className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none transition-all resize-none",placeholder:"Observaes, gratido ou pontos de melhoria..."})]}),l.jsxs("button",{onClick:g,disabled:!c,className:"w-full bg-purple-600 hover:bg-purple-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[l.jsx(Dr,{className:"h-4 w-4"}),l.jsx("span",{children:"Salvar Nota"})]})]})})]})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-medium text-white",children:"Consistncia Afetiva"}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-zinc-500",children:[l.jsx(ls,{className:"h-4 w-4"}),l.jsxs("span",{children:[ye(C,"dd/MM")," - ",ye(S,"dd/MM")]})]})]}),l.jsx("div",{className:"grid grid-cols-7 gap-2",children:k.map(A=>{var fe,q,W;const R=ye(A,"yyyy-MM-dd"),N=e.find(L=>L.date===R&&L.type==="affective"),ie=ln(A,new Date),te=(((fe=N==null?void 0:N.value)==null?void 0:fe.emotionalState)||0)>0||((q=N==null?void 0:N.value)==null?void 0:q.dateNight)||((W=N==null?void 0:N.value)==null?void 0:W.journal);return l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("span",{className:`text-xs ${ie?"text-white font-bold":"text-zinc-500"}`,children:ye(A,"EEE",{locale:aa}).slice(0,3)}),l.jsx("div",{className:`w-full aspect-square rounded-lg flex items-center justify-center border transition-all ${te?"bg-pink-500/20 border-pink-500/50 text-pink-400":"bg-dark-900 border-white/5 text-zinc-700"}`,children:te&&l.jsx(Wa,{className:"h-4 w-4"})})]},R)})})]})]})}function R6(){var C,S,k,x;const{user:t}=Hn(),{trackers:e,loadTrackers:n,saveTrackerValue:r}=mi(),[s,i]=U.useState(new Date),[a,o]=U.useState("");U.useEffect(()=>{t&&n(t.id)},[t,n]);const c=ye(s,"yyyy-MM-dd"),d=e.find(w=>w.date===c&&w.type==="sexuality"),h=async w=>{var P;if(!t)return;const j=((P=d==null?void 0:d.value)==null?void 0:P.practice)||"";await r(t.id,c,"sexuality",{completed:!0,energyLevel:w,practice:j,timestamp:new Date().toISOString()})},m=async()=>{var j;if(!t||!a)return;const w=((j=d==null?void 0:d.value)==null?void 0:j.energyLevel)||0;await r(t.id,c,"sexuality",{completed:!0,energyLevel:w,practice:a,timestamp:new Date().toISOString()}),o("")},p=pi(new Date,{weekStartsOn:1}),g=vi(new Date,{weekStartsOn:1}),I=gi({start:p,end:g});return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Sexualidade & Energia"}),l.jsx("p",{className:"text-zinc-400",children:"Transmute sua energia vital para criar e realizar."})]}),l.jsx("div",{className:"flex items-center space-x-2 bg-dark-850 p-1 rounded-lg border border-white/10",children:[-2,-1,0].map(w=>{const j=ia(new Date,Math.abs(w)),P=ln(j,s);return l.jsx("button",{onClick:()=>i(j),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${P?"bg-dark-700 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:w===0?"Hoje":ye(j,"dd/MM")},w)})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:l.jsx(dw,{className:"h-5 w-5 text-purple-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Nvel de Energia Vital"})]}),(((C=d==null?void 0:d.value)==null?void 0:C.energyLevel)||0)>0&&l.jsxs("div",{className:"flex items-center space-x-1 text-purple-500",children:[l.jsx("span",{className:"font-bold text-lg",children:(S=d==null?void 0:d.value)==null?void 0:S.energyLevel}),l.jsx("span",{className:"text-xs",children:"/10"})]})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("p",{className:"text-zinc-400 text-sm mb-6 text-center",children:"Como est sua vitalidade hoje? (1-10)"}),l.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5,6,7,8,9,10].map(w=>{var P;const j=((P=d==null?void 0:d.value)==null?void 0:P.energyLevel)===w;return l.jsx("button",{onClick:()=>h(w),className:`aspect-square rounded-lg font-medium transition-all ${j?"bg-purple-500 text-white shadow-lg shadow-purple-500/30":"bg-dark-900 text-zinc-500 hover:bg-dark-800 hover:text-purple-400"}`,children:w},w)})})]})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg",children:l.jsx(cp,{className:"h-5 w-5 text-red-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Prtica / Transmutao"})]}),((k=d==null?void 0:d.value)==null?void 0:k.practice)&&l.jsx(wt,{className:"h-5 w-5 text-green-500"})]}),l.jsx("div",{className:"p-6",children:(x=d==null?void 0:d.value)!=null&&x.practice?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-500/10 mb-4",children:l.jsx(cp,{className:"h-8 w-8 text-red-500"})}),l.jsx("h3",{className:"text-white font-medium mb-1",children:"Prtica Registrada"}),l.jsx("p",{className:"text-zinc-500",children:d.value.practice})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Tipo de Prtica"}),l.jsxs("select",{value:a,onChange:w=>o(w.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 outline-none transition-all",children:[l.jsx("option",{value:"",children:"Selecione..."}),l.jsx("option",{value:"Transmutao (Trabalho/Criatividade)",children:"Transmutao (Trabalho/Criatividade)"}),l.jsx("option",{value:"Reteno Seminal",children:"Reteno Seminal"}),l.jsx("option",{value:"Exerccios de Kegel",children:"Exerccios de Kegel"}),l.jsx("option",{value:"Conexo ntima",children:"Conexo ntima"}),l.jsx("option",{value:"Outro",children:"Outro"})]})]}),l.jsxs("button",{onClick:m,disabled:!a,className:"w-full bg-red-600 hover:bg-red-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[l.jsx(Dr,{className:"h-4 w-4"}),l.jsx("span",{children:"Registrar"})]})]})})]})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-medium text-white",children:"Consistncia"}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-zinc-500",children:[l.jsx(ls,{className:"h-4 w-4"}),l.jsxs("span",{children:[ye(p,"dd/MM")," - ",ye(g,"dd/MM")]})]})]}),l.jsx("div",{className:"grid grid-cols-7 gap-2",children:I.map(w=>{var y,E;const j=ye(w,"yyyy-MM-dd"),P=e.find(T=>T.date===j&&T.type==="sexuality"),O=ln(w,new Date),b=(((y=P==null?void 0:P.value)==null?void 0:y.energyLevel)||0)>0||((E=P==null?void 0:P.value)==null?void 0:E.practice);return l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("span",{className:`text-xs ${O?"text-white font-bold":"text-zinc-500"}`,children:ye(w,"EEE",{locale:aa}).slice(0,3)}),l.jsx("div",{className:`w-full aspect-square rounded-lg flex items-center justify-center border transition-all ${b?"bg-purple-500/20 border-purple-500/50 text-purple-400":"bg-dark-900 border-white/5 text-zinc-700"}`,children:b&&l.jsx(dw,{className:"h-4 w-4"})})]},j)})})]})]})}function P6(){var k,x,w,j,P;const{user:t}=Hn(),{trackers:e,loadTrackers:n,saveTrackerValue:r}=mi(),[s,i]=U.useState(new Date),[a,o]=U.useState(""),[c,d]=U.useState(["Acordar cedo","Leitura","Treino","Meditao"]);U.useEffect(()=>{t&&n(t.id)},[t,n]);const h=ye(s,"yyyy-MM-dd"),m=e.find(O=>O.date===h&&O.type==="habits"),p=async O=>{var A;if(!t)return;const b=((A=m==null?void 0:m.value)==null?void 0:A.completedHabits)||[],y=b.includes(O);let E;y?E=b.filter(R=>R!==O):E=[...b,O];const T=Math.round(E.length/c.length*100);await r(t.id,h,"habits",{completed:!0,completedHabits:E,adherence:T,timestamp:new Date().toISOString()})},g=()=>{a&&!c.includes(a)&&(d([...c,a]),o(""))},I=pi(new Date,{weekStartsOn:1}),C=vi(new Date,{weekStartsOn:1}),S=gi({start:I,end:C});return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Disciplina & Rotina"}),l.jsx("p",{className:"text-zinc-400",children:"A liberdade vem da disciplina inegocivel."})]}),l.jsx("div",{className:"flex items-center space-x-2 bg-dark-850 p-1 rounded-lg border border-white/10",children:[-2,-1,0].map(O=>{const b=ia(new Date,Math.abs(O)),y=ln(b,s);return l.jsx("button",{onClick:()=>i(b),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${y?"bg-dark-700 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:O===0?"Hoje":ye(b,"dd/MM")},O)})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:l.jsx(z5,{className:"h-5 w-5 text-emerald-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Checklist Dirio"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm text-zinc-400",children:"Aderncia:"}),l.jsxs("span",{className:`font-bold ${(((k=m==null?void 0:m.value)==null?void 0:k.adherence)||0)>=80?"text-green-500":(((x=m==null?void 0:m.value)==null?void 0:x.adherence)||0)>=50?"text-yellow-500":"text-red-500"}`,children:[((w=m==null?void 0:m.value)==null?void 0:w.adherence)||0,"%"]})]})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"space-y-3 mb-6",children:c.map(O=>{var y,E;const b=(E=(y=m==null?void 0:m.value)==null?void 0:y.completedHabits)==null?void 0:E.includes(O);return l.jsxs("button",{onClick:()=>p(O),className:`w-full p-4 rounded-xl border text-left transition-all flex items-center justify-between group ${b?"bg-emerald-500/10 border-emerald-500/50 text-white":"bg-dark-900 border-white/5 text-zinc-400 hover:bg-dark-800"}`,children:[l.jsx("span",{className:b?"":"group-hover:text-zinc-300",children:O}),l.jsx("div",{className:`w-6 h-6 rounded-full border flex items-center justify-center transition-all ${b?"bg-emerald-500 border-emerald-500 text-white":"border-zinc-600 group-hover:border-zinc-500"}`,children:b&&l.jsx(wt,{className:"h-4 w-4"})})]},O)})}),l.jsxs("div",{className:"flex items-center space-x-2 pt-4 border-t border-white/5",children:[l.jsx("input",{type:"text",value:a,onChange:O=>o(O.target.value),placeholder:"Adicionar novo hbito...",className:"flex-1 bg-dark-900 border border-white/10 rounded-lg px-4 py-2 text-sm text-white focus:ring-1 focus:ring-emerald-500/50 outline-none",onKeyPress:O=>O.key==="Enter"&&g()}),l.jsx("button",{onClick:g,disabled:!a,className:"p-2 bg-dark-800 hover:bg-dark-700 rounded-lg text-zinc-400 hover:text-white transition-colors disabled:opacity-50",children:l.jsx(Dr,{className:"h-5 w-5"})})]})]})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:l.jsx(Tv,{className:"h-5 w-5 text-blue-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Rotina"})]})}),l.jsxs("div",{className:"p-6 text-center",children:[l.jsxs("div",{className:"relative inline-flex items-center justify-center mb-4",children:[l.jsxs("svg",{className:"w-32 h-32",children:[l.jsx("circle",{className:"text-dark-800",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"58",cx:"64",cy:"64"}),l.jsx("circle",{className:"text-emerald-500",strokeWidth:"8",strokeDasharray:365,strokeDashoffset:365-365*(((j=m==null?void 0:m.value)==null?void 0:j.adherence)||0)/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"58",cx:"64",cy:"64",style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:"stroke-dashoffset 0.5s ease"}})]}),l.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center",children:[l.jsxs("span",{className:"text-3xl font-bold text-white",children:[((P=m==null?void 0:m.value)==null?void 0:P.adherence)||0,"%"]}),l.jsx("span",{className:"block text-xs text-zinc-500 uppercase tracking-wider",children:"Hoje"})]})]}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"Mantenha a consistncia para construir uma vida extraordinria."})]})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg",children:l.jsx(up,{className:"h-5 w-5 text-amber-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Foco"})]})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-white font-medium mb-1",children:"Objetivo Principal"}),l.jsx("p",{className:"text-zinc-500 text-sm italic mb-4",children:'"No negocie com sua mente."'}),l.jsx("div",{className:"w-full bg-dark-900 rounded-lg p-3 text-zinc-400 text-sm border border-white/5",children:"Completar todos os hbitos por 7 dias seguidos."})]})})]})]})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-medium text-white",children:"Consistncia Disciplinar"}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-zinc-500",children:[l.jsx(ls,{className:"h-4 w-4"}),l.jsxs("span",{children:[ye(I,"dd/MM")," - ",ye(C,"dd/MM")]})]})]}),l.jsx("div",{className:"grid grid-cols-7 gap-2",children:S.map(O=>{var A;const b=ye(O,"yyyy-MM-dd"),y=e.find(R=>R.date===b&&R.type==="habits"),E=ln(O,new Date),T=((A=y==null?void 0:y.value)==null?void 0:A.adherence)||0;return l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("span",{className:`text-xs ${E?"text-white font-bold":"text-zinc-500"}`,children:ye(O,"EEE",{locale:aa}).slice(0,3)}),l.jsx("div",{className:`w-full aspect-square rounded-lg flex items-center justify-center border transition-all ${T>0?T>=80?"bg-emerald-500/20 border-emerald-500/50 text-emerald-400":T>=50?"bg-yellow-500/20 border-yellow-500/50 text-yellow-400":"bg-red-500/20 border-red-500/50 text-red-400":"bg-dark-900 border-white/5 text-zinc-700"}`,children:T>0&&l.jsxs("span",{className:"text-xs font-bold",children:[T,"%"]})})]},b)})})]})]})}function j6(){var w,j,P,O,b,y,E,T,A,R,N,ie,te,fe;const{user:t}=Hn(),{trackers:e,loadTrackers:n,saveTrackerValue:r}=mi(),[s,i]=U.useState(new Date),[a,o]=U.useState(""),[c,d]=U.useState(""),[h,m]=U.useState("");U.useEffect(()=>{t&&n(t.id)},[t,n]);const p=ye(s,"yyyy-MM-dd"),g=e.find(q=>q.date===p&&q.type==="career"),I=async()=>{var L,Y;if(!t||!c)return;const q=((L=g==null?void 0:g.value)==null?void 0:L.networkingContacts)||[],W=a||((Y=g==null?void 0:g.value)==null?void 0:Y.financialGoal)||0;await r(t.id,p,"career",{completed:!0,financialGoal:parseFloat(W.toString()),currentAmount:parseFloat(c),networkingContacts:q,timestamp:new Date().toISOString()}),d("")},C=async()=>{var Y,le,se;if(!t||!h)return;const q=((Y=g==null?void 0:g.value)==null?void 0:Y.networkingContacts)||[],W=((le=g==null?void 0:g.value)==null?void 0:le.financialGoal)||0,L=((se=g==null?void 0:g.value)==null?void 0:se.currentAmount)||0;await r(t.id,p,"career",{completed:!0,financialGoal:W,currentAmount:L,networkingContacts:[...q,h],timestamp:new Date().toISOString()}),m("")},S=pi(new Date,{weekStartsOn:1}),k=vi(new Date,{weekStartsOn:1}),x=gi({start:S,end:k});return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Propsito de Vida"}),l.jsx("p",{className:"text-zinc-400",children:"Construa seu imprio e expanda sua influncia."})]}),l.jsx("div",{className:"flex items-center space-x-2 bg-dark-850 p-1 rounded-lg border border-white/10",children:[-2,-1,0].map(q=>{const W=ia(new Date,Math.abs(q)),L=ln(W,s);return l.jsx("button",{onClick:()=>i(W),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${L?"bg-dark-700 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:q===0?"Hoje":ye(W,"dd/MM")},q)})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-cyan-500/10 rounded-lg",children:l.jsx(B5,{className:"h-5 w-5 text-cyan-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Metas Financeiras"})]}),(((w=g==null?void 0:g.value)==null?void 0:w.currentAmount)||0)>0&&l.jsxs("div",{className:"flex items-center space-x-1 text-cyan-500",children:[l.jsx(sM,{className:"h-4 w-4"}),l.jsxs("span",{className:"font-bold",children:["R$ ",(j=g==null?void 0:g.value)==null?void 0:j.currentAmount]})]})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Progresso Mensal"}),l.jsxs("span",{className:"text-white font-medium",children:[Math.round((((P=g==null?void 0:g.value)==null?void 0:P.currentAmount)||0)/(((O=g==null?void 0:g.value)==null?void 0:O.financialGoal)||1e4)*100),"%"]})]}),l.jsx("div",{className:"w-full bg-dark-900 h-2 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-cyan-500 rounded-full transition-all duration-500",style:{width:`${Math.min(100,(((b=g==null?void 0:g.value)==null?void 0:b.currentAmount)||0)/(((y=g==null?void 0:g.value)==null?void 0:y.financialGoal)||1e4)*100)}%`}})})]}),l.jsxs("div",{className:"space-y-4",children:[!((E=g==null?void 0:g.value)!=null&&E.financialGoal)&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Meta Mensal (R$)"}),l.jsx("input",{type:"number",value:a,onChange:q=>o(q.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 outline-none transition-all",placeholder:"Ex: 10000"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Faturamento Hoje (R$)"}),l.jsx("input",{type:"number",value:c,onChange:q=>d(q.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 outline-none transition-all",placeholder:"Ex: 500"})]}),l.jsxs("button",{onClick:I,disabled:!c,className:"w-full bg-cyan-600 hover:bg-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[l.jsx(Dr,{className:"h-4 w-4"}),l.jsx("span",{children:"Registrar Entrada"})]})]})]})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-indigo-500/10 rounded-lg",children:l.jsx(ic,{className:"h-5 w-5 text-indigo-400"})}),l.jsx("h2",{className:"font-semibold text-white",children:"Networking"})]}),(((A=(T=g==null?void 0:g.value)==null?void 0:T.networkingContacts)==null?void 0:A.length)||0)>0&&l.jsxs("div",{className:"flex items-center space-x-1 text-indigo-500",children:[l.jsx("span",{className:"font-bold",children:(N=(R=g==null?void 0:g.value)==null?void 0:R.networkingContacts)==null?void 0:N.length}),l.jsx("span",{className:"text-xs uppercase",children:"contatos"})]})]}),l.jsxs("div",{className:"p-6",children:[(((te=(ie=g==null?void 0:g.value)==null?void 0:ie.networkingContacts)==null?void 0:te.length)||0)>0&&l.jsxs("div",{className:"mb-6 space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-zinc-400",children:"Contatos de Hoje:"}),(fe=g==null?void 0:g.value)==null?void 0:fe.networkingContacts.map((q,W)=>l.jsxs("div",{className:"flex items-center space-x-2 text-white bg-dark-900 p-2 rounded-lg border border-white/5",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),l.jsx("span",{children:q})]},W))]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Novo Contato / Conexo"}),l.jsx("input",{type:"text",value:h,onChange:q=>m(q.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 outline-none transition-all",placeholder:"Nome ou empresa..."})]}),l.jsxs("button",{onClick:C,disabled:!h,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[l.jsx(Dr,{className:"h-4 w-4"}),l.jsx("span",{children:"Adicionar Contato"})]})]})]})]})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-medium text-white",children:"Consistncia Profissional"}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-zinc-500",children:[l.jsx(ls,{className:"h-4 w-4"}),l.jsxs("span",{children:[ye(S,"dd/MM")," - ",ye(k,"dd/MM")]})]})]}),l.jsx("div",{className:"grid grid-cols-7 gap-2",children:x.map(q=>{var se,he,Te;const W=ye(q,"yyyy-MM-dd"),L=e.find(De=>De.date===W&&De.type==="career"),Y=ln(q,new Date),le=(((se=L==null?void 0:L.value)==null?void 0:se.currentAmount)||0)>0||(((Te=(he=L==null?void 0:L.value)==null?void 0:he.networkingContacts)==null?void 0:Te.length)||0)>0;return l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("span",{className:`text-xs ${Y?"text-white font-bold":"text-zinc-500"}`,children:ye(q,"EEE",{locale:aa}).slice(0,3)}),l.jsx("div",{className:`w-full aspect-square rounded-lg flex items-center justify-center border transition-all ${le?"bg-cyan-500/20 border-cyan-500/50 text-cyan-400":"bg-dark-900 border-white/5 text-zinc-700"}`,children:le&&l.jsx(hT,{className:"h-4 w-4"})})]},W)})})]})]})}function D6(){const[t,e]=U.useState("active"),n={title:"Protocolo Espartano",description:"30 dias de disciplina inegocivel. Banho gelado, treino dirio e leitura.",startDate:new Date(new Date().setDate(1)),endDate:gT(new Date(new Date().setDate(1)),30),participants:1240,myProgress:12,totalDays:30,tasks:[{id:1,title:"Banho Gelado (3min)",completed:!0},{id:2,title:"Sem Acar",completed:!0},{id:3,title:"Leitura (20 pg)",completed:!1},{id:4,title:"Treino de Fora",completed:!1}]},r=[{rank:1,name:"Alexandre G.",points:15400,avatar:"A",trend:"up"},{rank:2,name:"Ricardo M.",points:14200,avatar:"R",trend:"same"},{rank:3,name:"Felipe S.",points:13850,avatar:"F",trend:"up"},{rank:4,name:"Voc",points:12100,avatar:"V",trend:"up"},{rank:5,name:"Joo P.",points:11900,avatar:"J",trend:"down"}],s=$M(n.endDate,new Date),i=Math.round(n.myProgress/n.totalDays*100);return l.jsxs("div",{className:"space-y-8",children:[l.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Desafios & Conquistas"}),l.jsx("p",{className:"text-zinc-400",children:"Supere seus limites e prove seu valor."})]})}),l.jsxs("div",{className:"flex space-x-1 bg-dark-850 p-1 rounded-xl border border-white/10 w-fit",children:[l.jsx("button",{onClick:()=>e("active"),className:`px-6 py-2.5 rounded-lg text-sm font-medium transition-all ${t==="active"?"bg-dark-700 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,children:"Desafio Ativo"}),l.jsx("button",{onClick:()=>e("leaderboard"),className:`px-6 py-2.5 rounded-lg text-sm font-medium transition-all ${t==="leaderboard"?"bg-dark-700 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,children:"Ranking"})]}),t==="active"?l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2 space-y-6",children:l.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/20 to-dark-850 rounded-2xl border border-yellow-500/20 overflow-hidden relative",children:[l.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:l.jsx(pT,{className:"h-48 w-48 text-yellow-500"})}),l.jsxs("div",{className:"p-8 relative z-10",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"px-3 py-1 rounded-full bg-yellow-500/20 text-yellow-400 text-xs font-bold uppercase tracking-wider border border-yellow-500/20",children:"Mensal"}),l.jsxs("div",{className:"flex items-center text-zinc-400 text-sm",children:[l.jsx(ls,{className:"h-4 w-4 mr-1"}),l.jsxs("span",{children:["Termina em ",s," dias"]})]})]}),l.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:n.title}),l.jsx("p",{className:"text-zinc-300 mb-8 max-w-xl leading-relaxed",children:n.description}),l.jsxs("div",{className:"space-y-2 mb-8",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-zinc-400",children:"Seu Progresso"}),l.jsxs("span",{className:"text-white font-medium",children:[i,"%"]})]}),l.jsx("div",{className:"w-full bg-dark-900 h-3 rounded-full overflow-hidden border border-white/5",children:l.jsx("div",{className:"h-full bg-yellow-500 rounded-full transition-all duration-500 shadow-[0_0_15px_rgba(234,179,8,0.3)]",style:{width:`${i}%`}})}),l.jsxs("div",{className:"flex justify-between text-xs text-zinc-500 mt-1",children:[l.jsxs("span",{children:["Dia ",n.myProgress]}),l.jsxs("span",{children:["Meta: ",n.totalDays," dias"]})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.tasks.map(a=>l.jsxs("div",{className:`p-4 rounded-xl border transition-all flex items-center justify-between ${a.completed?"bg-yellow-500/10 border-yellow-500/30 text-white":"bg-dark-900 border-white/5 text-zinc-400"}`,children:[l.jsx("span",{className:"font-medium",children:a.title}),a.completed?l.jsx(wt,{className:"h-5 w-5 text-yellow-500"}):l.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-zinc-600"})]},a.id))})]})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Suas Conquistas"}),l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(a=>l.jsxs("div",{className:"aspect-square rounded-xl bg-dark-900 border border-white/5 flex flex-col items-center justify-center p-2 group hover:border-yellow-500/30 transition-all cursor-pointer",children:[l.jsx(G5,{className:`h-8 w-8 mb-2 ${a<=3?"text-yellow-500":"text-zinc-700"}`}),l.jsx("span",{className:`text-[10px] text-center ${a<=3?"text-white":"text-zinc-600"}`,children:a<=3?"Conquistado":"Bloqueado"})]},a))})]}),l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Participantes"}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex -space-x-2",children:[[1,2,3,4].map(a=>l.jsx("div",{className:"w-8 h-8 rounded-full bg-dark-700 border border-dark-850 flex items-center justify-center text-xs text-zinc-400",children:String.fromCharCode(64+a)},a)),l.jsx("div",{className:"w-8 h-8 rounded-full bg-dark-800 border border-dark-850 flex items-center justify-center text-xs text-zinc-500",children:"+"})]}),l.jsxs("span",{className:"text-sm text-zinc-400",children:[n.participants," ativos"]})]}),l.jsx("button",{className:"w-full py-3 rounded-xl bg-white/5 hover:bg-white/10 text-white text-sm font-medium transition-all",children:"Convidar Amigo"})]})]})]}):l.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Ranking Global"}),l.jsx("p",{className:"text-zinc-400 text-sm mt-1",children:"Os mais disciplinados da comunidade."})]}),l.jsx("div",{className:"divide-y divide-white/5",children:r.map(a=>l.jsxs("div",{className:`p-4 flex items-center justify-between hover:bg-white/5 transition-colors ${a.name==="Voc"?"bg-yellow-500/5":""}`,children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:`w-8 h-8 flex items-center justify-center font-bold rounded-lg ${a.rank===1?"bg-yellow-500 text-black":a.rank===2?"bg-zinc-400 text-black":a.rank===3?"bg-orange-700 text-white":"bg-dark-800 text-zinc-500"}`,children:a.rank}),l.jsx("div",{className:"w-10 h-10 rounded-full bg-dark-700 flex items-center justify-center text-zinc-300 font-medium",children:a.avatar}),l.jsxs("div",{children:[l.jsx("div",{className:`font-medium ${a.name==="Voc"?"text-yellow-500":"text-white"}`,children:a.name}),l.jsx("div",{className:"text-xs text-zinc-500",children:"Nvel Elite"})]})]}),l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-white font-mono font-medium",children:a.points.toLocaleString()}),l.jsx("div",{className:"text-xs text-zinc-500",children:"XP"})]}),a.trend==="up"&&l.jsx(lp,{className:"h-4 w-4 text-green-500"}),a.trend==="down"&&l.jsx(lp,{className:"h-4 w-4 text-red-500 rotate-180"}),a.trend==="same"&&l.jsx("div",{className:"w-4 h-0.5 bg-zinc-600"})]})]},a.rank))})]})]})}function O6(){return l.jsxs(l.Fragment,{children:[l.jsxs(F2,{children:[l.jsx(ot,{path:"/",element:l.jsx(au,{to:"/app/dashboard",replace:!0})}),l.jsx(ot,{path:"/login",element:l.jsx(au,{to:"/app/dashboard"})}),l.jsx(ot,{path:"/register",element:l.jsx(au,{to:"/app/dashboard"})}),l.jsx(ot,{path:"/onboarding",element:l.jsx(c3,{})}),l.jsxs(ot,{path:"/app",element:l.jsx(DM,{}),children:[l.jsx(ot,{index:!0,element:l.jsx(au,{to:"/app/dashboard"})}),l.jsx(ot,{path:"dashboard",element:l.jsx(sL,{})}),l.jsx(ot,{path:"corpo",element:l.jsx(N6,{})}),l.jsx(ot,{path:"mente",element:l.jsx(I6,{})}),l.jsx(ot,{path:"postura",element:l.jsx(C6,{})}),l.jsx(ot,{path:"vida-afetiva",element:l.jsx(A6,{})}),l.jsx(ot,{path:"sexualidade",element:l.jsx(R6,{})}),l.jsx(ot,{path:"disciplina",element:l.jsx(P6,{})}),l.jsx(ot,{path:"carreira",element:l.jsx(j6,{})}),l.jsx(ot,{path:"challenges",element:l.jsx(D6,{})}),l.jsx(ot,{path:"content",element:l.jsx(y3,{})}),l.jsx(ot,{path:"community",element:l.jsx(m3,{})}),l.jsx(ot,{path:"pricing",element:l.jsx(X3,{})}),l.jsx(ot,{path:"settings",element:l.jsx(h3,{})}),l.jsx(ot,{path:"profile",element:l.jsx(u3,{})}),l.jsx(ot,{path:"general-settings",element:l.jsx(d3,{})})]})]}),l.jsx(PM,{position:"top-right",expand:!0,richColors:!0,closeButton:!0,duration:4e3,theme:"dark",toastOptions:{style:{background:"#1a1a1a",border:"1px solid rgba(255, 255, 255, 0.1)",color:"#e5e5e5"}}})]})}zf.createRoot(document.getElementById("root")).render(l.jsx($.StrictMode,{children:l.jsx(G2,{children:l.jsx(O6,{})})}));
//# sourceMappingURL=index-P_JYpZks.js.map
